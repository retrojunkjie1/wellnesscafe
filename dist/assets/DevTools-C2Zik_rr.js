import{r as a,j as e}from"./react-vendor-C2vFB_vl.js";import"./ai-engine-JLcQPJPS.js";import"./core-libs-c5XOvvj3.js";import"./ui-heavy-C7pdA4pD.js";const j="http://127.0.0.1:11434";async function O(s,o,m={}){try{const r=await fetch(`${j}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:s,prompt:o,stream:!1,...m})});if(!r.ok)throw new Error(`Ollama API error: ${r.status} ${r.statusText}`);return(await r.json()).response}catch(r){throw console.error("Ollama generation error:",r),r}}async function z(s,o,m,r={}){try{const c=await fetch(`${j}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:s,prompt:o,stream:!0,...r})});if(!c.ok)throw new Error(`Ollama API error: ${c.status} ${c.statusText}`);const g=c.body.getReader(),l=new TextDecoder;for(;;){const{done:p,value:i}=await g.read();if(p)break;const u=l.decode(i).split(`
`).filter(n=>n.trim());for(const n of u)try{const h=JSON.parse(n);if(h.response&&m(h.response),h.done)return}catch{}}}catch(c){throw console.error("Ollama streaming error:",c),c}}async function Q(){try{return(await fetch(`${j}/api/version`,{method:"GET"})).ok}catch{return!1}}async function Y(){try{const s=await fetch(`${j}/api/tags`,{method:"GET"});if(!s.ok)throw new Error(`Ollama API error: ${s.status} ${s.statusText}`);return(await s.json()).models||[]}catch(s){return console.error("Error listing models:",s),[]}}async function _(s){const o=`Generate a clean Firestore schema in JavaScript for the following requirement:

${s}

Requirements:
- Use proper Firestore data types
- Include field validation rules
- Add JSDoc comments
- Export as a schema object
- Include example usage

Return ONLY the code, no explanations.`;return await O("deepseek-coder:6.7b",o)}async function B(s,o){const m=`Here's some code:

\`\`\`
${s}
\`\`\`

Question: ${o}

Please provide a clear, concise answer.`;return await O("deepseek-coder:6.7b",m)}async function K(s){const o=`Generate a clean, modern React functional component for:

${s}

Requirements:
- Use React hooks (useState, useEffect as needed)
- Include PropTypes validation
- Add CSS-in-JS or className references
- Follow React best practices
- Include JSDoc comments

Return ONLY the code, no explanations.`;return await O("deepseek-coder:6.7b",o)}const ee=()=>{const[s,o]=a.useState(!1),[m,r]=a.useState([]),[c,g]=a.useState("deepseek-coder:6.7b"),[l,p]=a.useState("schema"),[i,d]=a.useState(!1),[u,n]=a.useState(""),[h,P]=a.useState(""),[v,A]=a.useState(""),[f,$]=a.useState(""),[C,G]=a.useState(""),[y,D]=a.useState(""),[S,H]=a.useState(""),[w,R]=a.useState(""),[b,J]=a.useState(""),[N,I]=a.useState(""),[L,T]=a.useState(!1);a.useEffect(()=>{E()},[]);const E=async()=>{try{const t=await Q();if(o(t),t){const k=await Y();r(k)}}catch(t){console.error("Error checking Ollama:",t),o(!1)}},q=async()=>{if(!h.trim()){n("Please enter a schema description");return}d(!0),n(""),A("");try{const t=await _(h);A(t)}catch(t){n(t.message)}finally{d(!1)}},F=async()=>{if(!f.trim()){n("Please enter a component description");return}d(!0),n(""),G("");try{const t=await K(f);G(t)}catch(t){n(t.message)}finally{d(!1)}},M=async()=>{if(!y.trim()||!S.trim()){n("Please enter both code and question");return}d(!0),n(""),R("");try{const t=await B(y,S);R(t)}catch(t){n(t.message)}finally{d(!1)}},U=async()=>{if(!b.trim()){n("Please enter a prompt");return}d(!0),T(!0),n(""),I("");try{let t="";await z(c,b,k=>{t+=k,I(t)})}catch(t){n(t.message)}finally{d(!1),T(!1)}},x=t=>{navigator.clipboard.writeText(t)};return s?e.jsxs("div",{className:"dev-tools",children:[e.jsxs("div",{className:"dev-tools-header",children:[e.jsx("h1",{children:"ğŸ› ï¸ Developer Tools"}),e.jsxs("div",{className:"model-selector",children:[e.jsx("label",{children:"Model:"}),e.jsx("select",{value:c,onChange:t=>g(t.target.value),children:m.map(t=>e.jsx("option",{value:t.name,children:t.name},t.name))}),e.jsx("span",{className:"status-indicator",children:"â— Online"})]})]}),e.jsxs("div",{className:"dev-tools-tabs",children:[e.jsx("button",{className:l==="schema"?"active":"",onClick:()=>p("schema"),children:"ğŸ“Š Firestore Schema"}),e.jsx("button",{className:l==="component"?"active":"",onClick:()=>p("component"),children:"âš›ï¸ React Component"}),e.jsx("button",{className:l==="help"?"active":"",onClick:()=>p("help"),children:"ğŸ’¡ Code Help"}),e.jsx("button",{className:l==="chat"?"active":"",onClick:()=>p("chat"),children:"ğŸ’¬ Custom Chat"})]}),u&&e.jsx("div",{className:"dev-tools-error-msg",children:u}),e.jsxs("div",{className:"dev-tools-content",children:[l==="schema"&&e.jsxs("div",{className:"tool-panel",children:[e.jsx("h2",{children:"Generate Firestore Schema"}),e.jsx("textarea",{placeholder:"Describe your schema (e.g., 'User meditation progress with sessions, timestamps, and mood ratings')",value:h,onChange:t=>P(t.target.value),rows:4}),e.jsx("button",{onClick:q,disabled:i,children:i?"Generating...":"Generate Schema"}),v&&e.jsxs("div",{className:"output-panel",children:[e.jsxs("div",{className:"output-header",children:[e.jsx("h3",{children:"Generated Schema"}),e.jsx("button",{onClick:()=>x(v),children:"ğŸ“‹ Copy"})]}),e.jsx("pre",{children:v})]})]}),l==="component"&&e.jsxs("div",{className:"tool-panel",children:[e.jsx("h2",{children:"Generate React Component"}),e.jsx("textarea",{placeholder:"Describe your component (e.g., 'A card that displays meditation statistics with progress bars')",value:f,onChange:t=>$(t.target.value),rows:4}),e.jsx("button",{onClick:F,disabled:i,children:i?"Generating...":"Generate Component"}),C&&e.jsxs("div",{className:"output-panel",children:[e.jsxs("div",{className:"output-header",children:[e.jsx("h3",{children:"Generated Component"}),e.jsx("button",{onClick:()=>x(C),children:"ğŸ“‹ Copy"})]}),e.jsx("pre",{children:C})]})]}),l==="help"&&e.jsxs("div",{className:"tool-panel",children:[e.jsx("h2",{children:"Get Coding Help"}),e.jsx("textarea",{placeholder:"Paste your code here...",value:y,onChange:t=>D(t.target.value),rows:6}),e.jsx("textarea",{placeholder:"Ask a question about the code (e.g., 'Is there a memory leak? How can I optimize this?')",value:S,onChange:t=>H(t.target.value),rows:2}),e.jsx("button",{onClick:M,disabled:i,children:i?"Analyzing...":"Get Help"}),w&&e.jsxs("div",{className:"output-panel",children:[e.jsxs("div",{className:"output-header",children:[e.jsx("h3",{children:"Answer"}),e.jsx("button",{onClick:()=>x(w),children:"ğŸ“‹ Copy"})]}),e.jsx("pre",{children:w})]})]}),l==="chat"&&e.jsxs("div",{className:"tool-panel",children:[e.jsx("h2",{children:"Custom AI Chat"}),e.jsx("textarea",{placeholder:"Enter any prompt for the AI model...",value:b,onChange:t=>J(t.target.value),rows:4}),e.jsx("button",{onClick:U,disabled:i,children:i?"Streaming...":"Send"}),N&&e.jsxs("div",{className:"output-panel",children:[e.jsxs("div",{className:"output-header",children:[e.jsxs("h3",{children:["Response ",L&&"(streaming...)"]}),e.jsx("button",{onClick:()=>x(N),children:"ğŸ“‹ Copy"})]}),e.jsx("pre",{children:N})]})]})]})]}):e.jsx("div",{className:"dev-tools",children:e.jsxs("div",{className:"dev-tools-error",children:[e.jsx("h2",{children:"âš ï¸ Ollama Not Running"}),e.jsx("p",{children:"Please start Ollama to use developer tools:"}),e.jsx("code",{children:"brew services start ollama"}),e.jsx("button",{onClick:E,children:"Retry Connection"})]})})};export{ee as default};

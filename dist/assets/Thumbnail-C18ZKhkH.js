const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/core-libs-CRuXokP_.js","assets/react-vendor-DQKasmcJ.js","assets/ai-engine-BvKxDwCC.js","assets/ui-heavy-yHDudVwC.js","assets/ai-engine-BQSxPaH7.css","assets/react-vendor-DOnzI3fN.css"])))=>i.map(i=>d[i]);
import{_ as w,P as n}from"./ai-engine-BvKxDwCC.js";import{r as p,j as c}from"./react-vendor-DQKasmcJ.js";const o="/images/naaa.jpg",x=r=>/^https?:\/\//i.test(r||""),L=r=>String(r||"").startsWith("/"),d=r=>{if(!r)return o;let t=String(r).trim();return/^http:\/\//i.test(t)&&(t=t.replace(/^http:\/\//i,"https://")),!x(t)&&!L(t)&&(t=`/${t.replace(/^\.\//,"")}`),t},j=({src:r,alt:t,className:l="",onClick:g,role:S})=>{const[a,s]=p.useState(()=>d(r));p.useEffect(()=>{const e=String(r||"");if(/^gs:\/\//i.test(e)){(async()=>{try{const i=await w(()=>import("./core-libs-CRuXokP_.js").then(E=>E.am),__vite__mapDeps([0,1,2,3,4,5])),{getStorage:f,ref:h,getDownloadURL:b}=i,u=f?.();if(!u){s(o);return}const _=h(u,e),y=await b(_);s(y)}catch(i){console.warn("thumbnail gs:// resolve failed",i),s(o)}})();return}s(d(r))},[r]);const m=e=>{a!==o&&s(o)};if(g){const e=t?{"aria-label":t}:{};return c.jsx("button",{type:"button",className:`wc-thumb-btn ${l}`,onClick:g,...e,children:c.jsx("img",{src:a,alt:t||"",onError:m,className:"wc-thumb",loading:"lazy",decoding:"async"})})}return c.jsx("img",{src:a,alt:t||"",onError:m,className:`wc-thumb ${l}`,loading:"lazy",decoding:"async"})};j.propTypes={src:n.string,alt:n.string,className:n.string,onClick:n.func,role:n.string};export{j as T};

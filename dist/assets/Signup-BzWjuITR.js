import{r as t,u as S,j as e}from"./react-vendor-DQKasmcJ.js";import{u as N}from"./ai-engine-BvKxDwCC.js";import"./index-DZO6R_fI.js";import"./core-libs-CRuXokP_.js";import"./ui-heavy-yHDudVwC.js";function A(){const[d,p]=t.useState(""),[i,v]=t.useState(""),[c,x]=t.useState(""),[u,s]=t.useState(""),[n,o]=t.useState(!1),{register:b,loginWithGoogle:j,authEnabled:l}=N(),h=S(),w=async a=>{if(a.preventDefault(),s(""),i!==c){s("Passwords do not match.");return}o(!0);try{await b(d,i,{role:"user"}),h("/dashboard")}catch(r){console.error("Signup error:",r);const m=r?.code||r?.message||"unknown",g={"auth/email-already-in-use":"That email is already in use.","auth/invalid-email":"Please enter a valid email address.","auth/weak-password":"Please choose a stronger password (min 6 characters).","auth/network-request-failed":"Network error. Check your connection and try again.","auth-disabled":"Signups are temporarily unavailable."},y=g[m]||(String(m).includes("auth-disabled")?g["auth-disabled"]:null);s(y||"Failed to create account. Please try again.")}o(!1)},f=async()=>{s(""),o(!0);try{await j(),h("/dashboard")}catch(a){console.error("Google signup error:",a);const r=a?.code||a?.message||"unknown";s(String(r).includes("auth-disabled")?"Signups are temporarily unavailable.":"Failed to sign up with Google.")}o(!1)};return e.jsx("div",{className:"auth-container",children:e.jsxs("div",{className:"auth-card",children:[e.jsx("h2",{children:"Join WellnessCafe"}),e.jsx("p",{children:"Create your account to connect with certified facilitators and access personalized recovery tools."}),!l&&e.jsx("output",{className:"error-message",children:"Signups are temporarily unavailable on this build. You can still explore a live preview of the Provider Dashboard below."}),u&&e.jsx("div",{className:"error-message",children:u}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:d,onChange:a=>p(a.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:i,onChange:a=>v(a.target.value),required:!0,minLength:"6"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:c,onChange:a=>x(a.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"auth-button",disabled:n||!l,children:n?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"divider",children:e.jsx("span",{children:"or"})}),e.jsxs("button",{onClick:f,className:"google-button",disabled:n||!l,children:[e.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google"}),e.jsx("span",{style:{marginLeft:8},children:"Sign up with Google"})]}),e.jsxs("p",{className:"auth-link",children:["Already have an account? ",e.jsx("a",{href:"/login",children:"Sign in"})]}),e.jsx("div",{className:"divider",children:e.jsx("span",{children:"or"})}),e.jsx("a",{href:"/providers/dashboard/preview",className:"auth-button",style:{display:"inline-block",textAlign:"center"},children:"Preview Provider Dashboard"})]})})}export{A as default};

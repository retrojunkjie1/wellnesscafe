import{r as f,j as t,C as ue,u as he}from"./react-vendor-B5xUu9wX.js";import{u as R,d as k,P as me,a as K}from"./ai-engine-BQFxlMsO.js";import{t as fe,c as I,k as ge,d as pe,q as _,u as xe,w as Y,v as ee,o as ve,F as be,T as ye,x as je,p as we,A as z,f as Ne}from"./core-libs-BseDu1u3.js";import{A as ke,m as B}from"./ui-heavy-8XJPmDUO.js";const te=({onComplete:e})=>{const{user:s}=R(),[a,n]=f.useState(""),[r,i]=f.useState(""),[o,u]=f.useState(""),[l,d]=f.useState(""),[h,c]=f.useState(""),[m,p]=f.useState(""),[v,j]=f.useState(!1),S=[{value:"excellent",label:"Excellent",emoji:"ðŸ˜Š"},{value:"good",label:"Good",emoji:"ðŸ™‚"},{value:"okay",label:"Okay",emoji:"ðŸ˜"},{value:"difficult",label:"Difficult",emoji:"ðŸ˜ž"},{value:"challenging",label:"Challenging",emoji:"ðŸ˜¢"}],D=[1,2,3,4,5,6,7,8,9,10],de=async x=>{if(x.preventDefault(),!!s){if(!k){console.warn("Firestore not available - check-in will be stored locally only"),e&&e({userId:s.uid,date:new Date().toISOString().split("T")[0],timestamp:new Date,mood:a,energy:Number.parseInt(r,10),stress:Number.parseInt(o,10),sleep:Number.parseInt(l,10),gratitude:h,journal:m,completed:!0}),n(""),i(""),u(""),d(""),c(""),p("");return}j(!0);try{const W={userId:s.uid,date:new Date().toISOString().split("T")[0],timestamp:new Date,mood:a,energy:Number.parseInt(r,10),stress:Number.parseInt(o,10),sleep:Number.parseInt(l,10),gratitude:h,journal:m,completed:!0};await fe(I(k,"checkins"),W),await ge(pe(k,"users",s.uid),{lastCheckIn:new Date,totalCheckIns:(s.totalCheckIns||0)+1},{merge:!0}),e&&e(W),n(""),i(""),u(""),d(""),c(""),p("")}catch(W){console.error("Error saving check-in:",W),alert("Failed to save check-in. Please try again.")}j(!1)}};return t.jsxs("div",{className:"checkin-container",children:[t.jsxs("div",{className:"checkin-header",children:[t.jsx("h2",{children:"Daily Wellness Check-in"}),t.jsx("p",{children:"How are you feeling today? Take a moment to reflect."})]}),t.jsxs("form",{onSubmit:de,className:"checkin-form",children:[t.jsxs("fieldset",{className:"form-section",children:[t.jsx("legend",{className:"section-label",children:"How is your overall mood today?"}),t.jsx("div",{className:"mood-options",children:S.map(x=>t.jsxs("button",{type:"button",className:`mood-option ${a===x.value?"selected":""}`,onClick:()=>n(x.value),children:[t.jsx("span",{className:"mood-emoji",children:x.emoji}),t.jsx("span",{className:"mood-label",children:x.label})]},x.value))})]}),t.jsxs("fieldset",{className:"form-section",children:[t.jsx("legend",{className:"section-label",children:"Energy Level (1-10)"}),t.jsx("div",{className:"rating-options",children:D.map(x=>t.jsx("button",{type:"button",className:`rating-option ${r===x.toString()?"selected":""}`,onClick:()=>i(x.toString()),children:x},x))}),t.jsxs("div",{className:"rating-labels",children:[t.jsx("span",{children:"Low Energy"}),t.jsx("span",{children:"High Energy"})]})]}),t.jsxs("fieldset",{className:"form-section",children:[t.jsx("legend",{className:"section-label",children:"Stress Level (1-10)"}),t.jsx("div",{className:"rating-options",children:D.map(x=>t.jsx("button",{type:"button",className:`rating-option ${o===x.toString()?"selected":""}`,onClick:()=>u(x.toString()),children:x},x))}),t.jsxs("div",{className:"rating-labels",children:[t.jsx("span",{children:"Low Stress"}),t.jsx("span",{children:"High Stress"})]})]}),t.jsxs("fieldset",{className:"form-section",children:[t.jsx("legend",{className:"section-label",children:"Sleep Quality (1-10)"}),t.jsx("div",{className:"rating-options",children:D.map(x=>t.jsx("button",{type:"button",className:`rating-option ${l===x.toString()?"selected":""}`,onClick:()=>d(x.toString()),children:x},x))}),t.jsxs("div",{className:"rating-labels",children:[t.jsx("span",{children:"Poor Sleep"}),t.jsx("span",{children:"Great Sleep"})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("p",{className:"section-label",children:"What are you grateful for today?"}),t.jsx("textarea",{value:h,onChange:x=>c(x.target.value),placeholder:"I'm grateful for...",className:"gratitude-input",rows:3})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("p",{className:"section-label",children:"Journal Entry (Optional)"}),t.jsx("textarea",{value:m,onChange:x=>p(x.target.value),placeholder:"How was your day? Any thoughts or reflections...",className:"journal-input",rows:5})]}),t.jsx("button",{type:"submit",className:"checkin-submit-btn",disabled:v||!a||!r||!o||!l,children:v?"Saving...":"Complete Check-in"})]})]})};te.propTypes={onComplete:me.func};const Se=()=>{const{user:e}=R(),[s,a]=f.useState([]),[n,r]=f.useState(!0),[i,o]=f.useState("7days");f.useEffect(()=>{if(!e)return;if(!k){console.warn("Firestore not available - progress tracking will show empty"),r(!1);return}const c=new Date;let m;switch(i){case"7days":m=new Date(c.getTime()-7*24*60*60*1e3);break;case"30days":m=new Date(c.getTime()-30*24*60*60*1e3);break;case"90days":m=new Date(c.getTime()-90*24*60*60*1e3);break;default:m=new Date(c.getTime()-7*24*60*60*1e3)}const p=_(I(k,"checkins"),Y("userId","==",e.uid),Y("timestamp",">=",m),xe("timestamp","desc")),v=ee(p,j=>{const S=[];for(const D of j.docs)S.push({id:D.id,...D.data()});a(S),r(!1)});return()=>v()},[e,i]);const u=()=>{if(s.length===0)return{mood:0,energy:0,stress:0,sleep:0};const c=s.reduce((m,p)=>{const v={excellent:5,good:4,okay:3,difficult:2,challenging:1}[p.mood]||3;return{mood:m.mood+v,energy:m.energy+(p.energy||0),stress:m.stress+(p.stress||0),sleep:m.sleep+(p.sleep||0),count:m.count+1}},{mood:0,energy:0,stress:0,sleep:0,count:0});return{mood:Math.round(c.mood/c.count*10)/10,energy:Math.round(c.energy/c.count*10)/10,stress:Math.round(c.stress/c.count*10)/10,sleep:Math.round(c.sleep/c.count*10)/10}},l=()=>{if(s.length<2)return"stable";const m=s.slice(0,3).map(j=>({excellent:5,good:4,okay:3,difficult:2,challenging:1})[j.mood]||3),p=m.reduce((j,S)=>j+S,0)/m.length,v=u().mood;return p>v+.5?"improving":p<v-.5?"declining":"stable"},d=u(),h=l();return n?t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"loading-spinner",children:"Loading your progress..."})}):t.jsxs("div",{className:"progress-container",children:[t.jsxs("div",{className:"progress-header",children:[t.jsx("h2",{children:"Your Wellness Progress"}),t.jsx("p",{children:"Track your journey and see how you're improving over time"}),t.jsxs("div",{className:"time-range-selector",children:[t.jsx("button",{className:i==="7days"?"active":"",onClick:()=>o("7days"),children:"7 Days"}),t.jsx("button",{className:i==="30days"?"active":"",onClick:()=>o("30days"),children:"30 Days"}),t.jsx("button",{className:i==="90days"?"active":"",onClick:()=>o("90days"),children:"90 Days"})]})]}),s.length===0?t.jsxs("div",{className:"no-data",children:[t.jsx("h3",{children:"No check-ins yet"}),t.jsx("p",{children:"Start your wellness journey by completing your first daily check-in!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"progress-overview",children:[t.jsxs("div",{className:"metric-card",children:[t.jsx("h4",{children:"Average Mood"}),t.jsxs("div",{className:"metric-value",children:[d.mood,"/5"]}),t.jsxs("div",{className:`trend ${h}`,children:[h==="improving"&&"â†— Improving",h==="declining"&&"â†˜ Declining",h==="stable"&&"â†’ Stable"]})]}),t.jsxs("div",{className:"metric-card",children:[t.jsx("h4",{children:"Energy Level"}),t.jsxs("div",{className:"metric-value",children:[d.energy,"/10"]}),t.jsx("div",{className:"metric-bar",children:t.jsx("div",{className:"metric-fill energy",style:{width:`${d.energy/10*100}%`}})})]}),t.jsxs("div",{className:"metric-card",children:[t.jsx("h4",{children:"Stress Level"}),t.jsxs("div",{className:"metric-value",children:[d.stress,"/10"]}),t.jsx("div",{className:"metric-bar",children:t.jsx("div",{className:"metric-fill stress",style:{width:`${d.stress/10*100}%`}})})]}),t.jsxs("div",{className:"metric-card",children:[t.jsx("h4",{children:"Sleep Quality"}),t.jsxs("div",{className:"metric-value",children:[d.sleep,"/10"]}),t.jsx("div",{className:"metric-bar",children:t.jsx("div",{className:"metric-fill sleep",style:{width:`${d.sleep/10*100}%`}})})]})]}),t.jsxs("div",{className:"recent-checkins",children:[t.jsx("h3",{children:"Recent Check-ins"}),t.jsx("div",{className:"checkins-list",children:s.slice(0,7).map(c=>t.jsxs("div",{className:"checkin-item",children:[t.jsx("div",{className:"checkin-date",children:new Date(c.timestamp.toDate()).toLocaleDateString()}),t.jsxs("div",{className:"checkin-metrics",children:[t.jsx("span",{className:`mood-badge ${c.mood}`,children:c.mood}),t.jsxs("span",{className:"metric",children:["Energy: ",c.energy,"/10"]}),t.jsxs("span",{className:"metric",children:["Stress: ",c.stress,"/10"]}),t.jsxs("span",{className:"metric",children:["Sleep: ",c.sleep,"/10"]})]}),c.gratitude&&t.jsxs("div",{className:"gratitude-preview",children:['"',c.gratitude.length>50?c.gratitude.substring(0,50)+"...":c.gratitude,'"']})]},c.id))})]}),t.jsxs("div",{className:"progress-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:s.length}),t.jsx("div",{className:"stat-label",children:"Total Check-ins"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:s.filter(c=>c.journal?.trim()).length}),t.jsx("div",{className:"stat-label",children:"Journal Entries"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:s.filter(c=>c.gratitude?.trim()).length}),t.jsx("div",{className:"stat-label",children:"Gratitude Notes"})]})]})]})]})};function se(){const[e,s]=f.useState([]),[a,n]=f.useState(null);return f.useEffect(()=>ve(K,i=>{n(i?i.uid:null)}),[]),f.useEffect(()=>{if(!a)return;const r=_(I(k,"moods"),Y("uid","==",a));return ee(r,o=>{s(o.docs.map(u=>({id:u.id,...u.data()})))})},[a]),e}const ae=6048e5,De=864e5,ne=6e4,re=36e5,U=Symbol.for("constructDateFrom");function y(e,s){return typeof e=="function"?e(s):e&&typeof e=="object"&&U in e?e[U](s):e instanceof Date?new e.constructor(s):new Date(s)}function b(e,s){return y(s||e,e)}function Me(e,s,a){const n=b(e,a?.in);if(isNaN(s))return y(e,NaN);const r=n.getDate(),i=y(e,n.getTime());i.setMonth(n.getMonth()+s+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}let Pe={};function $(){return Pe}function O(e,s){const a=$(),n=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=b(e,s?.in),i=r.getDay(),o=(i<n?7:0)+i-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function F(e,s){return O(e,{...s,weekStartsOn:1})}function ie(e,s){const a=b(e,s?.in),n=a.getFullYear(),r=y(a,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=F(r),o=y(a,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const u=F(o);return a.getTime()>=i.getTime()?n+1:a.getTime()>=u.getTime()?n:n-1}function G(e){const s=b(e),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+e-+a}function Te(e,...s){const a=y.bind(null,s.find(n=>typeof n=="object"));return s.map(a)}function Q(e,s){const a=b(e,s?.in);return a.setHours(0,0,0,0),a}function Ce(e,s,a){const[n,r]=Te(a?.in,e,s),i=Q(n),o=Q(r),u=+i-G(i),l=+o-G(o);return Math.round((u-l)/De)}function Oe(e,s){const a=ie(e,s),n=y(e,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),F(n)}function We(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ee(e){return!(!We(e)&&typeof e!="number"||isNaN(+b(e)))}function Ye(e,s){const a=b(e,s?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const Fe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ie=(e,s,a)=>{let n;const r=Fe[e];return typeof r=="string"?n=r:s===1?n=r.one:n=r.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function L(e){return(s={})=>{const a=s.width?String(s.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const $e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Le={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},He={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ae={date:L({formats:$e,defaultWidth:"full"}),time:L({formats:Le,defaultWidth:"full"}),dateTime:L({formats:He,defaultWidth:"full"})},qe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Re=(e,s,a,n)=>qe[e];function P(e){return(s,a)=>{const n=a?.context?String(a.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=a?.width?String(a.width):o;r=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=a?.width?String(a.width):e.defaultWidth;r=e.values[u]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(s):s;return r[i]}}const _e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Be={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xe=(e,s)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ve={ordinalNumber:Xe,era:P({values:_e,defaultWidth:"wide"}),quarter:P({values:ze,defaultWidth:"wide",argumentCallback:e=>e-1}),month:P({values:Be,defaultWidth:"wide"}),day:P({values:Ue,defaultWidth:"wide"}),dayPeriod:P({values:Ge,defaultWidth:"wide",formattingValues:Qe,defaultFormattingWidth:"wide"})};function T(e){return(s,a={})=>{const n=a.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=s.match(r);if(!i)return null;const o=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?Ze(u,c=>c.test(o)):Je(u,c=>c.test(o));let d;d=e.valueCallback?e.valueCallback(l):l,d=a.valueCallback?a.valueCallback(d):d;const h=s.slice(o.length);return{value:d,rest:h}}}function Je(e,s){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&s(e[a]))return a}function Ze(e,s){for(let a=0;a<e.length;a++)if(s(e[a]))return a}function Ke(e){return(s,a={})=>{const n=s.match(e.matchPattern);if(!n)return null;const r=n[0],i=s.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=a.valueCallback?a.valueCallback(o):o;const u=s.slice(r.length);return{value:o,rest:u}}}const et=/^(\d+)(th|st|nd|rd)?/i,tt=/\d+/i,st={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},at={any:[/^b/i,/^(a|c)/i]},nt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rt={any:[/1/i,/2/i,/3/i,/4/i]},it={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ot={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ct={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ut={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ht={ordinalNumber:Ke({matchPattern:et,parsePattern:tt,valueCallback:e=>parseInt(e,10)}),era:T({matchPatterns:st,defaultMatchWidth:"wide",parsePatterns:at,defaultParseWidth:"any"}),quarter:T({matchPatterns:nt,defaultMatchWidth:"wide",parsePatterns:rt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:T({matchPatterns:it,defaultMatchWidth:"wide",parsePatterns:ot,defaultParseWidth:"any"}),day:T({matchPatterns:ct,defaultMatchWidth:"wide",parsePatterns:lt,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:dt,defaultMatchWidth:"any",parsePatterns:ut,defaultParseWidth:"any"})},mt={code:"en-US",formatDistance:Ie,formatLong:Ae,formatRelative:Re,localize:Ve,match:ht,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ft(e,s){const a=b(e,s?.in);return Ce(a,Ye(a))+1}function gt(e,s){const a=b(e,s?.in),n=+F(a)-+Oe(a);return Math.round(n/ae)+1}function oe(e,s){const a=b(e,s?.in),n=a.getFullYear(),r=$(),i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=y(s?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const u=O(o,s),l=y(s?.in||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const d=O(l,s);return+a>=+u?n+1:+a>=+d?n:n-1}function pt(e,s){const a=$(),n=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,r=oe(e,s),i=y(s?.in||e,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),O(i,s)}function xt(e,s){const a=b(e,s?.in),n=+O(a,s)-+pt(a,s);return Math.round(n/ae)+1}function g(e,s){const a=e<0?"-":"",n=Math.abs(e).toString().padStart(s,"0");return a+n}const w={y(e,s){const a=e.getFullYear(),n=a>0?a:1-a;return g(s==="yy"?n%100:n,s.length)},M(e,s){const a=e.getMonth();return s==="M"?String(a+1):g(a+1,2)},d(e,s){return g(e.getDate(),s.length)},a(e,s){const a=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,s){return g(e.getHours()%12||12,s.length)},H(e,s){return g(e.getHours(),s.length)},m(e,s){return g(e.getMinutes(),s.length)},s(e,s){return g(e.getSeconds(),s.length)},S(e,s){const a=s.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return g(r,s.length)}},M={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X={G:function(e,s,a){const n=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,s,a){if(s==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return w.y(e,s)},Y:function(e,s,a,n){const r=oe(e,n),i=r>0?r:1-r;if(s==="YY"){const o=i%100;return g(o,2)}return s==="Yo"?a.ordinalNumber(i,{unit:"year"}):g(i,s.length)},R:function(e,s){const a=ie(e);return g(a,s.length)},u:function(e,s){const a=e.getFullYear();return g(a,s.length)},Q:function(e,s,a){const n=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return g(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,s,a){const n=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return g(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,s,a){const n=e.getMonth();switch(s){case"M":case"MM":return w.M(e,s);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,s,a){const n=e.getMonth();switch(s){case"L":return String(n+1);case"LL":return g(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,s,a,n){const r=xt(e,n);return s==="wo"?a.ordinalNumber(r,{unit:"week"}):g(r,s.length)},I:function(e,s,a){const n=gt(e);return s==="Io"?a.ordinalNumber(n,{unit:"week"}):g(n,s.length)},d:function(e,s,a){return s==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):w.d(e,s)},D:function(e,s,a){const n=ft(e);return s==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):g(n,s.length)},E:function(e,s,a){const n=e.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,s,a,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return g(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(e,s,a,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return g(i,s.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(e,s,a){const n=e.getDay(),r=n===0?7:n;switch(s){case"i":return String(r);case"ii":return g(r,s.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,s,a){const r=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,s,a){const n=e.getHours();let r;switch(n===12?r=M.noon:n===0?r=M.midnight:r=n/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,s,a){const n=e.getHours();let r;switch(n>=17?r=M.evening:n>=12?r=M.afternoon:n>=4?r=M.morning:r=M.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,s,a){if(s==="ho"){let n=e.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return w.h(e,s)},H:function(e,s,a){return s==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):w.H(e,s)},K:function(e,s,a){const n=e.getHours()%12;return s==="Ko"?a.ordinalNumber(n,{unit:"hour"}):g(n,s.length)},k:function(e,s,a){let n=e.getHours();return n===0&&(n=24),s==="ko"?a.ordinalNumber(n,{unit:"hour"}):g(n,s.length)},m:function(e,s,a){return s==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):w.m(e,s)},s:function(e,s,a){return s==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):w.s(e,s)},S:function(e,s){return w.S(e,s)},X:function(e,s,a){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return J(n);case"XXXX":case"XX":return N(n);case"XXXXX":case"XXX":default:return N(n,":")}},x:function(e,s,a){const n=e.getTimezoneOffset();switch(s){case"x":return J(n);case"xxxx":case"xx":return N(n);case"xxxxx":case"xxx":default:return N(n,":")}},O:function(e,s,a){const n=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+V(n,":");case"OOOO":default:return"GMT"+N(n,":")}},z:function(e,s,a){const n=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+V(n,":");case"zzzz":default:return"GMT"+N(n,":")}},t:function(e,s,a){const n=Math.trunc(+e/1e3);return g(n,s.length)},T:function(e,s,a){return g(+e,s.length)}};function V(e,s=""){const a=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),i=n%60;return i===0?a+String(r):a+String(r)+s+g(i,2)}function J(e,s){return e%60===0?(e>0?"-":"+")+g(Math.abs(e)/60,2):N(e,s)}function N(e,s=""){const a=e>0?"-":"+",n=Math.abs(e),r=g(Math.trunc(n/60),2),i=g(n%60,2);return a+r+s+i}const Z=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},ce=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},vt=(e,s)=>{const a=e.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return Z(e,s);let i;switch(n){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",Z(n,s)).replace("{{time}}",ce(r,s))},bt={p:ce,P:vt},yt=/^D+$/,jt=/^Y+$/,wt=["D","DD","YY","YYYY"];function Nt(e){return yt.test(e)}function kt(e){return jt.test(e)}function St(e,s,a){const n=Dt(e,s,a);if(console.warn(n),wt.includes(e))throw new RangeError(n)}function Dt(e,s,a){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tt=/^'([^]*?)'?$/,Ct=/''/g,Ot=/[a-zA-Z]/;function q(e,s,a){const n=$(),r=n.locale??mt,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=b(e,a?.in);if(!Ee(u))throw new RangeError("Invalid time value");let l=s.match(Pt).map(h=>{const c=h[0];if(c==="p"||c==="P"){const m=bt[c];return m(h,r.formatLong)}return h}).join("").match(Mt).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const c=h[0];if(c==="'")return{isToken:!1,value:Wt(h)};if(X[c])return{isToken:!0,value:h};if(c.match(Ot))throw new RangeError("Format string contains an unescaped latin alphabet character `"+c+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(l=r.localize.preprocessor(u,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return l.map(h=>{if(!h.isToken)return h.value;const c=h.value;(kt(c)||Nt(c))&&St(c,s,String(e));const m=X[c[0]];return m(u,c,r.localize,d)}).join("")}function Wt(e){const s=e.match(Tt);return s?s[1].replace(Ct,"'"):e}function Et(e,s){const a=()=>y(s?.in,NaN),r=$t(e);let i;if(r.date){const d=Lt(r.date,2);i=Ht(d.restDateString,d.year)}if(!i||isNaN(+i))return a();const o=+i;let u=0,l;if(r.time&&(u=At(r.time),isNaN(u)))return a();if(r.timezone){if(l=qt(r.timezone),isNaN(l))return a()}else{const d=new Date(o+u),h=b(0,s?.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return b(o+u+l,s?.in)}const E={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Yt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ft=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,It=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $t(e){const s={},a=e.split(E.dateTimeDelimiter);let n;if(a.length>2)return s;if(/:/.test(a[0])?n=a[0]:(s.date=a[0],n=a[1],E.timeZoneDelimiter.test(s.date)&&(s.date=e.split(E.timeZoneDelimiter)[0],n=e.substr(s.date.length,e.length))),n){const r=E.timezone.exec(n);r?(s.time=n.replace(r[1],""),s.timezone=r[1]):s.time=n}return s}function Lt(e,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),n=e.match(a);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?r:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Ht(e,s){if(s===null)return new Date(NaN);const a=e.match(Yt);if(!a)return new Date(NaN);const n=!!a[4],r=C(a[1]),i=C(a[2])-1,o=C(a[3]),u=C(a[4]),l=C(a[5])-1;if(n)return Ut(s,u,l)?Rt(s,u,l):new Date(NaN);{const d=new Date(0);return!zt(s,i,o)||!Bt(s,r)?new Date(NaN):(d.setUTCFullYear(s,i,Math.max(r,o)),d)}}function C(e){return e?parseInt(e):1}function At(e){const s=e.match(Ft);if(!s)return NaN;const a=H(s[1]),n=H(s[2]),r=H(s[3]);return Gt(a,n,r)?a*re+n*ne+r*1e3:NaN}function H(e){return e&&parseFloat(e.replace(",","."))||0}function qt(e){if(e==="Z")return 0;const s=e.match(It);if(!s)return 0;const a=s[1]==="+"?-1:1,n=parseInt(s[2]),r=s[3]&&parseInt(s[3])||0;return Qt(n,r)?a*(n*re+r*ne):NaN}function Rt(e,s,a){const n=new Date(0);n.setUTCFullYear(e,0,4);const r=n.getUTCDay()||7,i=(s-1)*7+a+1-r;return n.setUTCDate(n.getUTCDate()+i),n}const _t=[31,null,31,30,31,30,31,31,30,31,30,31];function le(e){return e%400===0||e%4===0&&e%100!==0}function zt(e,s,a){return s>=0&&s<=11&&a>=1&&a<=(_t[s]||(le(e)?29:28))}function Bt(e,s){return s>=1&&s<=(le(e)?366:365)}function Ut(e,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function Gt(e,s,a){return e===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&e>=0&&e<25}function Qt(e,s){return s>=0&&s<=59}function Xt(e,s,a){return Me(e,-3,a)}const A=["I am safe, grounded, and open to new possibilities today.","I choose progress over perfection, one step at a time.","I honor my journey and trust the process of healing.","I am worthy of love, peace, and all good things.","My recovery is a gift I give myself every single day.","I am stronger than my struggles and braver than I know.","I embrace each moment with courage and compassion.","I am building a life I'm proud of, brick by brick."],Vt=()=>{const e=se(),[s,a]=f.useState(""),[n,r]=f.useState(!0),[i,o]=f.useState(q(new Date,"yyyy-MM-dd")),u={avg:e&&e.length>0?(e.reduce((d,h)=>d+(h.value||0),0)/e.length).toFixed(1):0},l=async(d=!1)=>{const h=q(new Date,"yyyy-MM-dd");o(h);const c=`affirm-${h}`,m=localStorage.getItem(c);if(m&&!d){a(m),r(!1);return}r(!0);try{const p=A[Math.floor(Math.random()*A.length)];a(p),localStorage.setItem(c,p)}catch(p){console.error("Affirmation fetch error:",p),a(A[0])}r(!1)};return f.useEffect(()=>{l();const d=setInterval(()=>l(!0),1e3*60*60*24);return()=>clearInterval(d)},[]),t.jsxs("div",{className:"dashboard-pin",children:[t.jsxs("div",{className:"pin-header",children:[t.jsx("h3",{className:"pin-title",children:"ðŸŒž Today's Focus"}),t.jsx("button",{onClick:()=>l(!0),className:"refresh-btn","aria-label":"Refresh affirmation",children:"â†»"})]}),t.jsx("div",{className:"affirmation-container",children:t.jsx(ke,{mode:"wait",children:n?t.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"affirmation-loading",children:"Loading daily affirmationâ€¦"},"loading"):t.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.8,ease:"easeOut"},className:"affirmation-text",children:['"',s,'"']},i)})}),t.jsxs("div",{className:"pin-footer",children:[t.jsxs("div",{className:"mood-avg",children:[t.jsx("span",{className:"mood-label",children:"Mood Avg:"}),t.jsx("span",{className:"mood-value",children:u.avg||0})]}),t.jsx("a",{href:"/tools",className:"tools-link",children:"Open Tools â†’"})]})]})},Jt=()=>{const s=se()||[],a=Xt(new Date),n=new Date,r=s.map(o=>({date:q(Et(o.timestamp),"yyyy-MM-dd"),count:o.score})),i=o=>o?o.count<=3?"color-scale-1":o.count<=5?"color-scale-2":o.count<=7?"color-scale-3":o.count<=8?"color-scale-4":"color-scale-5":"color-empty";return t.jsxs("div",{className:"mood-heatmap-container",children:[t.jsx("h3",{className:"heatmap-title",children:"ðŸ“… Mood Frequency (Past 90 Days)"}),t.jsx("p",{className:"heatmap-subtitle",children:"Track your emotional patterns over time"}),t.jsx("div",{className:"heatmap-wrapper",children:t.jsx(ue,{startDate:a,endDate:n,values:r,classForValue:i,tooltipDataAttrs:o=>!o||!o.date?{"data-tip":"No entry"}:{"data-tip":`${o.date}: Mood ${o.count}/10`},showWeekdayLabels:!0})}),t.jsxs("div",{className:"heatmap-legend",children:[t.jsx("span",{className:"legend-label",children:"Low"}),t.jsxs("div",{className:"legend-colors",children:[t.jsx("div",{className:"legend-color color-empty",title:"No data"}),t.jsx("div",{className:"legend-color color-scale-1",title:"1-3"}),t.jsx("div",{className:"legend-color color-scale-2",title:"4-5"}),t.jsx("div",{className:"legend-color color-scale-3",title:"6-7"}),t.jsx("div",{className:"legend-color color-scale-4",title:"8"}),t.jsx("div",{className:"legend-color color-scale-5",title:"9-10"})]}),t.jsx("span",{className:"legend-label",children:"High"})]}),s.length===0&&t.jsx("div",{className:"heatmap-empty",children:t.jsx("p",{children:"ðŸ“ Start logging moods to see your patterns here"})})]})},Zt=()=>{const{user:e}=R(),s=he(),[a,n]=f.useState("dashboard"),[r,i]=f.useState(null),[o,u]=f.useState({breathingSessions:0,meditationSessions:0,lastBreathing:null,lastMeditation:null});f.useEffect(()=>{const h=JSON.parse(localStorage.getItem("breathingStats")||'{"totalSessions": 0}'),c=JSON.parse(localStorage.getItem("meditationStats")||'{"sessions": 0}');u({breathingSessions:h.totalSessions||0,meditationSessions:c.sessions||0,lastBreathing:h.lastSession||null,lastMeditation:c.lastSession||null})},[a]);const l=h=>{i(h),n("dashboard")};return(()=>{switch(a){case"checkin":return t.jsxs("div",{className:"dashboard-wrapper",children:[t.jsx(te,{onComplete:l}),t.jsx("button",{className:"back-to-dashboard-btn",onClick:()=>n("dashboard"),children:"â† Back to Dashboard"})]});case"progress":return t.jsxs("div",{className:"dashboard-wrapper",children:[t.jsx(Se,{}),t.jsx("button",{className:"back-to-dashboard-btn",onClick:()=>n("dashboard"),children:"â† Back to Dashboard"})]});default:return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"dashboard-header",children:[t.jsxs("h1",{children:["Welcome back, ",e?.displayName||e?.email,"!"]}),t.jsx("p",{children:"Your personalized wellness dashboard"})]}),t.jsx(Vt,{}),t.jsxs("div",{className:"dashboard-grid",children:[t.jsx("div",{className:"dashboard-card full-width",children:t.jsx(Jt,{})}),t.jsxs("div",{className:"dashboard-card",children:[t.jsx("h3",{children:"Daily Check-in"}),t.jsx("p",{children:"How are you feeling today?"}),r?t.jsxs("div",{className:"checkin-status",children:[t.jsx("p",{children:"âœ… Completed today!"}),t.jsxs("small",{children:["Last check-in:"," ",new Date(r.timestamp.toDate()).toLocaleDateString()]})]}):t.jsx("button",{className:"dashboard-btn",onClick:()=>n("checkin"),children:"Start Check-in"})]}),t.jsxs("div",{className:"dashboard-card recovery-tool-card",children:[t.jsxs("div",{className:"tool-header",children:[t.jsx("span",{className:"tool-icon",children:"ðŸ«"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Breathing Exercise"}),t.jsx("p",{children:"3-minute calm down"})]})]}),o.breathingSessions>0&&t.jsx("div",{className:"tool-stats-mini",children:t.jsxs("span",{children:["âœ“ ",o.breathingSessions," sessions"]})}),t.jsx("button",{className:"dashboard-btn tool-btn",onClick:()=>s("/tools/breathing"),children:"Start Breathing â†’"})]}),t.jsxs("div",{className:"dashboard-card recovery-tool-card",children:[t.jsxs("div",{className:"tool-header",children:[t.jsx("span",{className:"tool-icon",children:"ðŸ§˜"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Meditation Timer"}),t.jsx("p",{children:"Find your peace"})]})]}),o.meditationSessions>0&&t.jsx("div",{className:"tool-stats-mini",children:t.jsxs("span",{children:["âœ“ ",o.meditationSessions," sessions"]})}),t.jsx("button",{className:"dashboard-btn tool-btn",onClick:()=>s("/tools/meditation"),children:"Start Meditation â†’"})]}),t.jsxs("div",{className:"dashboard-card recovery-tool-card",children:[t.jsxs("div",{className:"tool-header",children:[t.jsx("span",{className:"tool-icon",children:"ðŸ˜Š"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Mood Check-In"}),t.jsx("p",{children:"Track your emotional wellness"})]})]}),t.jsx("button",{className:"dashboard-btn tool-btn",onClick:()=>s("/tools/mood-checkin"),children:"Check My Mood â†’"})]}),t.jsxs("div",{className:"dashboard-card recovery-tool-card",children:[t.jsxs("div",{className:"tool-header",children:[t.jsx("span",{className:"tool-icon",children:"ðŸ“Š"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Trigger Tracker"}),t.jsx("p",{children:"Identify patterns & get insights"})]})]}),t.jsx("button",{className:"dashboard-btn tool-btn",onClick:()=>s("/tools/trigger-tracker"),children:"Track Triggers â†’"})]}),t.jsxs("div",{className:"dashboard-card",children:[t.jsx("h3",{children:"My Progress"}),t.jsx("p",{children:"Track your wellness journey"}),t.jsx("button",{className:"dashboard-btn",onClick:()=>n("progress"),children:"View Progress"})]}),t.jsxs("div",{className:"dashboard-card tools-overview-card",children:[t.jsx("h3",{children:"All Recovery Tools"}),t.jsx("p",{children:"Explore breathing, meditation, and more"}),t.jsx("button",{className:"dashboard-btn secondary-btn",onClick:()=>s("/tools"),children:"View All Tools â†’"})]}),t.jsxs("div",{className:"dashboard-card",children:[t.jsx("h3",{children:"Community"}),t.jsx("p",{children:"Connect with others on similar paths"}),t.jsx("button",{className:"dashboard-btn",children:"Join Community"})]})]})]})}})()},rs=Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"})),is=({userName:e="Friend"})=>{const[s,a]=f.useState(0),n=78;f.useEffect(()=>{let l=0;const d=n/50,h=setInterval(()=>{l+=d,l>=n?(a(n),clearInterval(h)):a(Math.floor(l))},20);return()=>clearInterval(h)},[n]);const r={streak:7,totalSessions:42,weeklyGoal:14,weeklyProgress:9,level:3,nextLevelSessions:8},i=[{id:1,icon:"ðŸ”¥",name:"7-Day Streak",unlocked:!0},{id:2,icon:"ðŸŒŸ",name:"Rising Star",unlocked:!0},{id:3,icon:"ðŸŽ¯",name:"Goal Crusher",unlocked:!1},{id:4,icon:"ðŸ†",name:"Wellness Pro",unlocked:!1}],o=l=>l>=80?"#10b981":l>=60?"#f59e0b":l>=40?"#f97316":"#ef4444",u=l=>l>=80?"Excellent":l>=60?"Good":l>=40?"Fair":"Needs Attention";return t.jsx("div",{className:"dashboard-header-premium",children:t.jsxs("div",{className:"dashboard-header-content",children:[t.jsxs("div",{className:"welcome-section",children:[t.jsxs("div",{className:"welcome-text",children:[t.jsxs("h1",{children:["Welcome back, ",e,"! ðŸ‘‹"]}),t.jsx("p",{className:"welcome-subtitle",children:"You're doing amazing. Let's continue your wellness journey today."})]}),t.jsxs("div",{className:"wellness-score-container",children:[t.jsxs("div",{className:"score-circle",children:[t.jsxs("svg",{className:"score-ring",viewBox:"0 0 120 120",children:[t.jsx("circle",{className:"score-ring-background",cx:"60",cy:"60",r:"52"}),t.jsx("circle",{className:"score-ring-progress",cx:"60",cy:"60",r:"52",stroke:o(s),strokeDasharray:`${s/100*326.73} 326.73`})]}),t.jsxs("div",{className:"score-content",children:[t.jsx("div",{className:"score-value",children:s}),t.jsx("div",{className:"score-label",children:u(s)})]})]}),t.jsx("p",{className:"score-description",children:"Wellness Score"})]})]}),t.jsxs("div",{className:"stats-grid-premium",children:[t.jsxs("div",{className:"stat-card-premium streak-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(be,{className:"icon-flame"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:r.streak}),t.jsx("div",{className:"stat-label",children:"Day Streak"}),t.jsx("div",{className:"stat-progress-bar",children:t.jsx("div",{className:"stat-progress-fill",style:{width:`${r.streak/30*100}%`}})}),t.jsx("div",{className:"stat-note",children:"Keep it going! ðŸ”¥"})]})]}),t.jsxs("div",{className:"stat-card-premium sessions-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(ye,{className:"icon-target"})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:r.totalSessions}),t.jsx("div",{className:"stat-label",children:"Total Sessions"}),t.jsx("div",{className:"stat-progress-bar",children:t.jsx("div",{className:"stat-progress-fill",style:{width:`${r.totalSessions/50*100}%`}})}),t.jsxs("div",{className:"stat-note",children:["Next level: ",r.nextLevelSessions," more"]})]})]}),t.jsxs("div",{className:"stat-card-premium goal-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(je,{className:"icon-trending"})}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-value",children:[r.weeklyProgress,"/",r.weeklyGoal]}),t.jsx("div",{className:"stat-label",children:"Weekly Goal"}),t.jsx("div",{className:"stat-progress-bar",children:t.jsx("div",{className:"stat-progress-fill",style:{width:`${r.weeklyProgress/r.weeklyGoal*100}%`}})}),t.jsxs("div",{className:"stat-note",children:[r.weeklyGoal-r.weeklyProgress," sessions to go"]})]})]}),t.jsxs("div",{className:"stat-card-premium level-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(we,{className:"icon-sparkles"})}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-value",children:["Level ",r.level]}),t.jsx("div",{className:"stat-label",children:"Wellness Explorer"}),t.jsx("div",{className:"level-badge",children:t.jsx(z,{className:"level-award"})}),t.jsx("div",{className:"stat-note",children:"Rising to greatness âœ¨"})]})]})]}),t.jsxs("div",{className:"achievements-section",children:[t.jsxs("div",{className:"achievements-header",children:[t.jsx(z,{className:"achievements-icon"}),t.jsx("h3",{children:"Recent Achievements"})]}),t.jsx("div",{className:"achievements-grid",children:i.map(l=>t.jsxs("div",{className:`achievement-badge ${l.unlocked?"unlocked":"locked"}`,title:l.name,children:[t.jsx("span",{className:"achievement-icon",children:l.icon}),t.jsx("span",{className:"achievement-name",children:l.name}),!l.unlocked&&t.jsx("div",{className:"achievement-lock",children:"ðŸ”’"})]},l.id))})]}),t.jsxs("div",{className:"quick-insights",children:[t.jsxs("div",{className:"insight-card",children:[t.jsx("span",{className:"insight-emoji",children:"ðŸ’ª"}),t.jsxs("p",{children:["You've completed ",t.jsx("strong",{children:"3 sessions"})," this weekâ€”you're on fire!"]})]}),t.jsxs("div",{className:"insight-card",children:[t.jsx("span",{className:"insight-emoji",children:"ðŸŽ¯"}),t.jsxs("p",{children:["Most used tool: ",t.jsx("strong",{children:"Mindful Breathing"})]})]}),t.jsxs("div",{className:"insight-card",children:[t.jsx("span",{className:"insight-emoji",children:"ðŸ“ˆ"}),t.jsxs("p",{children:["Your stress levels decreased ",t.jsx("strong",{children:"25%"})," this month!"]})]})]})]})})},Kt=()=>{const[e,s]=f.useState(null),[a,n]=f.useState(null),[r,i]=f.useState(!0),[o,u]=f.useState(!1);f.useEffect(()=>{const c=K?.onAuthStateChanged(m=>n(m||null));return()=>c&&c()},[]),f.useEffect(()=>{(async()=>{if(!a?.uid){i(!1);return}try{const m=_(I(k,"providers"),Y("ownerUid","==",a.uid)),p=await Ne(m);p.empty||s({id:p.docs[0].id,...p.docs[0].data()})}catch(m){console.error("Error fetching provider:",m)}i(!1)})()},[a]);const l=()=>{if(!e)return"";const c=e.fullName?.charAt(0)||"W",m=e.serviceTypes?.map(p=>`<span class="chip">${p}</span>`).join("")||"";return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${e.fullName||"Provider"} - Wellness Professional</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto',sans-serif;background:linear-gradient(135deg,#1f2937 0%,#111827 100%);color:#fff;padding:40px 20px;min-height:100vh}
.container{max-width:900px;margin:0 auto;background:rgba(31,41,55,0.9);border-radius:24px;padding:48px;box-shadow:0 20px 60px rgba(0,0,0,0.5);border:1px solid rgba(122,90,248,0.3);position:relative}
.container::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent 0%,rgba(122,90,248,0.8) 20%,rgba(177,156,255,0.8) 50%,rgba(212,180,131,0.6) 80%,transparent 100%)}
.header{display:flex;align-items:center;gap:24px;margin-bottom:40px;padding-bottom:32px;border-bottom:1px solid rgba(255,255,255,0.1)}
.avatar{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,rgba(122,90,248,0.8),rgba(177,156,255,0.8));display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:700;color:#fff;border:3px solid rgba(255,255,255,0.1);box-shadow:0 8px 24px rgba(122,90,248,0.4)}
h1{font-size:2.5rem;font-weight:700;margin-bottom:8px;background:linear-gradient(135deg,#fff 0%,#f0e5d8 40%,#e6d7ff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.role{font-size:1.25rem;color:#b19cff;font-weight:600;margin-bottom:8px}
.location{font-size:1rem;color:rgba(255,255,255,0.6)}
.services{display:flex;flex-wrap:wrap;gap:12px;margin:32px 0}
.chip{padding:8px 16px;background:rgba(122,90,248,0.2);border:1px solid rgba(122,90,248,0.4);border-radius:20px;color:#b19cff;font-size:0.9rem;font-weight:500}
.section{margin-bottom:32px}
.section h2{font-size:1.5rem;font-weight:700;color:rgba(255,255,255,0.95);margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid rgba(122,90,248,0.3)}
.section p{font-size:1.05rem;line-height:1.8;color:rgba(255,255,255,0.75)}
.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:24px;margin-bottom:32px}
.info-item{background:rgba(45,45,55,0.6);padding:20px;border-radius:12px;border:1px solid rgba(122,90,248,0.2)}
.info-label{font-size:0.85rem;color:rgba(255,255,255,0.5);margin-bottom:8px;text-transform:uppercase;letter-spacing:0.05em}
.info-value{font-size:1.25rem;font-weight:700;color:#b19cff}
.rate{color:#d4b483}
.cta-button{display:inline-block;padding:16px 32px;background:linear-gradient(135deg,rgba(122,90,248,0.9),rgba(177,156,255,0.9));color:#fff;text-decoration:none;border-radius:12px;font-weight:600;font-size:1.1rem;border:1px solid rgba(122,90,248,0.6);box-shadow:0 8px 24px rgba(122,90,248,0.4)}
.footer{margin-top:48px;padding-top:24px;border-top:1px solid rgba(255,255,255,0.1);text-align:center;color:rgba(255,255,255,0.5);font-size:0.9rem}
.powered-by{margin-top:16px;font-size:0.85rem}
.powered-by a{color:#b19cff;text-decoration:none;font-weight:600}
@media(max-width:768px){.container{padding:32px 24px}.header{flex-direction:column;text-align:center}h1{font-size:2rem}.info-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="avatar">${c}</div>
    <div>
      <h1>${e.fullName||"Wellness Professional"}</h1>
      <div class="role">${e.role||"Provider"}</div>
      <div class="location">${e.city||""}${e.city&&e.country?", ":""}${e.country||""}</div>
    </div>
  </div>
  ${m?`<div class="services">${m}</div>`:""}
  <div class="info-grid">
    <div class="info-item"><div class="info-label">Experience</div><div class="info-value">${e.years||0} Years</div></div>
    <div class="info-item"><div class="info-label">Rate</div><div class="info-value rate">$${e.ratePerHour||0}/hr</div></div>
    ${e.meetingModes?.length?`<div class="info-item"><div class="info-label">Meeting Modes</div><div class="info-value">${e.meetingModes.join(", ")}</div></div>`:""}
  </div>
  ${e.bio?`<div class="section"><h2>About</h2><p>${e.bio}</p></div>`:""}
  ${e.certifications?`<div class="section"><h2>Certifications</h2><p>${e.certifications}</p></div>`:""}
  ${e.calendarUrl?`<div class="section"><h2>Book a Session</h2><a href="${e.calendarUrl}" class="cta-button" target="_blank" rel="noopener noreferrer">Schedule Appointment</a></div>`:""}
  <div class="footer"><p>Professional wellness services with care and confidentiality.</p><div class="powered-by">Powered by <a href="https://wellnesscafelanding.web.app" target="_blank">WellnessCafe</a></div></div>
</div>
</body>
</html>`},d=()=>{const c=l(),m=new Blob([c],{type:"text/html"}),p=URL.createObjectURL(m),v=document.createElement("a");v.href=p,v.download=`${e?.fullName?.replace(/\s+/g,"-")||"provider"}-profile.html`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(p)},h=async()=>{const c=l();try{await navigator.clipboard.writeText(c),alert("Profile HTML copied! Paste into any HTML file or website builder.")}catch{alert("Clipboard copy failed.")}};return r?t.jsx("section",{className:"pv-wrap",children:t.jsx("div",{className:"pv-loading",children:"Loading..."})}):a?e?t.jsxs("section",{className:"pv-wrap",children:[t.jsx("div",{className:"pv-header-row",children:t.jsxs("div",{children:[t.jsx("h1",{className:"pv-title",children:"My Provider Dashboard"}),t.jsx("p",{className:"pv-sub",children:"Manage your profile and share it with clients"})]})}),t.jsxs("div",{className:"pv-card",style:{marginBottom:"2rem"},children:[t.jsxs("div",{className:"pv-card-head",children:[t.jsx("div",{className:"pv-avatar",children:e.fullName?.charAt(0)||"W"}),t.jsxs("div",{children:[t.jsx("h3",{className:"pv-name",children:e.fullName}),t.jsx("div",{className:"pv-role",children:e.role})]})]}),e.serviceTypes?.length>0&&t.jsx("div",{className:"pv-services",children:e.serviceTypes.map((c,m)=>t.jsx("span",{className:"chip small",children:c},m))}),t.jsx("p",{className:"pv-bio",children:e.bio||"No bio yet."}),t.jsxs("div",{className:"pv-meta",children:[t.jsxs("span",{children:[e.city,e.city&&e.country?", ":"",e.country]}),t.jsxs("span",{className:"pv-rate",children:["$",e.ratePerHour]})]}),t.jsxs("div",{className:"pv-status",children:["Status: ",t.jsx("strong",{children:e.verificationStatus||"pending_review"})," â€¢ Verified: ",t.jsx("strong",{children:e.verified?"Yes":"No"})]})]}),t.jsxs("div",{className:"pv-share",children:[t.jsx("h2",{children:"ðŸ†“ FREE Profile Sharing"}),t.jsxs("p",{children:["Download your profile as HTML or copy the code to share on your website. ",t.jsx("strong",{children:"Completely free!"})]}),t.jsxs("div",{className:"pv-actions",children:[t.jsx("button",{onClick:d,className:"pv-solid",children:"ðŸ“¥ Download HTML"}),t.jsx("button",{onClick:h,className:"pv-ghost",children:"ðŸ“‹ Copy HTML"}),t.jsxs("button",{onClick:()=>u(c=>!c),className:"pv-ghost",children:["ðŸ‘ï¸ ",o?"Hide":"Preview"]})]})]}),o&&t.jsxs("div",{className:"pv-preview",children:[t.jsx("h3",{children:"Profile Preview"}),t.jsx("div",{className:"pv-preview-frame",children:t.jsx("iframe",{srcDoc:l(),style:{width:"100%",height:"600px",border:"none",borderRadius:"12px"},title:"Preview"})})]}),t.jsxs("div",{className:"pv-grid",children:[t.jsxs("div",{className:"pv-stat",children:[t.jsx("div",{className:"pv-stat-label",children:"EXPERIENCE"}),t.jsxs("div",{className:"pv-stat-value",children:[e.years||0," Years"]})]}),t.jsxs("div",{className:"pv-stat",children:[t.jsx("div",{className:"pv-stat-label",children:"SERVICES"}),t.jsx("div",{className:"pv-stat-value",children:e.serviceTypes?.length||0})]}),t.jsxs("div",{className:"pv-stat",children:[t.jsx("div",{className:"pv-stat-label",children:"RATE"}),t.jsxs("div",{className:"pv-stat-value pv-rate",children:["$",e.ratePerHour||0]})]})]})]}):t.jsxs("section",{className:"pv-wrap",children:[t.jsx("h1",{className:"pv-title",children:"Provider Dashboard"}),t.jsx("p",{className:"pv-sub",children:"You haven't registered as a provider yet."}),t.jsx("a",{href:"/providers/apply",className:"pv-solid",style:{display:"inline-block",marginTop:"2rem",textDecoration:"none"},children:"Apply Now"})]}):t.jsxs("section",{className:"pv-wrap",children:[t.jsx("h1",{className:"pv-title",children:"Provider Dashboard"}),t.jsx("p",{className:"pv-sub",children:"Please sign in."})]})},os=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));function es(){return t.jsx("div",{style:{padding:20},children:"Aurora Premium Dashboard"})}const cs=Object.freeze(Object.defineProperty({__proto__:null,default:es},Symbol.toStringTag,{value:"Module"}));export{cs as A,te as C,is as D,os as P,rs as a};

import{r as o,j as e,L as de,H as Re}from"./react-vendor-B5xUu9wX.js";import{d as he,a as Ys,g as Js,c as Vs}from"./ai-engine-BQFxlMsO.js";import{V as Bs,y as Fs,M as Qs,z as Zs,B as Xs,D as et,p as Ie,t as $e,c as pe,R as st,H as Ce,E as tt,L as Te,I as Ns,J as us,x as fe,o as at,q as Ae,w as xs,v as Le,K as it,N as Ye,u as We,X as ws,O as rt,Q as nt,U as Fe,W as ps,F as Ue,A as De,Y as Je,Z as lt,d as ot,C as ks,P as ct,n as dt,_ as ht,$ as mt,a0 as Ss,a1 as Cs,a2 as qe,a3 as Ts,r as gs,a4 as ut,T as Xe,f as xt}from"./core-libs-BseDu1u3.js";import{m as ze,A as gt,R as te,L as $s,C as ne,X as le,Y as oe,T as ae,a as Be,B as ue,b as we,S as pt,Z as ft,c as jt,d as Ve,e as Qe,f as Ls,P as Ws,g as Us,h as Gs,i as Ks,j as bt,k as yt,l as vt}from"./ui-heavy-8XJPmDUO.js";const Nt={inhale:4e3,hold:7e3,exhale:8e3,rest:2e3},wt={ocean:"/sounds/ocean.mp3",forest:"/sounds/forest.mp3",wind:"/sounds/wind.mp3"},kt=i=>i<=3?"from-[#ff4e50] to-[#9f5fff]":i<=6?"from-[#7b61ff] to-[#44e0b7]":"from-[#00d4ff] to-[#50fa7b]",es=["inhale","hold","exhale","rest"],St=i=>{const f=es.indexOf(i);return es[(f+1)%es.length]},Is=i=>Nt[i]||4e3,Ge=i=>{try{const f=new SpeechSynthesisUtterance(i),u=window.speechSynthesis.getVoices();u&&u.length>0&&(f.voice=u.find(r=>/en/i.test(r.lang))||u[0]),f.rate=.88,f.pitch=1,f.volume=1,window.speechSynthesis.cancel(),window.speechSynthesis.speak(f)}catch{}},Ct=()=>{const[i,f]=o.useState(5),[u,r]=o.useState("ready"),[g,h]=o.useState(!1),[k,E]=o.useState(!1),[B,N]=o.useState(!0),[R,d]=o.useState("ocean"),[x,P]=o.useState(!1),[p,w]=o.useState(5),[S,M]=o.useState(0),[W,C]=o.useState(0),z=o.useRef(null),H=o.useRef(null),l=o.useRef(null);o.useEffect(()=>{const a=new Audio(wt[R]);return a.loop=!0,a.preload="auto",l.current=a,()=>{try{a.pause()}catch{}}},[R]),o.useEffect(()=>{const a=l.current;if(!a)return;(async()=>{try{g&&B?await a.play():a.pause()}catch{}})()},[g,B,R]),o.useEffect(()=>{if(g){if(u==="ready"){r("inhale");return}return k&&(u==="inhale"&&Ge("Inhale slowly"),u==="hold"&&Ge("Hold"),u==="exhale"&&Ge("Exhale gently"),u==="rest"&&Ge("Rest")),clearTimeout(H.current),H.current=setTimeout(()=>{r(a=>{const m=St(a);return a==="rest"&&M(T=>T+1),m})},Is(u)),()=>clearTimeout(H.current)}},[g,u,k]),o.useEffect(()=>{if(!g)return;const a=setInterval(()=>{C(m=>m+1)},1e3);return()=>clearInterval(a)},[g]);const c=()=>{w(i),P(!1),r("ready"),M(0),C(0),z.current=Date.now(),h(!0)},s=async()=>{h(!1),r("ready");const a=(Date.now()-(z.current||Date.now()))/6e4,m=Math.min(10,p+2);try{he&&await $e(pe(he,"breathingSessions"),{sessionDate:new Date().toISOString(),technique:"4-7-8 Aurora",preMood:p,postMood:m,durationMins:Number(a.toFixed(1)),breathCount:S,createdAt:new Date})}catch{}P(!0)},t=o.useMemo(()=>g?u==="inhale"?1.4:u==="exhale"?.82:1:1,[g,u]),n=a=>{const m=Math.floor(a/60),T=a%60;return`${m}:${T.toString().padStart(2,"0")}`},y=()=>{switch(u){case"inhale":return"#7b61ff";case"hold":return"#9d7fff";case"exhale":return"#44e0b7";case"rest":return"#5fe0d1";default:return"#ffffff"}};return e.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-[#0b0c10] text-gray-100",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${kt(i)} opacity-20 transition-all duration-700`}),e.jsxs("div",{className:"pointer-events-none absolute inset-0 mix-blend-screen",children:[e.jsx("div",{className:"absolute -top-20 -right-24 h-96 w-96 rounded-full blur-3xl bg-[#7b61ff33]"}),e.jsx("div",{className:"absolute -bottom-24 -left-20 h-[30rem] w-[30rem] rounded-full blur-3xl bg-[#44e0b733]"})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(22)].map((a,m)=>e.jsx(ze.span,{className:"absolute h-1.5 w-1.5 rounded-full bg-white/12",initial:{opacity:0,y:Math.random()*800,x:Math.random()*1200},animate:{opacity:[0,.8,0],y:[Math.random()*800,-200],x:[Math.random()*1200,Math.random()*1200+200]},transition:{duration:14+Math.random()*18,repeat:1/0,ease:"easeInOut"}},m))}),e.jsxs("div",{className:"absolute right-6 top-6 z-20 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>N(a=>!a),className:"px-4 py-2 rounded-full bg-white/10 hover:bg-white/20 transition",title:B?"Mute ambient sound":"Enable ambient sound",children:B?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Fs,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>E(a=>!a),className:"px-4 py-2 rounded-full bg-white/10 hover:bg-white/20 transition",title:k?"Disable voice guidance":"Enable voice guidance",children:k?e.jsx(Qs,{className:"w-5 h-5"}):e.jsx(Zs,{className:"w-5 h-5"})}),e.jsxs("select",{value:R,onChange:a=>d(a.target.value),className:"px-3 py-2 rounded-full bg-white/10 text-sm outline-none hover:bg-white/15 transition cursor-pointer",children:[e.jsx("option",{value:"ocean",children:"Ocean Calm"}),e.jsx("option",{value:"forest",children:"Forest Pulse"}),e.jsx("option",{value:"wind",children:"Mountain Air"})]})]}),e.jsxs("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-3xl flex-col items-center justify-center px-6",children:[e.jsxs("div",{className:"w-full rounded-2xl bg-white/6 p-6 backdrop-blur-lg shadow-lg",children:[e.jsx("p",{className:"text-sm text-gray-300",children:"How are you feeling right now? (1‚Äì10)"}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsx("input",{type:"range",min:"1",max:"10",value:i,onChange:a=>f(parseInt(a.target.value)),className:"w-full accent-[#7b61ff]",disabled:g}),e.jsx("span",{className:"text-xl font-bold text-[#7b61ff]",children:i})]})]}),e.jsxs("div",{className:"mt-8 w-full rounded-2xl bg-white/6 p-10 backdrop-blur-xl shadow-xl",children:[g&&e.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#7b61ff]",children:"‚è±"}),e.jsx("span",{children:n(W)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#44e0b7]",children:"üåä"}),e.jsxs("span",{children:[S," breaths"]})]})]}),e.jsxs("div",{className:"relative mx-auto flex h-[320px] w-full items-center justify-center",children:[e.jsx(gt,{children:e.jsx(ze.div,{animate:{scale:t,boxShadow:`0 0 140px ${u==="inhale"?"#7b61ff66":u==="exhale"?"#44e0b766":"#ffffff22"}`},transition:{duration:g?u==="hold"?.6:1.4:.5,ease:"easeInOut"},className:"flex h-56 w-56 items-center justify-center rounded-full bg-gradient-to-br from-[#7b61ff] to-[#44e0b7] shadow-[0_0_40px_rgba(68,224,183,0.55)]",children:e.jsx("span",{className:"select-none text-2xl font-semibold tracking-wide drop-shadow",children:(g?u:"READY").toUpperCase()})},u)}),g&&e.jsx(ze.div,{className:"absolute inset-0 rounded-full border-2",style:{borderColor:y()},animate:{scale:[1,1.15,1],opacity:[.3,.6,.3]},transition:{duration:Is(u)/1e3,ease:"easeInOut",repeat:1/0}})]}),g&&e.jsxs(ze.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 text-center text-sm text-gray-400 italic",children:[u==="inhale"&&"Breathe in slowly through your nose...",u==="hold"&&"Hold your breath gently...",u==="exhale"&&"Exhale slowly through your mouth...",u==="rest"&&"Rest and prepare for the next breath..."]},u),e.jsx("div",{className:"mt-6 flex items-center justify-center gap-3",children:g?e.jsxs("button",{onClick:()=>s(),className:"flex items-center gap-2 rounded-full bg-white/10 px-8 py-4 font-semibold text-gray-100 shadow-lg transition-colors hover:bg-white/20",children:[e.jsx(et,{className:"h-6 w-6"})," END SESSION"]}):e.jsxs("button",{onClick:()=>c(),className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-[#7b61ff] to-[#44e0b7] px-8 py-4 font-semibold shadow-lg transition-transform hover:scale-105",children:[e.jsx(Xs,{className:"h-6 w-6"})," START SESSION"]})}),!g&&e.jsx("p",{className:"mt-3 text-center text-sm text-gray-400 italic",children:"Breathe with the orb. Inhale ‚Ä¢ Hold ‚Ä¢ Exhale ‚Ä¢ Rest."})]}),x&&e.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 w-full rounded-2xl bg-white/10 p-8 backdrop-blur-xl shadow-xl",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-2xl font-semibold text-[#7b61ff]",children:[e.jsx(Ie,{className:"h-5 w-5"})," Session Summary"]}),e.jsxs("div",{className:"space-y-2 text-gray-200",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Duration:"})," ",n(W)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Breaths:"})," ",S," cycles"]}),e.jsxs("p",{children:["Calm Score improved from ",e.jsx("strong",{children:p})," ‚Üí ",e.jsx("strong",{children:Math.min(10,p+2)}),p<10&&e.jsx("span",{className:"text-[#44e0b7]",children:" ‚Üë+2"})]})]}),e.jsx("div",{className:"mt-4 p-4 rounded-lg bg-white/5 border border-white/10",children:e.jsxs("p",{className:"text-sm text-gray-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-[#7b61ff]",children:"ÔøΩÔøΩ"}),e.jsxs("span",{children:[e.jsx("strong",{children:"AI Insight:"})," Your heart-mind rhythm shows restorative alignment. The ",S," breath cycles activated your parasympathetic system. Try 3‚Äì5 rounds daily and add a short gratitude reflection after breathing for enhanced emotional resilience."]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>P(!1),className:"rounded-full bg-gradient-to-r from-[#7b61ff] to-[#44e0b7] px-6 py-2 font-semibold transition-transform hover:scale-105",children:"CONTINUE JOURNEY"})})]})]})]})},ga=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),Tt=()=>{const[i,f]=o.useState(10),[u,r]=o.useState(i*60),[g,h]=o.useState(!1),[k,E]=o.useState(!1),[B,N]=o.useState("silence"),[R,d]=o.useState(!1),[x,P]=o.useState(5),[p,w]=o.useState(!1),[S,M]=o.useState(!1),[W,C]=o.useState(null),[z,H]=o.useState(0),[l,c]=o.useState(0),s=o.useRef(null),t=o.useRef(null),n=o.useRef(0);o.useEffect(()=>{const v=JSON.parse(localStorage.getItem("meditationStats")||'{"sessions": 0, "minutes": 0}');H(v.sessions),c(v.minutes)},[]);const y=[{id:"body-scan",name:"Body Scan",duration:10,description:"Progressive relaxation from head to toe",prompts:[{time:0,text:"Begin by taking three deep breaths..."},{time:2,text:"Notice any tension in your head and face. Let it go..."},{time:4,text:"Feel your shoulders relaxing, dropping down..."},{time:6,text:"Scan through your chest, feeling your heartbeat..."},{time:8,text:"Notice your legs and feet, completely relaxed..."}]},{id:"breath-awareness",name:"Breath Awareness",duration:5,description:"Simple focus on natural breathing",prompts:[{time:0,text:"Settle into a comfortable position..."},{time:1,text:"Notice the natural rhythm of your breath..."},{time:2,text:"Feel the air entering your nostrils..."},{time:3,text:"Observe the pause between breaths..."},{time:4,text:"Return to the breath whenever your mind wanders..."}]},{id:"loving-kindness",name:"Loving Kindness",duration:15,description:"Cultivate compassion for self and others",prompts:[{time:0,text:"Bring to mind someone you love deeply..."},{time:3,text:'Silently offer: "May you be happy, may you be healthy..."'},{time:6,text:"Now extend these wishes to yourself..."},{time:9,text:"Expand to someone neutral in your life..."},{time:12,text:"Finally, send compassion to all beings..."}]}],a=[{id:"478",name:"4-7-8 Breathing",description:"Inhale 4, Hold 7, Exhale 8 - For deep relaxation",inhale:4,hold:7,exhale:8},{id:"box",name:"Box Breathing",description:"Inhale 4, Hold 4, Exhale 4, Hold 4 - For focus",inhale:4,hold:4,exhale:4,holdAfterExhale:4},{id:"calm",name:"Calm Breathing",description:"Inhale 4, Exhale 6 - For anxiety relief",inhale:4,exhale:6}],m=[{id:"silence",name:"Silence",icon:"üîá",url:null,description:"Pure silence for deep focus"},{id:"rain",name:"Rain",icon:"üåßÔ∏è",url:null,description:"Gentle rainfall for calming (Coming Soon)",disabled:!0},{id:"ocean",name:"Ocean Waves",icon:"üåä",url:null,description:"Rhythmic waves for grounding (Coming Soon)",disabled:!0},{id:"forest",name:"Forest",icon:"üå≤",url:null,description:"Birds and nature sounds (Coming Soon)",disabled:!0},{id:"river",name:"River",icon:"üíß",url:null,description:"Flowing water for peace (Coming Soon)",disabled:!0},{id:"wind",name:"Wind Chimes",icon:"üéê",url:null,description:"Gentle chimes for serenity (Coming Soon)",disabled:!0},{id:"tibetan",name:"Tibetan Bowl",icon:"üîî",url:null,description:"Sacred singing bowl tones (Coming Soon)",disabled:!0},{id:"fire",name:"Crackling Fire",icon:"üî•",url:null,description:"Warm fireplace ambiance (Coming Soon)",disabled:!0}],T=[5,10,15,20,25,30],U=o.useCallback(()=>{h(!1),w(!0),t.current&&t.current.pause(),_();const v=z+1,L=l+i;H(v),c(L),localStorage.setItem("meditationStats",JSON.stringify({sessions:v,minutes:L,lastSession:new Date().toISOString()}))},[z,l,i]);o.useEffect(()=>(g&&!k&&(s.current=setInterval(()=>{r(v=>{if(v<=1)return U(),0;if(R){const L=(i*60-v)/60;L>0&&L%x===0&&Math.floor(L)!==n.current&&($(),n.current=Math.floor(L))}return v-1})},1e3)),()=>{s.current&&clearInterval(s.current)}),[g,k,i,R,x,U]);const V=()=>{h(!0),E(!1),w(!1),r(i*60),n.current=0,B!=="silence"&&t.current&&t.current.play(),$()},A=()=>{E(!0),t.current&&t.current.pause()},j=()=>{E(!1),B!=="silence"&&t.current&&t.current.play()},b=()=>{h(!1),E(!1),r(i*60),t.current&&(t.current.pause(),t.current.currentTime=0)},$=()=>{try{const v=new(window.AudioContext||window.webkitAudioContext),L=v.createOscillator(),Q=v.createGain();L.connect(Q),Q.connect(v.destination),L.frequency.setValueAtTime(800,v.currentTime),L.frequency.exponentialRampToValueAtTime(400,v.currentTime+.1),Q.gain.setValueAtTime(.3,v.currentTime),Q.gain.exponentialRampToValueAtTime(.01,v.currentTime+1),L.start(v.currentTime),L.stop(v.currentTime+1)}catch(v){if(console.warn("Audio playback failed:",v),window.speechSynthesis){const L=new SpeechSynthesisUtterance("üîî");L.volume=.1,window.speechSynthesis.speak(L)}}},_=()=>{$(),setTimeout($,500),setTimeout($,1e3)},D=v=>{const L=Math.floor(v/60),Q=v%60;return`${L}:${Q.toString().padStart(2,"0")}`},I=(i*60-u)/(i*60)*100;return e.jsxs("div",{className:"meditation-timer",children:[e.jsxs("div",{className:"meditation-timer-header",children:[e.jsx("h2",{children:"Meditation Timer"}),e.jsx("p",{children:"Find your center with guided silent meditation"}),(z>0||l>0)&&e.jsxs("div",{className:"meditation-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:z}),e.jsx("span",{className:"stat-label",children:"Sessions"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:l}),e.jsx("span",{className:"stat-label",children:"Minutes"})]}),e.jsxs("div",{className:"stat",children:[e.jsxs("span",{className:"stat-value",children:[Math.floor(l/60),"h ",l%60,"m"]}),e.jsx("span",{className:"stat-label",children:"Total Time"})]})]})]}),!g&&!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"timer-config-section",children:[e.jsx("h3",{children:"Meditation Mode"}),e.jsxs("div",{className:"mode-toggle",children:[e.jsx("button",{className:`mode-btn ${S?"":"active"}`,onClick:()=>M(!1),children:"üßò Silent Meditation"}),e.jsx("button",{className:`mode-btn ${S?"active":""}`,onClick:()=>M(!0),children:"üéØ Guided Practice"})]})]}),!S&&e.jsxs("div",{className:"timer-config-section",children:[e.jsx("h3",{children:"Breathing Pattern (Optional)"}),e.jsxs("div",{className:"breathing-patterns",children:[e.jsx("button",{className:`pattern-btn ${W?"":"active"}`,onClick:()=>C(null),children:"None"}),a.map(v=>e.jsx("button",{className:`pattern-btn ${W===v.id?"active":""}`,onClick:()=>C(v.id),title:v.description,children:v.name},v.id))]}),W&&e.jsx("p",{className:"pattern-description",children:a.find(v=>v.id===W)?.description})]}),S&&e.jsxs("div",{className:"timer-config-section",children:[e.jsx("h3",{children:"Choose Guided Meditation"}),e.jsx("div",{className:"guided-options",children:y.map(v=>e.jsxs("div",{className:"guided-card",onClick:()=>f(v.duration),children:[e.jsx("h4",{children:v.name}),e.jsx("p",{children:v.description}),e.jsxs("span",{className:"guide-duration",children:[v.duration," min"]})]},v.id))})]}),!S&&e.jsxs("div",{className:"timer-config-section",children:[e.jsx("h3",{children:"Duration"}),e.jsx("div",{className:"duration-buttons",children:T.map(v=>e.jsxs("button",{className:`duration-btn ${i===v?"active":""}`,onClick:()=>{f(v),r(v*60)},children:[v," min"]},v))})]}),e.jsxs("div",{className:"timer-config-section",children:[e.jsx("h3",{children:"Ambient Sound"}),e.jsx("div",{className:"sound-grid",children:m.map(v=>e.jsxs("button",{className:`sound-btn ${B===v.id?"active":""}`,onClick:()=>N(v.id),title:v.description,children:[e.jsx("span",{className:"sound-icon",children:v.icon}),e.jsx("span",{className:"sound-name",children:v.name})]},v.id))}),B!=="silence"&&e.jsx("p",{className:"sound-note",children:"üéß Tip: Use headphones for the best ambient sound experience"})]}),e.jsx("div",{className:"timer-config-section",children:e.jsxs("div",{className:"interval-bells-toggle",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:R,onChange:v=>d(v.target.checked)}),e.jsx("span",{children:"Interval Bells"})]}),R&&e.jsxs("select",{value:x,onChange:v=>P(parseInt(v.target.value)),className:"bell-interval-select",children:[e.jsx("option",{value:1,children:"Every 1 min"}),e.jsx("option",{value:2,children:"Every 2 min"}),e.jsx("option",{value:5,children:"Every 5 min"}),e.jsx("option",{value:10,children:"Every 10 min"})]})]})})]}),e.jsxs("div",{className:`timer-display ${g?"running":""} ${p?"complete":""}`,children:[e.jsxs("svg",{className:"timer-circle",viewBox:"0 0 200 200",children:[e.jsx("circle",{className:"timer-circle-bg",cx:"100",cy:"100",r:"90"}),e.jsx("circle",{className:"timer-circle-progress",cx:"100",cy:"100",r:"90",style:{strokeDasharray:`${565.48}`,strokeDashoffset:`${565.48-565.48*I/100}`}})]}),e.jsx("div",{className:"timer-text",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"complete-icon",children:"‚úì"}),e.jsx("div",{className:"complete-text",children:"Complete"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"time-display",children:D(u)}),g&&e.jsx("div",{className:"status-text",children:k?"Paused":"Meditating..."})]})})]}),e.jsxs("div",{className:"timer-controls",children:[!g&&!p&&e.jsx("button",{onClick:V,className:"timer-btn btn-start",children:"Begin Meditation"}),g&&!k&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:A,className:"timer-btn btn-pause",children:"Pause"}),e.jsx("button",{onClick:b,className:"timer-btn btn-stop",children:"Stop"})]}),g&&k&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,className:"timer-btn btn-resume",children:"Resume"}),e.jsx("button",{onClick:b,className:"timer-btn btn-stop",children:"Stop"})]}),p&&e.jsx("button",{onClick:()=>{w(!1),r(i*60)},className:"timer-btn btn-new",children:"New Session"})]}),p&&e.jsxs("div",{className:"completion-message",children:[e.jsx("h3",{children:"üéâ Session Complete!"}),e.jsxs("p",{children:["You meditated for ",e.jsxs("strong",{children:[i," minutes"]})]}),e.jsxs("div",{className:"completion-stats",children:[e.jsxs("div",{className:"completion-stat",children:[e.jsx("span",{className:"stat-icon",children:"üßò"}),e.jsxs("span",{className:"stat-text",children:[z," total sessions"]})]}),e.jsxs("div",{className:"completion-stat",children:[e.jsx("span",{className:"stat-icon",children:"‚è±Ô∏è"}),e.jsxs("span",{className:"stat-text",children:[l," minutes practiced"]})]}),e.jsxs("div",{className:"completion-stat",children:[e.jsx("span",{className:"stat-icon",children:"üî•"}),e.jsx("span",{className:"stat-text",children:"Keep your streak alive!"})]})]}),e.jsxs("div",{className:"meditation-benefits",children:[e.jsx("h4",{children:"Benefits You're Building:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"‚úì Reduced stress and anxiety"}),e.jsx("li",{children:"‚úì Improved focus and clarity"}),e.jsx("li",{children:"‚úì Better emotional regulation"}),e.jsx("li",{children:"‚úì Enhanced self-awareness"}),e.jsx("li",{children:"‚úì Stronger mental resilience"})]})]}),e.jsxs("div",{className:"upgrade-prompt",children:[e.jsx("p",{children:e.jsx("strong",{children:"Track your meditation journey!"})}),e.jsx("p",{children:"Create a free account to see detailed analytics, earn achievements, and join our meditation community."}),e.jsx("button",{className:"upgrade-btn",children:"Create Free Account ‚Üí"})]})]}),B!=="silence"&&e.jsx("audio",{ref:t,loop:!0,preload:"auto",src:m.find(v=>v.id===B)?.url}),!g&&!p&&e.jsxs("div",{className:"meditation-tips",children:[e.jsx("h3",{children:"üí° Meditation Tips"}),e.jsxs("div",{className:"tips-grid",children:[e.jsxs("div",{className:"tip-card",children:[e.jsx("span",{className:"tip-icon",children:"ü™ë"}),e.jsx("h4",{children:"Posture"}),e.jsx("p",{children:"Sit comfortably with spine straight. Use a chair or cushion. Keep shoulders relaxed."})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx("span",{className:"tip-icon",children:"ü´Å"}),e.jsx("h4",{children:"Breathing"}),e.jsx("p",{children:"Breathe naturally through your nose. Notice the sensation of each breath."})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx("span",{className:"tip-icon",children:"üß†"}),e.jsx("h4",{children:"Wandering Mind"}),e.jsx("p",{children:"It's normal! When you notice, gently return focus to your breath without judgment."})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx("span",{className:"tip-icon",children:"‚è∞"}),e.jsx("h4",{children:"Consistency"}),e.jsx("p",{children:"Start with 5-10 minutes daily. Same time each day builds a lasting habit."})]})]}),e.jsxs("div",{className:"quick-start",children:[e.jsx("h4",{children:"Quick Start Guide:"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Choose your duration (beginners: start with 5 minutes)"}),e.jsx("li",{children:"Select an ambient sound or silence"}),e.jsx("li",{children:"Find a quiet space and get comfortable"}),e.jsx("li",{children:'Click "Begin Meditation" and focus on your breath'}),e.jsx("li",{children:"When the bell rings, slowly return to awareness"})]})]})]})]})},It=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsx(de,{to:"/tools",className:"back-link",children:"‚Üê Back to Tools"}),e.jsx("div",{className:"tool-badge free-badge",children:"FREE"})]}),e.jsxs("div",{className:"tool-page-content",children:[e.jsxs("div",{className:"tool-intro",children:[e.jsx("h1",{children:"Meditation Timer"}),e.jsx("p",{className:"tool-description",children:"Silent meditation with customizable durations, ambient sounds, and interval bells. Build a consistent practice with our beautiful, distraction-free timer."}),e.jsxs("div",{className:"tool-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"5,200+"}),e.jsx("span",{className:"stat-label",children:"Sessions Completed"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"12 min"}),e.jsx("span",{className:"stat-label",children:"Average Duration"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"4.9/5"}),e.jsx("span",{className:"stat-label",children:"Average Rating"})]})]}),e.jsxs("div",{className:"benefits-grid",children:[e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üßò"}),e.jsx("h3",{children:"Mindfulness"}),e.jsx("p",{children:"Develop present-moment awareness"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üéµ"}),e.jsx("h3",{children:"Ambient Sounds"}),e.jsx("p",{children:"Choose from rain, ocean, forest, and more"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üîî"}),e.jsx("h3",{children:"Interval Bells"}),e.jsx("p",{children:"Stay focused with customizable reminders"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üìä"}),e.jsx("h3",{children:"Track Progress"}),e.jsx("p",{children:"Build streaks and see your growth (Premium)"})]})]})]}),e.jsx("div",{className:"tool-container",children:e.jsx(Tt,{})}),e.jsxs("div",{className:"tool-education",children:[e.jsx("h2",{children:"Meditation Benefits & Best Practices"}),e.jsxs("div",{className:"education-content",children:[e.jsx("p",{children:"Regular meditation practice has been shown to reduce stress, improve focus, enhance emotional regulation, and even change brain structure over time."}),e.jsx("h3",{children:"Getting Started"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Start Small:"})," Begin with 5-10 minutes daily"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Be Consistent:"})," Same time each day builds habit"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Posture:"})," Sit comfortably, spine straight but relaxed"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Focus Point:"})," Breath, body sensations, or sound"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gentle Mind:"})," When thoughts arise, gently return to focus"]})]}),e.jsx("h3",{children:"Types of Meditation"}),e.jsxs("div",{className:"usage-scenarios",children:[e.jsxs("div",{className:"scenario",children:[e.jsx("strong",{children:"üéØ Focused Attention:"})," Concentrate on breath or mantra"]}),e.jsxs("div",{className:"scenario",children:[e.jsx("strong",{children:"üåä Open Monitoring:"})," Observe thoughts without judgment"]}),e.jsxs("div",{className:"scenario",children:[e.jsx("strong",{children:"üíù Loving-Kindness:"})," Cultivate compassion for self and others"]}),e.jsxs("div",{className:"scenario",children:[e.jsx("strong",{children:"üîç Body Scan:"})," Progressive relaxation through body awareness"]})]}),e.jsx("h3",{children:"Research-Backed Benefits"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Reduces cortisol (stress hormone) levels"}),e.jsx("li",{children:"Increases gray matter density in brain regions associated with learning and memory"}),e.jsx("li",{children:"Improves emotional regulation and resilience"}),e.jsx("li",{children:"Enhances attention span and cognitive flexibility"}),e.jsx("li",{children:"May help with anxiety, depression, and chronic pain"})]})]})]}),e.jsxs("div",{className:"upgrade-section",children:[e.jsx("h2",{children:"Track Your Meditation Journey"}),e.jsx("p",{children:"Upgrade to Premium to unlock:"}),e.jsxs("ul",{className:"premium-features",children:[e.jsx("li",{children:"‚úì Meditation streak tracking"}),e.jsx("li",{children:"‚úì Weekly and monthly statistics"}),e.jsx("li",{children:"‚úì Personalized insights and recommendations"}),e.jsx("li",{children:"‚úì Exclusive guided meditations"}),e.jsx("li",{children:"‚úì Premium ambient soundscapes"}),e.jsx("li",{children:"‚úì Group meditation sessions"})]}),e.jsx("button",{className:"upgrade-btn",children:"Upgrade to Premium"})]}),e.jsxs("div",{className:"related-tools",children:[e.jsx("h2",{children:"Other Wellness Tools"}),e.jsxs("div",{className:"tools-grid",children:[e.jsxs(de,{to:"/tools/breathing",className:"tool-card",children:[e.jsx("span",{className:"tool-icon",children:"üå¨Ô∏è"}),e.jsx("h3",{children:"Mindful Breathing"}),e.jsx("p",{children:"Voice-guided breathing exercises"}),e.jsx("span",{className:"badge",children:"FREE"})]}),e.jsxs(de,{to:"/tools",className:"tool-card",children:[e.jsx("span",{className:"tool-icon",children:"üòä"}),e.jsx("h3",{children:"Mood Check-In"}),e.jsx("p",{children:"Track your daily emotional state"}),e.jsx("span",{className:"badge",children:"Coming Soon"})]}),e.jsxs(de,{to:"/tools",className:"tool-card",children:[e.jsx("span",{className:"tool-icon",children:"üìä"}),e.jsx("h3",{children:"Stress Assessment"}),e.jsx("p",{children:"Evidence-based stress evaluation"}),e.jsx("span",{className:"badge",children:"Coming Soon"})]})]})]})]})]}),pa=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),ss={recovery:{name:"Recovery",icon:"üí™",color:"#4db8a8",affirmations:["I am stronger than my cravings.","Each day in recovery is a victory I celebrate.","I choose healing over temporary relief.","My past does not define my future.","I am worthy of a healthy, fulfilling life.","Recovery is my daily commitment to myself.","I have the power to change my story.","Every step forward is progress, no matter how small.","I am resilient and capable of transformation.","My sobriety is a gift I give myself every day.","I replace old habits with healing practices.","I am building the life I deserve.","Recovery teaches me strength I never knew I had.","I am proud of how far I've come.","I trust the process of my healing journey.","I am learning to love myself more each day.","My commitment to recovery grows stronger daily.","I choose connection over isolation.","I am worthy of support and compassion.","Recovery is teaching me who I truly am."]},confidence:{name:"Confidence",icon:"üåü",color:"#d4b483",affirmations:["I am capable and competent.","I trust my decisions and my path.","My voice matters and deserves to be heard.","I am enough, exactly as I am.","I embrace challenges as opportunities to grow.","I believe in my ability to succeed.","I radiate confidence and self-assurance.","I am worthy of respect and admiration.","I trust myself to handle whatever comes.","I am becoming the best version of myself.","My potential is limitless.","I stand tall in my truth.","I celebrate my unique gifts and talents.","I am confident in my journey.","I trust my intuition and inner wisdom.","I am proud of my progress.","I face each day with courage and conviction.","I am deserving of all good things.","I own my story with pride.","I am powerful beyond measure."]},peace:{name:"Peace",icon:"üïäÔ∏è",color:"#8a63d2",affirmations:["I am at peace with my past.","I release what I cannot control.","Calm flows through me like a gentle river.","I choose peace over worry.","I am safe in this present moment.","Peace is my natural state of being.","I let go of tension with each breath.","I am surrounded by tranquility.","I trust life's natural flow.","Inner peace is my priority.","I release anxiety and embrace calm.","I am grounded and centered.","Serenity fills my mind and body.","I accept what is and let go of what was.","I find peace in stillness.","My mind is clear and calm.","I am free from the chaos around me.","Peace begins within me.","I breathe in calm, I breathe out stress.","I am a peaceful presence in the world."]},gratitude:{name:"Gratitude",icon:"üôè",color:"#f4a261",affirmations:["I am grateful for this new day.","Abundance surrounds me in countless forms.","I appreciate the small joys in life.","Gratitude fills my heart and guides my actions.","I am thankful for my journey, including the challenges.","Every breath is a gift I cherish.","I see blessings in unexpected places.","I am grateful for the people who support me.","My life is full of reasons to be thankful.","I appreciate my body and all it does for me.","Gratitude transforms my perspective.","I am blessed beyond measure.","I give thanks for both trials and triumphs.","I recognize the abundance in my life.","Gratitude opens doors to more blessings.","I am thankful for my growth and learning.","I appreciate the present moment.","Gratitude is my daily practice.","I am grateful for second chances.","My heart overflows with appreciation."]},strength:{name:"Strength",icon:"‚ö°",color:"#e63946",affirmations:["I am resilient and capable of overcoming any obstacle.","My strength grows with every challenge I face.","I have survived 100% of my hardest days.","I am stronger than I realize.","Courage flows through my veins.","I rise above adversity with grace.","My spirit is unbreakable.","I am a warrior, not a worrier.","I transform pain into power.","I am built to withstand life's storms.","My inner strength guides me forward.","I face fear with bravery.","I am tougher than my toughest day.","Resilience is my superpower.","I draw strength from within.","I am unstoppable when I believe in myself.","My determination is stronger than any setback.","I embrace my power to persevere.","I am fortified by my experiences.","Strength is my birthright."]}},Et=()=>{const[i,f]=o.useState("recovery"),[u,r]=o.useState(""),[g,h]=o.useState(!1),[k,E]=o.useState([]),[B,N]=o.useState(!1),R=o.useCallback(S=>{h(!0);const M=ss[S].affirmations,W=Math.floor(Math.random()*M.length);setTimeout(()=>{r(M[W]),h(!1)},300)},[]);o.useEffect(()=>{R(i);const S=localStorage.getItem("affirmationFavorites");S&&E(JSON.parse(S))},[R,i]);const d=S=>{f(S),R(S)},x=()=>{R(i)},P=()=>{if(k.length>=5){N(!0);return}if(!k.includes(u)){const S=[...k,u];E(S),localStorage.setItem("affirmationFavorites",JSON.stringify(S))}},p=async()=>{const S={title:"Daily Affirmation",text:`"${u}" - from WellnessCafe`,url:window.location.href};if(navigator.share)try{await navigator.share(S)}catch(M){console.log("Share cancelled or failed:",M)}else navigator.clipboard.writeText(`"${u}" - WellnessCafe`),alert("Affirmation copied to clipboard!")},w=ss[i].color;return e.jsxs("div",{className:"affirmations-generator",children:[e.jsxs(Re,{children:[e.jsx("title",{children:"Affirmations Generator - WellnessCafe"}),e.jsx("meta",{name:"description",content:"Generate inspiring affirmations for recovery, confidence, peace, gratitude, and strength."})]}),e.jsxs("div",{className:"affirmations-header",children:[e.jsx(Ie,{className:"header-icon"}),e.jsx("h1",{children:"Daily Affirmations"}),e.jsx("p",{children:"Choose a category and discover powerful affirmations to guide your day"})]}),e.jsx("div",{className:"categories-selector",children:Object.entries(ss).map(([S,M])=>e.jsxs("button",{className:`category-btn ${i===S?"active":""}`,onClick:()=>d(S),style:{"--category-color":M.color,background:i===S?`linear-gradient(135deg, ${M.color}, ${M.color}dd)`:"rgba(255,255,255,0.05)"},children:[e.jsx("span",{className:"category-icon",children:M.icon}),e.jsx("span",{className:"category-name",children:M.name})]},S))}),e.jsxs("div",{className:`affirmation-card ${g?"animating":""}`,style:{borderColor:w,background:`linear-gradient(135deg, rgba(255,255,255,0.05), ${w}15)`},children:[e.jsxs("div",{className:"affirmation-content",children:[e.jsx("div",{className:"quote-mark",children:'"'}),e.jsx("p",{className:"affirmation-text",children:u}),e.jsx("div",{className:"quote-mark closing",children:'"'})]}),e.jsxs("div",{className:"affirmation-actions",children:[e.jsxs("button",{className:"action-btn refresh-btn",onClick:x,"aria-label":"Generate new affirmation",children:[e.jsx(st,{}),e.jsx("span",{children:"New"})]}),e.jsxs("button",{className:"action-btn favorite-btn",onClick:P,"aria-label":"Add to favorites",children:[e.jsx(Ce,{fill:k.includes(u)?w:"none"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{className:"action-btn share-btn",onClick:p,"aria-label":"Share affirmation",children:[e.jsx(tt,{}),e.jsx("span",{children:"Share"})]})]})]}),k.length>0&&e.jsxs("div",{className:"favorites-section",children:[e.jsxs("h3",{children:["Your Favorites (",k.length,"/5 Free)"]}),e.jsx("div",{className:"favorites-grid",children:k.map((S,M)=>e.jsx("div",{className:"favorite-item",children:e.jsxs("p",{children:['"',S,'"']})},M))})]}),e.jsxs("div",{className:"affirmations-info",children:[e.jsxs("div",{className:"info-card",children:[e.jsx("h3",{children:"üíé Upgrade for Premium Features"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(Te,{size:16})," Unlimited favorites"]}),e.jsxs("li",{children:[e.jsx(Te,{size:16})," Custom affirmations library"]}),e.jsxs("li",{children:[e.jsx(Te,{size:16})," Daily affirmation reminders"]}),e.jsxs("li",{children:[e.jsx(Te,{size:16})," Track your affirmation journey"]})]}),e.jsx("button",{className:"upgrade-btn",children:"Upgrade to Premium"})]}),e.jsxs("div",{className:"tips-card",children:[e.jsx("h3",{children:"How to Use Affirmations"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Choose a category that resonates with you"}),e.jsx("li",{children:"Read the affirmation slowly and mindfully"}),e.jsx("li",{children:"Repeat it 3-5 times, believing each word"}),e.jsx("li",{children:"Visualize yourself embodying this truth"}),e.jsx("li",{children:"Return to it throughout your day"})]})]})]}),B&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"upgrade-modal",onClick:S=>S.stopPropagation(),children:[e.jsx("h2",{children:"Unlock Unlimited Favorites"}),e.jsx("p",{children:"Free users can save up to 5 affirmations. Upgrade to Premium for unlimited favorites and more features!"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-primary",children:"Upgrade Now - $9.99/mo"}),e.jsx("button",{className:"btn-secondary",onClick:()=>N(!1),children:"Maybe Later"})]})]})})]})},Mt=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsx(de,{to:"/tools",className:"back-link",children:"‚Üê Back to Tools"}),e.jsx("div",{className:"tool-badge free-badge",children:"FREE"})]}),e.jsxs("div",{className:"tool-page-content",children:[e.jsxs("div",{className:"tool-intro",children:[e.jsx("h1",{children:"Daily Affirmations"}),e.jsx("p",{className:"tool-description",children:"Generate powerful affirmations across five categories designed to support your recovery, build confidence, and cultivate inner peace. Save favorites and share inspiration with others."}),e.jsxs("div",{className:"tool-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"100+"}),e.jsx("span",{className:"stat-label",children:"Affirmations Library"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"5"}),e.jsx("span",{className:"stat-label",children:"Categories"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"‚àû"}),e.jsx("span",{className:"stat-label",children:"Daily Inspiration"})]})]}),e.jsxs("div",{className:"benefits-grid",children:[e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üí™"}),e.jsx("h3",{children:"Recovery Support"}),e.jsx("p",{children:"Affirmations specifically crafted for recovery journeys"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"‚ú®"}),e.jsx("h3",{children:"5 Categories"}),e.jsx("p",{children:"Recovery, Confidence, Peace, Gratitude, Strength"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üé®"}),e.jsx("h3",{children:"Beautiful Cards"}),e.jsx("p",{children:"Share affirmations as gorgeous visual cards"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"‚ù§Ô∏è"}),e.jsx("h3",{children:"Save Favorites"}),e.jsx("p",{children:"Build your personal collection (5 free, unlimited premium)"})]})]})]}),e.jsx("div",{className:"tool-component-wrapper",children:e.jsx(Et,{})}),e.jsxs("div",{className:"tool-footer-cta",children:[e.jsx("h2",{children:"Transform Your Mindset with Affirmations"}),e.jsx("p",{children:"Affirmations are more than just positive thinking‚Äîthey're a scientifically-supported tool for rewiring neural pathways and building resilience. Regular practice can reduce stress, increase self-esteem, and support lasting behavioral change."}),e.jsxs("div",{className:"cta-buttons",children:[e.jsx(de,{to:"/signup",className:"cta-btn primary",children:"Create Free Account"}),e.jsx(de,{to:"/tools",className:"cta-btn secondary",children:"Explore More Tools"})]})]})]})]}),fa=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),_e=[{id:1,text:"In the last month, how often have you been upset because of something that happened unexpectedly?",reversed:!1},{id:2,text:"In the last month, how often have you felt that you were unable to control the important things in your life?",reversed:!1},{id:3,text:"In the last month, how often have you felt nervous and stressed?",reversed:!1},{id:4,text:"In the last month, how often have you felt confident about your ability to handle your personal problems?",reversed:!0},{id:5,text:"In the last month, how often have you felt that things were going your way?",reversed:!0},{id:6,text:"In the last month, how often have you found that you could not cope with all the things that you had to do?",reversed:!1},{id:7,text:"In the last month, how often have you been able to control irritations in your life?",reversed:!0},{id:8,text:"In the last month, how often have you felt that you were on top of things?",reversed:!0},{id:9,text:"In the last month, how often have you been angered because of things that were outside of your control?",reversed:!1},{id:10,text:"In the last month, how often have you felt difficulties were piling up so high that you could not overcome them?",reversed:!1}],_t=[{value:0,label:"Never"},{value:1,label:"Almost Never"},{value:2,label:"Sometimes"},{value:3,label:"Fairly Often"},{value:4,label:"Very Often"}],Rt=()=>{const[i,f]=o.useState({}),[u,r]=o.useState(!1),[g,h]=o.useState(0),k=(p,w)=>{f({...i,[p]:w})},E=()=>{let p=0;return _e.forEach(w=>{const S=i[w.id];S!==void 0&&(w.reversed?p+=4-S:p+=S)}),p},B=p=>{if(p.preventDefault(),Object.keys(i).length<_e.length){alert("Please answer all questions before submitting.");return}const w=E();h(w),r(!0),window.scrollTo({top:0,behavior:"smooth"})},N=()=>{f({}),r(!1),h(0),window.scrollTo({top:0,behavior:"smooth"})},R=p=>p<=13?{level:"Low",color:"#4db8a8",description:"You appear to be managing stress well."}:p<=26?{level:"Moderate",color:"#f4a261",description:"You are experiencing moderate stress levels."}:{level:"High",color:"#e63946",description:"You are experiencing high stress that may benefit from intervention."},d=p=>p<=13?["Continue your current stress management practices","Maintain healthy routines (sleep, exercise, nutrition)","Stay connected with supportive relationships","Practice preventive self-care regularly"]:p<=26?["Prioritize daily stress-reduction activities","Try our Breathing Exercises or Meditation Timer","Identify and limit major stressors where possible","Consider talking to a supportive friend or counselor","Establish consistent sleep and exercise routines"]:["Consider speaking with a mental health professional","Use our Recovery Tools daily for stress management","Practice deep breathing exercises multiple times daily","Identify urgent stressors and create an action plan","Prioritize sleep, nutrition, and gentle movement","Reach out to your support network immediately"],x=R(g),P=Object.keys(i).length/_e.length*100;return u?e.jsxs("div",{className:"stress-assessment",children:[e.jsxs(Re,{children:[e.jsx("title",{children:"Your Stress Assessment Results - WellnessCafe"}),e.jsx("meta",{name:"description",content:"Review your PSS-10 stress assessment results and personalized recommendations."})]}),e.jsxs("div",{className:"results-container",children:[e.jsxs("div",{className:"results-header",children:[e.jsx(Ns,{className:"results-icon",style:{color:x.color}}),e.jsx("h1",{children:"Your Stress Assessment Results"}),e.jsx("p",{children:"Based on the Perceived Stress Scale (PSS-10)"})]}),e.jsxs("div",{className:"score-display",style:{borderColor:x.color},children:[e.jsxs("div",{className:"score-number",style:{color:x.color},children:[g,e.jsx("span",{className:"score-total",children:"/40"})]}),e.jsxs("div",{className:"stress-level",style:{background:`linear-gradient(135deg, ${x.color}, ${x.color}dd)`},children:[x.level," Stress"]}),e.jsx("p",{className:"stress-description",children:x.description})]}),e.jsxs("div",{className:"stress-breakdown",children:[e.jsx("h2",{children:"What This Means"}),e.jsxs("div",{className:"score-ranges",children:[e.jsxs("div",{className:`range-item ${g<=13?"active":""}`,children:[e.jsx("div",{className:"range-indicator low"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Low Stress (0-13)"}),e.jsx("p",{children:"Stress is well-managed"})]})]}),e.jsxs("div",{className:`range-item ${g>13&&g<=26?"active":""}`,children:[e.jsx("div",{className:"range-indicator moderate"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Moderate Stress (14-26)"}),e.jsx("p",{children:"Noticeable stress levels"})]})]}),e.jsxs("div",{className:`range-item ${g>26?"active":""}`,children:[e.jsx("div",{className:"range-indicator high"}),e.jsxs("div",{children:[e.jsx("strong",{children:"High Stress (27-40)"}),e.jsx("p",{children:"Significant stress requiring attention"})]})]})]})]}),e.jsxs("div",{className:"recommendations-section",children:[e.jsx("h2",{children:"Personalized Recommendations"}),e.jsx("ul",{className:"recommendations-list",children:d(g).map((p,w)=>e.jsx("li",{children:p},w))})]}),e.jsxs("div",{className:"cta-section",children:[e.jsxs("div",{className:"premium-upsell",children:[e.jsx(Te,{size:24}),e.jsx("h3",{children:"Track Your Stress Over Time"}),e.jsx("p",{children:"Premium members can save assessments, track progress, and receive personalized insights."}),e.jsx("button",{className:"upgrade-btn",children:"Upgrade to Premium - $9.99/mo"})]}),e.jsxs("div",{className:"tools-cta",children:[e.jsx("h3",{children:"Try Our Free Stress Relief Tools"}),e.jsxs("div",{className:"tools-grid",children:[e.jsx("button",{className:"tool-cta-btn",children:"üßò Meditation Timer"}),e.jsx("button",{className:"tool-cta-btn",children:"üå¨Ô∏è Breathing Exercises"}),e.jsx("button",{className:"tool-cta-btn",children:"‚ú® Daily Affirmations"})]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{className:"btn-primary",onClick:N,children:"Take Assessment Again"})}),e.jsxs("div",{className:"disclaimer",children:[e.jsx(us,{size:18}),e.jsxs("p",{children:[e.jsx("strong",{children:"Important:"})," This assessment is a screening tool, not a diagnostic instrument. If you're experiencing significant distress, please consult a mental health professional."]})]})]})]}):e.jsxs("div",{className:"stress-assessment",children:[e.jsxs(Re,{children:[e.jsx("title",{children:"Stress Assessment (PSS-10) - WellnessCafe"}),e.jsx("meta",{name:"description",content:"Take the scientifically-validated PSS-10 stress assessment to understand your stress levels."})]}),e.jsxs("div",{className:"assessment-header",children:[e.jsx(Ns,{className:"header-icon"}),e.jsx("h1",{children:"Stress Level Assessment"}),e.jsx("p",{children:"Complete this 10-question survey to understand your current stress level"}),e.jsxs("div",{className:"assessment-badge",children:[e.jsx(fe,{size:16}),e.jsx("span",{children:"Evidence-Based ‚Ä¢ PSS-10"})]})]}),e.jsxs("div",{className:"progress-bar-container",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${P}%`}})}),e.jsxs("p",{className:"progress-text",children:[Object.keys(i).length," of ",_e.length," questions answered"]})]}),e.jsxs("form",{onSubmit:B,className:"assessment-form",children:[_e.map((p,w)=>e.jsxs("div",{className:"question-card",style:{"--question-index":w},children:[e.jsxs("div",{className:"question-number",children:["Question ",w+1]}),e.jsx("h3",{className:"question-text",children:p.text}),e.jsx("div",{className:"likert-scale",children:_t.map(S=>e.jsxs("label",{className:`likert-option ${i[p.id]===S.value?"selected":""}`,children:[e.jsx("input",{type:"radio",name:`question-${p.id}`,value:S.value,checked:i[p.id]===S.value,onChange:()=>k(p.id,S.value)}),e.jsx("span",{className:"option-value",children:S.value}),e.jsx("span",{className:"option-label",children:S.label})]},S.value))})]},p.id)),e.jsx("button",{type:"submit",className:"submit-btn",disabled:Object.keys(i).length<_e.length,children:"Calculate My Stress Level"})]}),e.jsxs("div",{className:"assessment-info",children:[e.jsx("h3",{children:"About the PSS-10"}),e.jsx("p",{children:"The Perceived Stress Scale (PSS-10) is the most widely used psychological instrument for measuring the perception of stress. It is a reliable and validated measure of the degree to which situations in one's life are appraised as stressful."}),e.jsx("p",{children:"Scores range from 0-40, with higher scores indicating higher perceived stress. This assessment helps you understand your stress levels and provides personalized recommendations for managing stress effectively."})]}),e.jsxs("div",{className:"disclaimer",children:[e.jsx(us,{size:18}),e.jsxs("p",{children:[e.jsx("strong",{children:"Confidential:"})," Your responses are private and not shared. This is a self-assessment tool, not a medical diagnosis."]})]})]})},Dt=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsx(de,{to:"/tools",className:"back-link",children:"‚Üê Back to Tools"}),e.jsx("div",{className:"tool-badge free-badge",children:"FREE"})]}),e.jsxs("div",{className:"tool-page-content",children:[e.jsxs("div",{className:"tool-intro",children:[e.jsx("h1",{children:"Stress Level Assessment"}),e.jsx("p",{className:"tool-description",children:"Take the scientifically-validated PSS-10 (Perceived Stress Scale) to understand your current stress levels. Receive personalized recommendations and track your progress over time."}),e.jsxs("div",{className:"tool-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"PSS-10"}),e.jsx("span",{className:"stat-label",children:"Evidence-Based Tool"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"10"}),e.jsx("span",{className:"stat-label",children:"Questions"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:"3"}),e.jsx("span",{className:"stat-label",children:"Stress Levels"})]})]}),e.jsxs("div",{className:"benefits-grid",children:[e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üî¨"}),e.jsx("h3",{children:"Scientifically Valid"}),e.jsx("p",{children:"Most widely-used psychological measure of stress perception"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üìä"}),e.jsx("h3",{children:"Clear Results"}),e.jsx("p",{children:"Get your stress score with interpretation and severity level"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üí°"}),e.jsx("h3",{children:"Personalized Tips"}),e.jsx("p",{children:"Receive recommendations based on your stress level"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx("span",{className:"benefit-icon",children:"üìà"}),e.jsx("h3",{children:"Track Progress"}),e.jsx("p",{children:"Monitor your stress levels over time (Premium feature)"})]})]}),e.jsxs("div",{className:"assessment-info-box",children:[e.jsx("h3",{children:"About the PSS-10"}),e.jsx("p",{children:"The Perceived Stress Scale is a globally recognized tool for measuring psychological stress. It assesses how unpredictable, uncontrollable, and overloaded respondents find their lives. This 10-question version (PSS-10) is the most commonly used format and has been validated across diverse populations."})]})]}),e.jsx("div",{className:"tool-component-wrapper",children:e.jsx(Rt,{})}),e.jsxs("div",{className:"tool-footer-cta",children:[e.jsx("h2",{children:"Understanding Your Stress is the First Step"}),e.jsx("p",{children:"Regular stress assessments help you track patterns, identify triggers, and measure the effectiveness of your stress management strategies. Combine this tool with our breathing exercises, meditation timer, and affirmations for comprehensive stress relief."}),e.jsxs("div",{className:"cta-buttons",children:[e.jsx(de,{to:"/signup",className:"cta-btn primary",children:"Create Free Account"}),e.jsx(de,{to:"/tools",className:"cta-btn secondary",children:"Explore More Tools"})]})]})]})]}),ja=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"}));function At(){const[i,f]=o.useState([]),[u,r]=o.useState(null);return o.useEffect(()=>at(Ys,h=>{r(h?h.uid:null)}),[]),o.useEffect(()=>{if(!u)return;const g=Ae(pe(he,"triggers"),xs("uid","==",u));return Le(g,k=>{f(k.docs.map(E=>({id:E.id,...E.data()})))})},[u]),i}var Hs={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(i,f){((u,r)=>{i.exports=r()})(Vs,function u(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},g,h=!r.document&&!!r.postMessage,k=r.IS_PAPA_WORKER||!1,E={},B=0,N={};function R(s){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var n=H(t);n.chunkSize=parseInt(n.chunkSize),t.step||t.chunk||(n.chunkSize=null),this._handle=new w(n),(this._handle.streamer=this)._config=n}.call(this,s),this.parseChunk=function(t,n){var y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<y){let m=this._config.newline;m||(a=this._config.quoteChar||'"',m=this._handle.guessLineEndings(t,a)),t=[...t.split(m).slice(y)].join(m)}this.isFirstChunk&&c(this._config.beforeFirstChunk)&&(a=this._config.beforeFirstChunk(t))!==void 0&&(t=a),this.isFirstChunk=!1,this._halted=!1;var y=this._partialLine+t,a=(this._partialLine="",this._handle.parse(y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=a.meta.cursor,y=(this._finished||(this._partialLine=y.substring(t-this._baseIndex),this._baseIndex=t),a&&a.data&&(this._rowCount+=a.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),k)r.postMessage({results:a,workerId:N.WORKER_ID,finished:y});else if(c(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!y||!c(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),y||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){c(this._config.error)?this._config.error(t):k&&this._config.error&&r.postMessage({workerId:N.WORKER_ID,error:t,finished:!1})}}function d(s){var t;(s=s||{}).chunkSize||(s.chunkSize=N.RemoteChunkSize),R.call(this,s),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(n){this._input=n,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),h||(t.onload=l(this._chunkLoaded,this),t.onerror=l(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var n,y=this._config.downloadRequestHeaders;for(n in y)t.setRequestHeader(n,y[n])}var a;this._config.chunkSize&&(a=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+a));try{t.send(this._config.downloadRequestBody)}catch(m){this._chunkError(m.message)}h&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(n=>(n=n.getResponseHeader("Content-Range"))!==null?parseInt(n.substring(n.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(n){n=t.statusText||n,this._sendError(new Error(n))}}function x(s){(s=s||{}).chunkSize||(s.chunkSize=N.LocalChunkSize),R.call(this,s);var t,n,y=typeof FileReader<"u";this.stream=function(a){this._input=a,n=a.slice||a.webkitSlice||a.mozSlice,y?((t=new FileReader).onload=l(this._chunkLoaded,this),t.onerror=l(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input,m=(this._config.chunkSize&&(m=Math.min(this._start+this._config.chunkSize,this._input.size),a=n.call(a,this._start,m)),t.readAsText(a,this._config.encoding));y||this._chunkLoaded({target:{result:m}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(t.error)}}function P(s){var t;R.call(this,s=s||{}),this.stream=function(n){return t=n,this._nextChunk()},this._nextChunk=function(){var n,y;if(!this._finished)return n=this._config.chunkSize,t=n?(y=t.substring(0,n),t.substring(n)):(y=t,""),this._finished=!t,this.parseChunk(y)}}function p(s){R.call(this,s=s||{});var t=[],n=!0,y=!1;this.pause=function(){R.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){R.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){y&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=l(function(a){try{t.push(typeof a=="string"?a:a.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(m){this._streamError(m)}},this),this._streamError=l(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=l(function(){this._streamCleanUp(),y=!0,this._streamData("")},this),this._streamCleanUp=l(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(s){var t,n,y,a,m=Math.pow(2,53),T=-m,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,A=this,j=0,b=0,$=!1,_=!1,D=[],I={data:[],errors:[],meta:{}};function v(G){return s.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function L(){if(I&&y&&(me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+N.DefaultDelimiter+"'"),y=!1),s.skipEmptyLines&&(I.data=I.data.filter(function(O){return!v(O)})),Q()){let O=function(ee,se){c(s.transformHeader)&&(ee=s.transformHeader(ee,se)),D.push(ee)};if(I)if(Array.isArray(I.data[0])){for(var G=0;Q()&&G<I.data.length;G++)I.data[G].forEach(O);I.data.splice(0,1)}else I.data.forEach(O)}function q(O,ee){for(var se=s.header?{}:[],Y=0;Y<O.length;Y++){var J=Y,K=O[Y],K=((xe,F)=>(Z=>(s.dynamicTypingFunction&&s.dynamicTyping[Z]===void 0&&(s.dynamicTyping[Z]=s.dynamicTypingFunction(Z)),(s.dynamicTyping[Z]||s.dynamicTyping)===!0))(xe)?F==="true"||F==="TRUE"||F!=="false"&&F!=="FALSE"&&((Z=>{if(U.test(Z)&&(Z=parseFloat(Z),T<Z&&Z<m))return 1})(F)?parseFloat(F):V.test(F)?new Date(F):F===""?null:F):F)(J=s.header?Y>=D.length?"__parsed_extra":D[Y]:J,K=s.transform?s.transform(K,J):K);J==="__parsed_extra"?(se[J]=se[J]||[],se[J].push(K)):se[J]=K}return s.header&&(Y>D.length?me("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+Y,b+ee):Y<D.length&&me("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+Y,b+ee)),se}var X;I&&(s.header||s.dynamicTyping||s.transform)&&(X=1,!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(q),X=I.data.length):I.data=q(I.data,0),s.header&&I.meta&&(I.meta.fields=D),b+=X)}function Q(){return s.header&&D.length===0}function me(G,q,X,O){G={type:G,code:q,message:X},O!==void 0&&(G.row=O),I.errors.push(G)}c(s.step)&&(a=s.step,s.step=function(G){I=G,Q()?L():(L(),I.data.length!==0&&(j+=G.data.length,s.preview&&j>s.preview?n.abort():(I.data=I.data[0],a(I,A))))}),this.parse=function(G,q,X){var O=s.quoteChar||'"',O=(s.newline||(s.newline=this.guessLineEndings(G,O)),y=!1,s.delimiter?c(s.delimiter)&&(s.delimiter=s.delimiter(G),I.meta.delimiter=s.delimiter):((O=((ee,se,Y,J,K)=>{var xe,F,Z,ke;K=K||[",","	","|",";",N.RECORD_SEP,N.UNIT_SEP];for(var Ee=0;Ee<K.length;Ee++){for(var je,Oe=K[Ee],re=0,be=0,ie=0,ce=(Z=void 0,new M({comments:J,delimiter:Oe,newline:se,preview:10}).parse(ee)),ve=0;ve<ce.data.length;ve++)Y&&v(ce.data[ve])?ie++:(je=ce.data[ve].length,be+=je,Z===void 0?Z=je:0<je&&(re+=Math.abs(je-Z),Z=je));0<ce.data.length&&(be/=ce.data.length-ie),(F===void 0||re<=F)&&(ke===void 0||ke<be)&&1.99<be&&(F=re,xe=Oe,ke=be)}return{successful:!!(s.delimiter=xe),bestDelimiter:xe}})(G,s.newline,s.skipEmptyLines,s.comments,s.delimitersToGuess)).successful?s.delimiter=O.bestDelimiter:(y=!0,s.delimiter=N.DefaultDelimiter),I.meta.delimiter=s.delimiter),H(s));return s.preview&&s.header&&O.preview++,t=G,n=new M(O),I=n.parse(t,q,X),L(),$?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,n.abort(),t=c(s.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){A.streamer._halted?($=!1,A.streamer.parseChunk(t,!0)):setTimeout(A.resume,3)},this.aborted=function(){return _},this.abort=function(){_=!0,n.abort(),I.meta.aborted=!0,c(s.complete)&&s.complete(I),t=""},this.guessLineEndings=function(ee,O){ee=ee.substring(0,1048576);var O=new RegExp(S(O)+"([^]*?)"+S(O),"gm"),X=(ee=ee.replace(O,"")).split("\r"),O=ee.split(`
`),ee=1<O.length&&O[0].length<X[0].length;if(X.length===1||ee)return`
`;for(var se=0,Y=0;Y<X.length;Y++)X[Y][0]===`
`&&se++;return se>=X.length/2?`\r
`:"\r"}}function S(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(s){var t=(s=s||{}).delimiter,n=s.newline,y=s.comments,a=s.step,m=s.preview,T=s.fastMode,U=null,V=!1,A=s.quoteChar==null?'"':s.quoteChar,j=A;if(s.escapeChar!==void 0&&(j=s.escapeChar),(typeof t!="string"||-1<N.BAD_DELIMITERS.indexOf(t))&&(t=","),y===t)throw new Error("Comment character same as delimiter");y===!0?y="#":(typeof y!="string"||-1<N.BAD_DELIMITERS.indexOf(y))&&(y=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var b=0,$=!1;this.parse=function(_,D,I){if(typeof _!="string")throw new Error("Input must be a string");var v=_.length,L=t.length,Q=n.length,me=y.length,G=c(a),q=[],X=[],O=[],ee=b=0;if(!_)return re();if(T||T!==!1&&_.indexOf(A)===-1){for(var se=_.split(n),Y=0;Y<se.length;Y++){if(O=se[Y],b+=O.length,Y!==se.length-1)b+=n.length;else if(I)return re();if(!y||O.substring(0,me)!==y){if(G){if(q=[],ke(O.split(t)),be(),$)return re()}else ke(O.split(t));if(m&&m<=Y)return q=q.slice(0,m),re(!0)}}return re()}for(var J=_.indexOf(t,b),K=_.indexOf(n,b),xe=new RegExp(S(j)+S(A),"g"),F=_.indexOf(A,b);;)if(_[b]===A)for(F=b,b++;;){if((F=_.indexOf(A,F+1))===-1)return I||X.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:b}),je();if(F===v-1)return je(_.substring(b,F).replace(xe,A));if(A===j&&_[F+1]===j)F++;else if(A===j||F===0||_[F-1]!==j){J!==-1&&J<F+1&&(J=_.indexOf(t,F+1));var Z=Ee((K=K!==-1&&K<F+1?_.indexOf(n,F+1):K)===-1?J:Math.min(J,K));if(_.substr(F+1+Z,L)===t){O.push(_.substring(b,F).replace(xe,A)),_[b=F+1+Z+L]!==A&&(F=_.indexOf(A,b)),J=_.indexOf(t,b),K=_.indexOf(n,b);break}if(Z=Ee(K),_.substring(F+1+Z,F+1+Z+Q)===n){if(O.push(_.substring(b,F).replace(xe,A)),Oe(F+1+Z+Q),J=_.indexOf(t,b),F=_.indexOf(A,b),G&&(be(),$))return re();if(m&&q.length>=m)return re(!0);break}X.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:b}),F++}}else if(y&&O.length===0&&_.substring(b,b+me)===y){if(K===-1)return re();b=K+Q,K=_.indexOf(n,b),J=_.indexOf(t,b)}else if(J!==-1&&(J<K||K===-1))O.push(_.substring(b,J)),b=J+L,J=_.indexOf(t,b);else{if(K===-1)break;if(O.push(_.substring(b,K)),Oe(K+Q),G&&(be(),$))return re();if(m&&q.length>=m)return re(!0)}return je();function ke(ie){q.push(ie),ee=b}function Ee(ie){var ce=0;return ce=ie!==-1&&(ie=_.substring(F+1,ie))&&ie.trim()===""?ie.length:ce}function je(ie){return I||(ie===void 0&&(ie=_.substring(b)),O.push(ie),b=v,ke(O),G&&be()),re()}function Oe(ie){b=ie,ke(O),O=[],K=_.indexOf(n,b)}function re(ie){if(s.header&&!D&&q.length&&!V){var ce=q[0],ve=Object.create(null),Ze=new Set(ce);let ys=!1;for(let Me=0;Me<ce.length;Me++){let ye=ce[Me];if(ve[ye=c(s.transformHeader)?s.transformHeader(ye,Me):ye]){let Pe,vs=ve[ye];for(;Pe=ye+"_"+vs,vs++,Ze.has(Pe););Ze.add(Pe),ce[Me]=Pe,ve[ye]++,ys=!0,(U=U===null?{}:U)[Pe]=ye}else ve[ye]=1,ce[Me]=ye;Ze.add(ye)}ys&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:q,errors:X,meta:{delimiter:t,linebreak:n,aborted:$,truncated:!!ie,cursor:ee+(D||0),renamedHeaders:U}}}function be(){a(re()),q=[],X=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return b}}function W(s){var t=s.data,n=E[t.workerId],y=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){y=!0,C(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(c(n.userStep)){for(var m=0;m<t.results.data.length&&(n.userStep({data:t.results.data[m],errors:t.results.errors,meta:t.results.meta},a),!y);m++);delete t.results}else c(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!y&&C(t.workerId,t.results)}function C(s,t){var n=E[s];c(n.userComplete)&&n.userComplete(t),n.terminate(),delete E[s]}function z(){throw new Error("Not implemented.")}function H(s){if(typeof s!="object"||s===null)return s;var t,n=Array.isArray(s)?[]:{};for(t in s)n[t]=H(s[t]);return n}function l(s,t){return function(){s.apply(t,arguments)}}function c(s){return typeof s=="function"}return N.parse=function(s,t){var n=(t=t||{}).dynamicTyping||!1;if(c(n)&&(t.dynamicTypingFunction=n,n={}),t.dynamicTyping=n,t.transform=!!c(t.transform)&&t.transform,!t.worker||!N.WORKERS_SUPPORTED)return n=null,N.NODE_STREAM_INPUT,typeof s=="string"?(s=(y=>y.charCodeAt(0)!==65279?y:y.slice(1))(s),n=new(t.download?d:P)(t)):s.readable===!0&&c(s.read)&&c(s.on)?n=new p(t):(r.File&&s instanceof File||s instanceof Object)&&(n=new x(t)),n.stream(s);(n=(()=>{var y;return!!N.WORKERS_SUPPORTED&&(y=(()=>{var a=r.URL||r.webkitURL||null,m=u.toString();return N.BLOB_URL||(N.BLOB_URL=a.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",m,")();"],{type:"text/javascript"})))})(),(y=new r.Worker(y)).onmessage=W,y.id=B++,E[y.id]=y)})()).userStep=t.step,n.userChunk=t.chunk,n.userComplete=t.complete,n.userError=t.error,t.step=c(t.step),t.chunk=c(t.chunk),t.complete=c(t.complete),t.error=c(t.error),delete t.worker,n.postMessage({input:s,config:t,workerId:n.id})},N.unparse=function(s,t){var n=!1,y=!0,a=",",m=`\r
`,T='"',U=T+T,V=!1,A=null,j=!1,b=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||N.BAD_DELIMITERS.filter(function(D){return t.delimiter.indexOf(D)!==-1}).length||(a=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(n=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(V=t.skipEmptyLines),typeof t.newline=="string"&&(m=t.newline),typeof t.quoteChar=="string"&&(T=t.quoteChar),typeof t.header=="boolean"&&(y=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");A=t.columns}t.escapeChar!==void 0&&(U=t.escapeChar+T),t.escapeFormulae instanceof RegExp?j=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(j=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(T),"g"));if(typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(s)){if(!s.length||Array.isArray(s[0]))return $(null,s,V);if(typeof s[0]=="object")return $(A||Object.keys(s[0]),s,V)}else if(typeof s=="object")return typeof s.data=="string"&&(s.data=JSON.parse(s.data)),Array.isArray(s.data)&&(s.fields||(s.fields=s.meta&&s.meta.fields||A),s.fields||(s.fields=Array.isArray(s.data[0])?s.fields:typeof s.data[0]=="object"?Object.keys(s.data[0]):[]),Array.isArray(s.data[0])||typeof s.data[0]=="object"||(s.data=[s.data])),$(s.fields||[],s.data||[],V);throw new Error("Unable to serialize unrecognized input");function $(D,I,v){var L="",Q=(typeof D=="string"&&(D=JSON.parse(D)),typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(D)&&0<D.length),me=!Array.isArray(I[0]);if(Q&&y){for(var G=0;G<D.length;G++)0<G&&(L+=a),L+=_(D[G],G);0<I.length&&(L+=m)}for(var q=0;q<I.length;q++){var X=(Q?D:I[q]).length,O=!1,ee=Q?Object.keys(I[q]).length===0:I[q].length===0;if(v&&!Q&&(O=v==="greedy"?I[q].join("").trim()==="":I[q].length===1&&I[q][0].length===0),v==="greedy"&&Q){for(var se=[],Y=0;Y<X;Y++){var J=me?D[Y]:Y;se.push(I[q][J])}O=se.join("").trim()===""}if(!O){for(var K=0;K<X;K++){0<K&&!ee&&(L+=a);var xe=Q&&me?D[K]:K;L+=_(I[q][xe],K)}q<I.length-1&&(!v||0<X&&!ee)&&(L+=m)}}return L}function _(D,I){var v,L;return D==null?"":D.constructor===Date?JSON.stringify(D).slice(1,25):(L=!1,j&&typeof D=="string"&&j.test(D)&&(D="'"+D,L=!0),v=D.toString().replace(b,U),(L=L||n===!0||typeof n=="function"&&n(D,I)||Array.isArray(n)&&n[I]||((Q,me)=>{for(var G=0;G<me.length;G++)if(-1<Q.indexOf(me[G]))return!0;return!1})(v,N.BAD_DELIMITERS)||-1<v.indexOf(a)||v.charAt(0)===" "||v.charAt(v.length-1)===" ")?T+v+T:v)}},N.RECORD_SEP="",N.UNIT_SEP="",N.BYTE_ORDER_MARK="\uFEFF",N.BAD_DELIMITERS=["\r",`
`,'"',N.BYTE_ORDER_MARK],N.WORKERS_SUPPORTED=!h&&!!r.Worker,N.NODE_STREAM_INPUT=1,N.LocalChunkSize=10485760,N.RemoteChunkSize=5242880,N.DefaultDelimiter=",",N.Parser=M,N.ParserHandle=w,N.NetworkStreamer=d,N.FileStreamer=x,N.StringStreamer=P,N.ReadableStreamStreamer=p,r.jQuery&&((g=r.jQuery).fn.parse=function(s){var t=s.config||{},n=[];return this.each(function(m){if(!(g(this).prop("tagName").toUpperCase()==="INPUT"&&g(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var T=0;T<this.files.length;T++)n.push({file:this.files[T],inputElem:this,instanceConfig:g.extend({},t)})}),y(),this;function y(){if(n.length===0)c(s.complete)&&s.complete();else{var m,T,U,V,A=n[0];if(c(s.before)){var j=s.before(A.file,A.inputElem);if(typeof j=="object"){if(j.action==="abort")return m="AbortError",T=A.file,U=A.inputElem,V=j.reason,void(c(s.error)&&s.error({name:m},T,U,V));if(j.action==="skip")return void a();typeof j.config=="object"&&(A.instanceConfig=g.extend(A.instanceConfig,j.config))}else if(j==="skip")return void a()}var b=A.instanceConfig.complete;A.instanceConfig.complete=function($){c(b)&&b($,A.file,A.inputElem),a()},N.parse(A.file,A.instanceConfig)}}function a(){n.splice(0,1),y()}}),k&&(r.onmessage=function(s){s=s.data,N.WORKER_ID===void 0&&s&&(N.WORKER_ID=s.workerId),typeof s.input=="string"?r.postMessage({workerId:N.WORKER_ID,results:N.parse(s.input,s.config),finished:!0}):(r.File&&s.input instanceof File||s.input instanceof Object)&&(s=N.parse(s.input,s.config))&&r.postMessage({workerId:N.WORKER_ID,results:s,finished:!0})}),(d.prototype=Object.create(R.prototype)).constructor=d,(x.prototype=Object.create(R.prototype)).constructor=x,(P.prototype=Object.create(P.prototype)).constructor=P,(p.prototype=Object.create(R.prototype)).constructor=p,N})})(Hs);var Ot=Hs.exports;const Pt=Js(Ot),Es={timestamp:"",category:"General",emotion:"",intensity:5,situation:"",thought:"",action:"",copingStrategy:"",outcomeRating:5,notes:"",tagsText:""},zt=({tags:i})=>!i||!i.length?null:e.jsx("div",{className:"tag-list",children:i.map((f,u)=>e.jsx("span",{className:"tag-badge",children:f},u))}),ge=({label:i,children:f,required:u})=>e.jsxs("label",{className:"form-field",children:[e.jsxs("span",{className:"field-label",children:[i,u&&e.jsx("span",{className:"required",children:"*"})]}),f]}),Ne=({...i})=>e.jsx("input",{...i,className:"form-input"}),Bt=({...i})=>e.jsx("textarea",{...i,className:"form-textarea"}),Ft=({children:i,...f})=>e.jsx("select",{...f,className:"form-select",children:i}),ts=({title:i,children:f,className:u=""})=>e.jsxs("div",{className:`section-card ${u}`,children:[i&&e.jsx("h3",{className:"section-title",children:i}),f]}),$t=()=>{const{items:i,loading:f,add:u,analytics:r,uid:g,error:h}=At(),[k,E]=o.useState(Es),[B,N]=o.useState(!1),[R,d]=o.useState(null),[x,P]=o.useState([]),p=o.useMemo(()=>{const C={},z={},H={};i.forEach(t=>{const n=new Date(t.timestamp).getHours();C[n]=(C[n]||0)+1,t.emotion&&(z[t.emotion]=(z[t.emotion]||0)+1),t.tags&&t.tags.forEach(y=>{H[y]=(H[y]||0)+1})});const l=Object.entries(C).sort((t,n)=>n[1]-t[1]).slice(0,3).map(([t])=>Number(t)),c=Object.entries(z).sort((t,n)=>n[1]-t[1]).slice(0,3).map(([t])=>t),s=Object.entries(H).sort((t,n)=>n[1]-t[1]).slice(0,5).map(([t,n])=>({tag:t,count:n}));return{topHours:l,topEmotions:c,topTags:s}},[i]),w=()=>{const C=[];(p.topEmotions.includes("anxious")||p.topEmotions.includes("stressed"))&&C.push({icon:"üå¨Ô∏è",text:"Try Mindful Breathing",link:"/tools/breathing",reason:"Detected anxiety/stress patterns"}),(p.topEmotions.includes("angry")||p.topEmotions.includes("frustrated"))&&C.push({icon:"üßò",text:"Try Meditation Timer",link:"/tools/meditation",reason:"Detected anger/frustration patterns"}),(p.topEmotions.includes("sad")||p.topEmotions.includes("depressed"))&&C.push({icon:"‚úçÔ∏è",text:"Daily Journaling",link:"/tools/journal",reason:"Detected low mood patterns"});const z=p.topHours.filter(H=>H>=22||H<=4);z.length>0&&C.push({icon:"üåô",text:"Evening Wind-Down Routine",link:"/tools/meditation",reason:`Triggers often occur at night (${z.join(", ")}:00)`}),C.length===0&&C.push({icon:"üìä",text:"Keep tracking to discover patterns",link:null,reason:"Log more entries to get personalized insights"}),P(C)},S=()=>{if(i.length===0){alert("No data to export");return}const C=i.map(s=>({timestamp:s.timestamp,category:s.category,emotion:s.emotion,intensity:s.intensity,situation:s.situation,thought:s.thought,action:s.action,copingStrategy:s.copingStrategy,outcomeRating:s.outcomeRating,notes:s.notes,tags:(s.tags||[]).join("; ")})),z=Pt.unparse(C),H=new Blob([z],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(H),c=document.createElement("a");c.href=l,c.download=`trigger-tracker-${new Date().toISOString().split("T")[0]}.csv`,c.click(),URL.revokeObjectURL(l)},M=C=>z=>E(H=>({...H,[C]:z.target.value})),W=async C=>{if(C.preventDefault(),!g){alert("Please sign in to log triggers");return}if(!k.emotion||!k.situation){alert("Please fill in required fields (emotion and situation)");return}N(!0),d(null);try{const z=k.tagsText.split(",").map(H=>H.trim()).filter(H=>H.length>0);await u({timestamp:k.timestamp||new Date().toISOString(),category:k.category,emotion:k.emotion,intensity:Number(k.intensity),situation:k.situation,thought:k.thought,action:k.action,copingStrategy:k.copingStrategy,outcomeRating:Number(k.outcomeRating),notes:k.notes,tags:z}),E(Es),console.log("‚úÖ Trigger logged successfully")}catch(z){console.error("Save error:",z),d(z.message)}finally{N(!1)}};return g?h?e.jsx("div",{className:"trigger-tracker",children:e.jsxs("div",{className:"error-state",children:[e.jsx("div",{className:"error-icon",children:"‚ö†Ô∏è"}),e.jsx("h2",{children:"Configuration Error"}),e.jsx("p",{children:h})]})}):e.jsxs("div",{className:"trigger-tracker",children:[e.jsxs("div",{className:"stats-overview",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:r.totalEntries}),e.jsx("div",{className:"stat-label",children:"Total Entries"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:r.avgIntensity}),e.jsx("div",{className:"stat-label",children:"Avg Intensity"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:r.avgOutcome}),e.jsx("div",{className:"stat-label",children:"Avg Outcome"})]})]}),e.jsxs("div",{className:"tracker-grid",children:[e.jsx(ts,{title:"üìù Log a Trigger",className:"log-form-card",children:e.jsxs("form",{onSubmit:W,className:"trigger-form",children:[e.jsxs("div",{className:"form-row-2",children:[e.jsx(ge,{label:"Time",children:e.jsx(Ne,{type:"datetime-local",value:k.timestamp,onChange:M("timestamp")})}),e.jsx(ge,{label:"Category",children:e.jsxs(Ft,{value:k.category,onChange:M("category"),children:[e.jsx("option",{value:"General",children:"General"}),e.jsx("option",{value:"Conflict",children:"Conflict"}),e.jsx("option",{value:"Craving",children:"Craving"}),e.jsx("option",{value:"Environment",children:"Environment"}),e.jsx("option",{value:"Social",children:"Social"}),e.jsx("option",{value:"Work",children:"Work"}),e.jsx("option",{value:"Family",children:"Family"}),e.jsx("option",{value:"Financial",children:"Financial"}),e.jsx("option",{value:"Health",children:"Health"}),e.jsx("option",{value:"Other",children:"Other"})]})})]}),e.jsxs("div",{className:"form-row-2",children:[e.jsx(ge,{label:"Primary Emotion",required:!0,children:e.jsx(Ne,{placeholder:"anxious, angry, sad...",value:k.emotion,onChange:M("emotion"),required:!0})}),e.jsx(ge,{label:"Intensity (0‚Äì10)",children:e.jsx(Ne,{type:"number",min:"0",max:"10",value:k.intensity,onChange:M("intensity")})})]}),e.jsx(ge,{label:"Situation",required:!0,children:e.jsx(Ne,{placeholder:"Where were you? Who was involved? What happened?",value:k.situation,onChange:M("situation"),required:!0})}),e.jsx(ge,{label:"Automatic Thought",children:e.jsx(Ne,{placeholder:"What thought crossed your mind?",value:k.thought,onChange:M("thought")})}),e.jsx(ge,{label:"Action/Urge",children:e.jsx(Ne,{placeholder:"What did you do or feel like doing?",value:k.action,onChange:M("action")})}),e.jsx(ge,{label:"Coping Strategy Used",children:e.jsx(Ne,{placeholder:"breathe, walk, call sponsor, journaling...",value:k.copingStrategy,onChange:M("copingStrategy")})}),e.jsxs("div",{className:"form-row-2",children:[e.jsx(ge,{label:"Outcome Rating (0‚Äì10)",children:e.jsx(Ne,{type:"number",min:"0",max:"10",value:k.outcomeRating,onChange:M("outcomeRating")})}),e.jsx(ge,{label:"Tags (comma separated)",children:e.jsx(Ne,{placeholder:"work, family, evenings...",value:k.tagsText,onChange:M("tagsText")})})]}),e.jsx(ge,{label:"Notes",children:e.jsx(Bt,{placeholder:"Reflection, insights, next steps...",value:k.notes,onChange:M("notes"),rows:3})}),R&&e.jsxs("div",{className:"form-error",children:[e.jsx("span",{children:"‚ö†Ô∏è"})," ",R]}),e.jsx("button",{type:"submit",disabled:B,className:"submit-btn",children:B?"Saving...":"üíæ Save Trigger"})]})}),e.jsx(ts,{title:"üìÖ Timeline",className:"timeline-card",children:f?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading entries..."})]}):e.jsx("div",{className:"timeline-list",children:i.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"üìù"}),e.jsx("p",{children:"No entries yet."}),e.jsx("p",{className:"empty-hint",children:"Start by logging your first trigger"})]}):i.map(C=>e.jsxs("div",{className:"timeline-entry",children:[e.jsxs("div",{className:"entry-header",children:[e.jsx("div",{className:"entry-time",children:new Date(C.timestamp).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsx("div",{className:"entry-category",children:C.category})]}),e.jsxs("div",{className:"entry-emotion",children:[e.jsx("span",{className:"emotion-badge",children:C.emotion}),e.jsxs("span",{className:"intensity-badge",children:["Intensity: ",C.intensity]}),C.outcomeRating>0&&e.jsxs("span",{className:"outcome-badge",children:["Outcome: ",C.outcomeRating]})]}),e.jsx("div",{className:"entry-situation",children:C.situation}),C.thought&&e.jsxs("div",{className:"entry-thought",children:["üí≠ ",e.jsx("em",{children:C.thought})]}),C.copingStrategy&&e.jsxs("div",{className:"entry-coping",children:["üõ†Ô∏è ",e.jsx("strong",{children:"Coping:"})," ",C.copingStrategy]}),C.notes&&e.jsxs("div",{className:"entry-notes",children:["üìå ",C.notes]}),e.jsx(zt,{tags:C.tags})]},C.id))})}),e.jsx(ts,{title:"üìä Analytics",className:"analytics-card",children:i.length===0?e.jsx("div",{className:"empty-analytics",children:e.jsx("p",{children:"üìà Analytics will appear after logging a few entries"})}):e.jsxs("div",{className:"analytics-grid",children:[r.effSeries.length>0&&e.jsxs("div",{className:"chart-container",children:[e.jsx("h4",{className:"chart-title",children:"Coping Effectiveness Over Time"}),e.jsx(te,{width:"100%",height:200,children:e.jsxs($s,{data:r.effSeries,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(le,{dataKey:"date",tick:{fill:"#aaa",fontSize:12}}),e.jsx(oe,{domain:[0,10],tick:{fill:"#aaa",fontSize:12}}),e.jsx(ae,{contentStyle:{background:"#222",border:"1px solid #444"}}),e.jsx(Be,{type:"monotone",dataKey:"score",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})]}),r.tagSeries.length>0&&e.jsxs("div",{className:"chart-container",children:[e.jsx("h4",{className:"chart-title",children:"Top Tags"}),e.jsx(te,{width:"100%",height:200,children:e.jsxs(ue,{data:r.tagSeries,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(le,{dataKey:"tag",tick:{fill:"#aaa",fontSize:12}}),e.jsx(oe,{allowDecimals:!1,tick:{fill:"#aaa",fontSize:12}}),e.jsx(ae,{contentStyle:{background:"#222",border:"1px solid #444"}}),e.jsx(we,{dataKey:"count",fill:"#3b82f6"})]})})]}),r.dowSeries.length>0&&e.jsxs("div",{className:"chart-container",children:[e.jsx("h4",{className:"chart-title",children:"Day-of-Week Frequency"}),e.jsx(te,{width:"100%",height:200,children:e.jsxs(ue,{data:r.dowSeries,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(le,{dataKey:"day",tick:{fill:"#aaa",fontSize:12}}),e.jsx(oe,{allowDecimals:!1,tick:{fill:"#aaa",fontSize:12}}),e.jsx(ae,{contentStyle:{background:"#222",border:"1px solid #444"}}),e.jsx(we,{dataKey:"count",fill:"#8b5cf6"})]})})]}),r.emotionSeries.length>0&&e.jsxs("div",{className:"chart-container",children:[e.jsx("h4",{className:"chart-title",children:"Most Common Emotions"}),e.jsx(te,{width:"100%",height:200,children:e.jsxs(ue,{data:r.emotionSeries,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(le,{dataKey:"emotion",tick:{fill:"#aaa",fontSize:12}}),e.jsx(oe,{allowDecimals:!1,tick:{fill:"#aaa",fontSize:12}}),e.jsx(ae,{contentStyle:{background:"#222",border:"1px solid #444"}}),e.jsx(we,{dataKey:"count",fill:"#f59e0b"})]})})]}),r.categorySeries.length>0&&e.jsxs("div",{className:"chart-container",children:[e.jsx("h4",{className:"chart-title",children:"Triggers by Category"}),e.jsx(te,{width:"100%",height:200,children:e.jsxs(ue,{data:r.categorySeries,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(le,{dataKey:"category",tick:{fill:"#aaa",fontSize:12}}),e.jsx(oe,{allowDecimals:!1,tick:{fill:"#aaa",fontSize:12}}),e.jsx(ae,{contentStyle:{background:"#222",border:"1px solid #444"}}),e.jsx(we,{dataKey:"count",fill:"#ec4899"})]})})]}),i.length>0&&e.jsxs("div",{className:"chart-container",children:[e.jsx("h4",{className:"chart-title",children:"‚è∞ Trigger Hour vs Intensity"}),e.jsx(te,{width:"100%",height:200,children:e.jsxs(pt,{children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(le,{type:"number",dataKey:"hour",name:"Hour",domain:[0,24],tick:{fill:"#aaa",fontSize:12},label:{value:"Hour of Day",position:"insideBottom",offset:-5,fill:"#aaa"}}),e.jsx(oe,{type:"number",dataKey:"intensity",name:"Intensity",domain:[0,10],tick:{fill:"#aaa",fontSize:12},label:{value:"Intensity",angle:-90,position:"insideLeft",fill:"#aaa"}}),e.jsx(ft,{range:[50,200]}),e.jsx(ae,{cursor:{strokeDasharray:"3 3"},contentStyle:{background:"#222",border:"1px solid #444"}}),e.jsx(jt,{data:i.map(C=>({hour:new Date(C.timestamp).getHours(),intensity:C.intensity,emotion:C.emotion})),fill:"#3b82f6"})]})}),e.jsx("p",{className:"chart-hint",children:"Discover when triggers are most intense"})]}),e.jsxs("div",{className:"analytics-actions",children:[e.jsx("button",{onClick:w,className:"action-btn primary",children:"üß† Analyze Patterns"}),e.jsx("button",{onClick:S,className:"action-btn secondary",children:"üì§ Export CSV"})]}),x.length>0&&e.jsxs("div",{className:"coping-suggestions",children:[e.jsx("h4",{className:"suggestions-title",children:"üí° Suggested Coping Actions"}),e.jsx("div",{className:"suggestions-list",children:x.map((C,z)=>e.jsxs("div",{className:"suggestion-card",children:[e.jsx("div",{className:"suggestion-icon",children:C.icon}),e.jsxs("div",{className:"suggestion-content",children:[C.link?e.jsx("a",{href:C.link,className:"suggestion-link",children:C.text}):e.jsx("span",{className:"suggestion-text",children:C.text}),e.jsx("p",{className:"suggestion-reason",children:C.reason})]})]},z))})]}),p.topEmotions.length>0&&e.jsxs("div",{className:"pattern-insights",children:[e.jsx("h4",{className:"insights-title",children:"üîç Pattern Insights"}),e.jsxs("div",{className:"insights-grid",children:[p.topEmotions.length>0&&e.jsxs("div",{className:"insight-card",children:[e.jsx("div",{className:"insight-label",children:"Top Emotions"}),e.jsx("div",{className:"insight-value",children:p.topEmotions.join(", ")})]}),p.topHours.length>0&&e.jsxs("div",{className:"insight-card",children:[e.jsx("div",{className:"insight-label",children:"Peak Trigger Times"}),e.jsx("div",{className:"insight-value",children:p.topHours.map(C=>`${C}:00`).join(", ")})]}),p.topTags.length>0&&e.jsxs("div",{className:"insight-card",children:[e.jsx("div",{className:"insight-label",children:"Common Tags"}),e.jsx("div",{className:"insight-tags",children:p.topTags.map((C,z)=>e.jsxs("span",{className:"insight-tag",children:[C.tag," (",C.count,")"]},z))})]})]})]})]})})]})]}):e.jsx("div",{className:"trigger-tracker",children:e.jsxs("div",{className:"auth-required",children:[e.jsx("div",{className:"auth-icon",children:"üîí"}),e.jsx("h2",{children:"Sign In Required"}),e.jsx("p",{children:"Please sign in to use the Trigger Tracker"})]})})},Lt=()=>e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"page-hero",children:e.jsxs("div",{className:"hero-content",children:[e.jsx("h1",{children:"üìä Trigger Tracker"}),e.jsx("p",{className:"hero-subtitle",children:"Log and analyze your triggers to identify patterns and improve coping strategies"})]})}),e.jsx("div",{className:"page-content",children:e.jsx($t,{})})]}),ba=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),Ms=[{value:1,emoji:"üò¢",label:"Terrible",color:"#e63946"},{value:2,emoji:"üòû",label:"Bad",color:"#f07167"},{value:3,emoji:"üòï",label:"Not Great",color:"#f4a261"},{value:4,emoji:"üòê",label:"Okay",color:"#e9c46a"},{value:5,emoji:"üôÇ",label:"Fine",color:"#e9c46a"},{value:6,emoji:"üòä",label:"Good",color:"#b7ce63"},{value:7,emoji:"üòÑ",label:"Great",color:"#8fbc8f"},{value:8,emoji:"üòÅ",label:"Really Good",color:"#66bb6a"},{value:9,emoji:"ü§©",label:"Amazing",color:"#4db8a8"},{value:10,emoji:"üéâ",label:"Fantastic!",color:"#4db8a8"}],as={low:["This feeling is temporary. You've gotten through hard days before.","It's okay to not be okay. Be gentle with yourself today.","You are stronger than you feel right now.","One small step is still progress. You're doing your best.","This too shall pass. Brighter days are ahead."],medium:["You're doing better than you think. Keep going.","Every day is a fresh start. You're on the right path.","Progress, not perfection. You're moving forward.","You're capable of handling today's challenges.","Trust the process. You're exactly where you need to be."],high:["Your positive energy is contagious. Keep shining!","You're crushing it today. This momentum is powerful.","Your joy is your strength. Embrace this feeling.","You deserve this happiness. Celebrate yourself!","You're an inspiration. Share this positivity with others."]},_s=["What's one thing that made you smile today?","Who are you grateful for right now?","What's a small win you can celebrate today?","What's something beautiful you noticed today?","What strength did you show today?"],Wt=()=>{const[i,f]=o.useState(null),[u,r]=o.useState(""),[g,h]=o.useState(!1),[k,E]=o.useState(""),[B]=o.useState(_s[Math.floor(Math.random()*_s.length)]),N=w=>{f(w),R(w)},R=w=>{let S;w<=3?S=as.low:w<=7?S=as.medium:S=as.high;const M=Math.floor(Math.random()*S.length);E(S[M])},d=w=>{if(w.preventDefault(),i){h(!0);const S={mood:i,gratitude:u,timestamp:new Date().toISOString()};console.log("Mood Check-In:",S)}},x=()=>{f(null),r(""),h(!1),E("")},p=i?Ms.find(w=>w.value===i):null;return g?e.jsxs("div",{className:"mood-checkin",children:[e.jsx(Re,{children:e.jsx("title",{children:"Mood Check-In Complete - WellnessCafe"})}),e.jsxs("div",{className:"checkin-results",children:[e.jsxs("div",{className:"results-header",children:[e.jsx("div",{className:"mood-emoji-large",style:{color:p.color},children:p.emoji}),e.jsx("h2",{children:"Check-In Complete"}),e.jsxs("p",{className:"mood-label",style:{color:p.color},children:["You're feeling: ",e.jsx("strong",{children:p.label})]})]}),e.jsxs("div",{className:"affirmation-card",children:[e.jsx(Ie,{className:"affirmation-icon"}),e.jsxs("p",{className:"affirmation-text",children:['"',k,'"']})]}),u&&e.jsxs("div",{className:"gratitude-display",children:[e.jsx("h3",{children:"Your Gratitude"}),e.jsx("p",{children:u})]}),e.jsxs("div",{className:"upgrade-prompt",children:[e.jsx(Te,{size:24}),e.jsx("h3",{children:"Track Your Mood Over Time"}),e.jsx("p",{children:"See patterns, identify triggers, and understand what influences your mood. Premium members get 30-day analytics, trend graphs, and personalized insights."}),e.jsx("button",{className:"upgrade-btn",children:"Upgrade to Track Trends"})]}),e.jsxs("div",{className:"quick-tips",children:[e.jsx("h3",{children:"Based on Your Mood"}),e.jsx("ul",{children:i<=3?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Try our Breathing Exercises for instant relief"}),e.jsx("li",{children:"Reach out to someone you trust"}),e.jsx("li",{children:"Take a short walk outside if possible"}),e.jsx("li",{children:"Remember: You don't have to feel this way forever"})]}):i<=7?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Keep up your healthy routines"}),e.jsx("li",{children:"Try a meditation session to maintain balance"}),e.jsx("li",{children:"Connect with supportive people today"}),e.jsx("li",{children:"Celebrate your progress, no matter how small"})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Share your positivity with others"}),e.jsx("li",{children:"Use this energy for something meaningful"}),e.jsx("li",{children:"Capture this feeling in a journal"}),e.jsx("li",{children:"You deserve this joy - embrace it fully!"})]})})]}),e.jsx("div",{className:"checkin-actions",children:e.jsx("button",{className:"btn-secondary",onClick:x,children:"New Check-In"})})]})]}):e.jsxs("div",{className:"mood-checkin",children:[e.jsxs(Re,{children:[e.jsx("title",{children:"Daily Mood Check-In - WellnessCafe"}),e.jsx("meta",{name:"description",content:"Check in with your mood daily. Simple 1-10 scale with personalized affirmations."})]}),e.jsxs("div",{className:"checkin-header",children:[e.jsx(it,{className:"header-icon"}),e.jsx("h1",{children:"How Are You Feeling Today?"}),e.jsx("p",{children:"Take a moment to check in with yourself"})]}),e.jsxs("form",{onSubmit:d,className:"checkin-form",children:[e.jsxs("div",{className:"mood-scale-section",children:[e.jsx("h3",{children:"Rate Your Mood (1-10)"}),e.jsx("div",{className:"mood-scale",children:Ms.map(w=>e.jsxs("button",{type:"button",className:`mood-option ${i===w.value?"selected":""}`,onClick:()=>N(w.value),style:{"--mood-color":w.color,borderColor:i===w.value?w.color:"transparent"},children:[e.jsx("span",{className:"mood-emoji",children:w.emoji}),e.jsx("span",{className:"mood-value",children:w.value}),e.jsx("span",{className:"mood-label",children:w.label})]},w.value))})]}),i&&e.jsxs("div",{className:"affirmation-preview fade-in",children:[e.jsx(Ie,{size:20}),e.jsxs("p",{children:['"',k,'"']})]}),i&&e.jsxs("div",{className:"gratitude-section fade-in",children:[e.jsx("h3",{children:B}),e.jsx("textarea",{value:u,onChange:w=>r(w.target.value),placeholder:"Type your response here (optional)...",rows:4,className:"gratitude-input"})]}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:!i,style:{background:i&&p?`linear-gradient(135deg, ${p.color}, var(--wc-gold))`:void 0},children:"Complete Check-In"})]}),e.jsxs("div",{className:"checkin-info",children:[e.jsxs("div",{className:"info-card",children:[e.jsx(fe,{className:"info-icon"}),e.jsx("h3",{children:"Why Daily Check-Ins Matter"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Build self-awareness and emotional intelligence"}),e.jsx("li",{children:"Catch negative patterns before they escalate"}),e.jsx("li",{children:"Celebrate positive progress and wins"}),e.jsx("li",{children:"Create a daily wellness habit"})]})]}),e.jsxs("div",{className:"upgrade-teaser",children:[e.jsx(Te,{className:"info-icon"}),e.jsx("h3",{children:"Premium Features"}),e.jsxs("ul",{children:[e.jsx("li",{children:"üìä 30-day mood tracking & trends"}),e.jsx("li",{children:"üìà Pattern recognition & insights"}),e.jsx("li",{children:"üìù Unlimited gratitude entries"}),e.jsx("li",{children:"üéØ Trigger & correlation analysis"}),e.jsx("li",{children:"üì± Daily reminder notifications"})]}),e.jsx("button",{className:"upgrade-btn-small",children:"Upgrade - $9.99/mo"})]})]})]})},Ut=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs(Re,{children:[e.jsx("title",{children:"Daily Mood Check-In - Free Wellness Tool | WellnessCafe"}),e.jsx("meta",{name:"description",content:"Check in with your mood daily using our simple 1-10 scale with personalized affirmations and gratitude prompts. Build self-awareness and emotional wellness."}),e.jsx("meta",{name:"keywords",content:"mood tracker, emotional wellness, daily check-in, mental health, gratitude journal, self-awareness"})]}),e.jsxs("div",{className:"tool-page-header",children:[e.jsx(de,{to:"/tools",className:"back-link",children:"‚Üê Back to Tools"}),e.jsxs("div",{className:"tool-title-section",children:[e.jsx("h1",{children:"Daily Mood Check-In"}),e.jsx("span",{className:"free-badge",children:"FREE"})]})]}),e.jsxs("div",{className:"tool-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:"1-10"}),e.jsx("span",{className:"stat-label",children:"Simple Scale"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:"5"}),e.jsx("span",{className:"stat-label",children:"Mood Categories"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:"‚àû"}),e.jsx("span",{className:"stat-label",children:"Daily Affirmations"})]})]}),e.jsxs("div",{className:"tool-benefits",children:[e.jsx("h2",{children:"Why Daily Mood Check-Ins Work"}),e.jsxs("div",{className:"benefits-grid",children:[e.jsxs("div",{className:"benefit-card",children:[e.jsx("span",{className:"benefit-icon",children:"üß†"}),e.jsx("h3",{children:"Build Self-Awareness"}),e.jsx("p",{children:"Track how you're really feeling each day and recognize patterns in your emotional wellness journey."})]}),e.jsxs("div",{className:"benefit-card",children:[e.jsx("span",{className:"benefit-icon",children:"üìà"}),e.jsx("h3",{children:"Early Detection"}),e.jsx("p",{children:"Catch negative patterns before they escalate. Prevention is easier than recovery."})]}),e.jsxs("div",{className:"benefit-card",children:[e.jsx("span",{className:"benefit-icon",children:"üéØ"}),e.jsx("h3",{children:"Personalized Support"}),e.jsx("p",{children:"Receive mood-specific affirmations and actionable tips tailored to how you're feeling right now."})]}),e.jsxs("div",{className:"benefit-card",children:[e.jsx("span",{className:"benefit-icon",children:"üôè"}),e.jsx("h3",{children:"Gratitude Practice"}),e.jsx("p",{children:"Daily gratitude prompts help shift focus to positive aspects of your life and build resilience."})]})]})]}),e.jsx("div",{className:"tool-component-wrapper",children:e.jsx(Wt,{})}),e.jsxs("div",{className:"tool-info-section",children:[e.jsx("h2",{children:"The Science of Daily Check-Ins"}),e.jsxs("div",{className:"info-content",children:[e.jsx("p",{children:"Research shows that daily mood tracking and gratitude practices are powerful tools for emotional wellness:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Self-awareness:"})," Regular check-ins help you understand your emotional patterns and triggers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gratitude impact:"})," Studies show gratitude practices increase happiness by 25% and reduce depression"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Early intervention:"})," Tracking mood helps catch downward spirals early when they're easier to address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Positive reinforcement:"})," Celebrating good days builds momentum and strengthens recovery"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," This is a wellness tool, not a substitute for professional mental health care. If you're experiencing persistent low mood or crisis, please reach out to a healthcare provider or call 988 (Suicide & Crisis Lifeline)."]})]})]}),e.jsxs("div",{className:"tool-page-footer",children:[e.jsx("h2",{children:"Ready to Build Better Emotional Awareness?"}),e.jsx("p",{children:"Join WellnessCafe to unlock premium mood tracking with 30-day analytics, pattern recognition, trigger analysis, and personalized insights."}),e.jsxs("div",{className:"cta-buttons",children:[e.jsx(de,{to:"/signup",className:"cta-primary",children:"Start Your Wellness Journey"}),e.jsx(de,{to:"/tools",className:"cta-secondary",children:"Explore More Tools"})]})]})]}),ya=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"})),is=["What made you smile today?","Who are you grateful to have in your life?","What challenge helped you grow recently?","What's a simple pleasure you enjoyed today?","What part of your routine brings you peace?","What strength did you discover in yourself?","What act of kindness touched your heart?","What in nature are you thankful for?","What lesson are you grateful to have learned?","What comfort or security do you appreciate?"],rs=["People","Health","Growth","Nature","Comfort","Achievement","Kindness","Recovery"],fs=()=>new Date().toISOString().slice(0,10);function Gt(){const[i]=o.useState(fs()),[f,u]=o.useState(is[0]),[r,g]=o.useState([{text:"",category:"People"}]),[h,k]=o.useState(""),[E,B]=o.useState([]),[N,R]=o.useState(!1),[d,x]=o.useState(!1);o.useEffect(()=>{const l=Ae(pe(he,"gratitude"),We("createdAt","desc"),Ye(90)),c=Le(l,s=>{const t=s.docs.map(n=>({id:n.id,...n.data(),date:Kt(n.data())}));B(t)},s=>{console.error("gratitude:onSnapshot",s)});return()=>c()},[]);const P=()=>{const l=is[Math.floor(Math.random()*is.length)];u(l)},p=()=>{r.length<10&&g([...r,{text:"",category:"People"}])},w=l=>{r.length>1&&g(r.filter((c,s)=>s!==l))},S=(l,c,s)=>{const t=[...r];t[l][c]=s,g(t)},M=async()=>{if(!r.every(l=>!l.text.trim())){R(!0);try{const l=r.filter(c=>c.text.trim());await $e(pe(he,"gratitude"),{date:i,prompt:f,entries:l,reflection:h,count:l.length,createdAt:Je()}),g([{text:"",category:"People"}]),k("")}catch(l){console.error("gratitude:addDoc",l)}R(!1)}},W=async l=>{try{await lt(ot(he,"gratitude",l))}catch(c){console.error("gratitude:deleteDoc",c)}},C=o.useMemo(()=>{if(E.length===0)return{total:0,streak:0,avgCount:0,thisMonth:0};const l=E.reduce((t,n)=>t+(n.count||0),0),c=Ht(E),s=qt(E);return{total:l,streak:c,avgCount:(l/E.length).toFixed(1),thisMonth:s}},[E]),z=o.useMemo(()=>{const l=[...E].reverse().slice(-14);return l.map((c,s)=>({name:`D${l.length-s}`,count:c.count||0}))},[E]),H=o.useMemo(()=>{const l=rs.reduce((c,s)=>(c[s]=0,c),{});return E.forEach(c=>{(c.entries||[]).forEach(s=>{l[s.category]!=null&&(l[s.category]+=1)})}),rs.map(c=>({name:c,count:l[c]||0}))},[E]);return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-green-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-emerald-500/5 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 sticky top-0 backdrop-blur-md bg-slate-950/60 border-b border-green-400/20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center shadow-lg shadow-green-500/30",children:e.jsx(Ce,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-green-400",children:"Gratitude Journal"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Count blessings ‚Ä¢ Build positivity ‚Ä¢ Shift perspective"})]})]}),e.jsxs("div",{className:"hidden md:grid grid-cols-3 gap-6 text-sm",children:[e.jsx(ns,{title:"TOTAL",value:C.total}),e.jsx(ns,{title:"STREAK",value:`${C.streak}d`}),e.jsx(ns,{title:"AVG/DAY",value:C.avgCount})]})]})}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-green-400/30 p-8 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-green-300 flex items-center gap-2",children:[e.jsx(Ie,{size:20})," Today's Prompt"]}),e.jsx("button",{onClick:P,className:"px-4 py-2 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-300 text-sm font-semibold transition-all",children:"Shuffle"})]}),e.jsxs("p",{className:"text-xl text-white italic mb-6",children:['"',f,'"']}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-green-500/30 to-transparent mb-6"}),e.jsx("div",{className:"space-y-4",children:r.map((l,c)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("textarea",{value:l.text,onChange:s=>S(c,"text",s.target.value),placeholder:`Gratitude #${c+1}...`,className:"w-full h-24 bg-black/40 border border-white/10 rounded-xl p-4 outline-none focus:ring-2 focus:ring-green-400/50 text-white placeholder-gray-500 resize-none"}),e.jsx("select",{value:l.category,onChange:s=>S(c,"category",s.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white outline-none focus:ring-2 focus:ring-green-400/50",children:rs.map(s=>e.jsx("option",{value:s,children:s},s))})]}),r.length>1&&e.jsx("button",{onClick:()=>w(c),className:"w-10 h-10 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-300 flex items-center justify-center transition-all",children:e.jsx(ws,{size:18})})]},c))}),r.length<10&&e.jsxs("button",{onClick:p,className:"w-full mt-4 px-4 py-3 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-300 text-sm font-semibold transition-all flex items-center justify-center gap-2",children:[e.jsx(rt,{size:18})," Add Another Gratitude"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-green-400/30 p-8 backdrop-blur",children:[e.jsxs("h2",{className:"text-lg font-bold text-green-300 flex items-center gap-2 mb-4",children:[e.jsx(nt,{size:20})," Evening Reflection (Optional)"]}),e.jsx("textarea",{value:h,onChange:l=>k(l.target.value),placeholder:"How did practicing gratitude shift your perspective today?",className:"w-full h-32 bg-black/40 border border-white/10 rounded-xl p-4 outline-none focus:ring-2 focus:ring-green-400/50 text-white placeholder-gray-500 resize-none"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-green-400/30 p-8 backdrop-blur",children:[e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[e.jsx(Fe,{size:14,className:"inline mr-2"}),i]}),e.jsxs("button",{onClick:M,disabled:N||r.every(l=>!l.text.trim()),className:"w-full px-6 py-4 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white text-sm font-bold transition-all hover:scale-105 shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(ps,{size:18}),N?"Saving...":"Save Entry"]})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-400/30 rounded-xl p-4 text-sm text-green-100",children:[e.jsx("p",{className:"font-semibold mb-2",children:"üí° Why Gratitude?"}),e.jsx("p",{className:"text-xs",children:"Daily gratitude practice rewires your brain to notice positivity, reduces stress, and improves emotional resilience."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Rs,{icon:e.jsx(Ue,{size:14}),title:"This Month",value:C.thisMonth}),e.jsx(Rs,{icon:e.jsx(De,{size:14}),title:"All Time",value:C.total})]})]})]}),E.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-300 flex items-center gap-2 mb-8",children:[e.jsx(fe,{size:24})," Your Gratitude Journey"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-green-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-green-300 flex items-center gap-2 mb-6",children:[e.jsx(fe,{size:20})," 14-Day Trend"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ve,{data:z,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorGratitude",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888"}),e.jsx(oe,{allowDecimals:!1,stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px",color:"#fff"}}),e.jsx(Qe,{type:"monotone",dataKey:"count",stroke:"#10b981",fillOpacity:1,fill:"url(#colorGratitude)"})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-green-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-green-300 flex items-center gap-2 mb-6",children:[e.jsx(ue,{size:20})," Category Distribution"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(ue,{data:H,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888",angle:-45,textAnchor:"end",height:80}),e.jsx(oe,{allowDecimals:!1,stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}}),e.jsx(we,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-green-400/30 p-8 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-green-300 flex items-center gap-2",children:[e.jsx(Ce,{size:20})," Recent Entries"]}),e.jsx("button",{onClick:()=>x(!d),className:"text-sm text-green-400 hover:text-green-300 transition-all",children:d?"Show Less":"Show All"})]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:E.slice(0,d?E.length:5).map(l=>e.jsxs("div",{className:"p-6 bg-black/30 border border-white/10 rounded-xl hover:border-green-400/30 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:l.date}),e.jsxs("p",{className:"text-xs text-green-400 italic mt-1",children:['"',l.prompt,'"']})]}),e.jsx("button",{onClick:()=>W(l.id),className:"text-red-400 hover:text-red-300 transition-all",children:e.jsx(ws,{size:16})})]}),e.jsx("div",{className:"space-y-2",children:(l.entries||[]).map((c,s)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-green-400 mt-1",children:"‚Ä¢"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-white",children:c.text}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-green-500/20 text-green-200 inline-block mt-1",children:c.category})]})]},s))}),l.reflection&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Reflection:"}),e.jsxs("p",{className:"text-sm text-gray-300 italic",children:['"',l.reflection,'"']})]})]},l.id))})]})]})]})]})}function ns({title:i,value:f}){return e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:i}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:f})]})}function Rs({icon:i,title:f,value:u}){return e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-green-400/30 p-4 backdrop-blur",children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-2 flex items-center gap-2",children:[i,f]}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:u})]})}function Kt(i){return i?.date?i.date:i?.createdAt?.seconds?new Date(i.createdAt.seconds*1e3).toISOString().slice(0,10):fs()}function Ht(i){const f=new Set(i.map(r=>r.date||fs()));let u=0;for(let r=0;r<90;r++){const g=new Date;g.setDate(g.getDate()-r);const h=g.toISOString().slice(0,10);if(f.has(h))u++;else break}return u}function qt(i){const f=new Date,u=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}`;return i.filter(r=>(r.date||"").startsWith(u)).length}const Yt=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsxs("h1",{className:"tool-page-title",children:[e.jsx("span",{className:"tool-icon",children:"üôè"}),"Gratitude Journal"]}),e.jsx("p",{className:"tool-page-subtitle",children:"Practice daily gratitude and discover the power of appreciation"})]}),e.jsx("div",{className:"tool-page-content",children:e.jsx(Gt,{})}),e.jsxs("div",{className:"tool-page-footer",children:[e.jsxs("div",{className:"tool-tips",children:[e.jsx("h3",{children:"üí° Tips for Gratitude Practice"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Write at the same time each day for consistency"}),e.jsx("li",{children:"Be specific about what you're grateful for"}),e.jsx("li",{children:"Notice small things as well as big ones"}),e.jsx("li",{children:"Reflect on how gratitude makes you feel"}),e.jsx("li",{children:"Review past entries when you need a boost"})]})]}),e.jsxs("div",{className:"tool-benefits",children:[e.jsx("h3",{children:"‚ú® Benefits of Gratitude Journaling"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Improves mental health and reduces stress"}),e.jsx("li",{children:"Enhances relationships and social connections"}),e.jsx("li",{children:"Increases resilience during challenging times"}),e.jsx("li",{children:"Promotes better sleep and physical health"}),e.jsx("li",{children:"Builds a positive mindset over time"})]})]})]})]}),va=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),Ds=[{name:"Quick Reset",duration:300,desc:"5-min centering"},{name:"Standard",duration:600,desc:"10-min practice"},{name:"Deep Dive",duration:900,desc:"15-min session"},{name:"Extended",duration:1200,desc:"20-min immersion"},{name:"Custom",duration:0,desc:"Set your own"}],Ke=[{id:"none",name:"Silence",desc:"No sound"},{id:"bell",name:"Tibetan Bell",desc:"Gentle chimes"},{id:"singing-bowl",name:"Singing Bowl",desc:"Resonant tones"},{id:"rain",name:"Rain",desc:"Ambient rainfall"},{id:"ocean",name:"Ocean Waves",desc:"Rhythmic waves"},{id:"forest",name:"Forest",desc:"Birds & breeze"}],He=["Breath awareness","Body scan","Loving-kindness","Mantra repetition","Open monitoring","Visualization"],js=()=>new Date().toISOString().slice(0,10),Jt=i=>`${String(Math.floor(i/60)).padStart(2,"0")}:${String(i%60).padStart(2,"0")}`;function Vt(){const[i,f]=o.useState(Ds[1]),[u,r]=o.useState(10),[g,h]=o.useState(600),[k,E]=o.useState(0),[B,N]=o.useState(!1),[R,d]=o.useState(!1),[x,P]=o.useState(Ke[0]),[p,w]=o.useState(He[0]),[S,M]=o.useState(""),[W,C]=o.useState([]),[z,H]=o.useState(!1),l=o.useRef(null);o.useEffect(()=>{const j=Ae(pe(he,"meditation"),We("createdAt","desc"),Ye(60)),b=Le(j,$=>{const _=$.docs.map(D=>({id:D.id,...D.data(),date:Qt(D.data())}));C(_)},$=>{console.error("meditation:onSnapshot",$)});return()=>b()},[]),o.useEffect(()=>{if(!B)return;const j=setInterval(()=>{E(b=>{const $=b+1;return $>=g?(N(!1),d(!0),y(),a(g),g):$})},1e3);return()=>clearInterval(j)},[B,g,y,a]);const c=()=>{if(k===0){const j=i.name==="Custom"?u*60:i.duration;h(j),E(0)}N(!0),d(!1)},s=()=>{N(!1)},t=()=>{N(!1),E(0),d(!1)},n=j=>{f(j);const b=j.name==="Custom"?u*60:j.duration;h(b),t()},y=o.useCallback(()=>{z||x.id==="none"||l.current&&l.current.play().catch(()=>{})},[z,x]),a=o.useCallback(async j=>{try{const b={date:js(),duration:j,technique:p,sound:x.id,note:S,createdAt:Je()};await $e(pe(he,"meditation"),b),C($=>[b,...$].slice(0,60)),M("")}catch(b){console.error("meditation:addDoc",b)}},[p,x,S]),m=o.useMemo(()=>{if(W.length===0)return{total:0,totalMinutes:0,streak:0,avgDuration:0,thisWeek:0};const j=W.reduce((_,D)=>_+(D.duration||0),0)/60,b=Zt(W),$=W.filter(_=>{const D=new Date(_.date||Date.now()),I=new Date;return I.setDate(I.getDate()-7),D>=I}).length;return{total:W.length,totalMinutes:Math.floor(j),streak:b,avgDuration:Math.floor(j/W.length),thisWeek:$}},[W]),T=o.useMemo(()=>{const j=[...W].reverse().slice(-14);return j.map((b,$)=>({name:`D${j.length-$}`,minutes:Math.floor((b.duration||0)/60)}))},[W]),U=o.useMemo(()=>{const j=He.reduce((b,$)=>(b[$]=0,b),{});return W.forEach(b=>{j[b.technique]!=null&&(j[b.technique]+=1)}),He.map(b=>({name:b.split(" ")[0],count:j[b]||0}))},[W]),V=g>0?k/g*100:0,A=g-k;return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-indigo-500/5 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 sticky top-0 backdrop-blur-md bg-slate-950/60 border-b border-purple-400/20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-purple-400 to-indigo-500 flex items-center justify-center shadow-lg shadow-purple-500/30",children:e.jsx(ks,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-purple-400",children:"Meditation Timer"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Practice mindfulness ‚Ä¢ Build consistency ‚Ä¢ Track progress"})]})]}),e.jsxs("div",{className:"hidden md:grid grid-cols-3 gap-6 text-sm",children:[e.jsx(ls,{title:"SESSIONS",value:m.total}),e.jsx(ls,{title:"STREAK",value:`${m.streak}d`}),e.jsx(ls,{title:"TOTAL MIN",value:m.totalMinutes})]})]})}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[e.jsx("div",{className:"lg:col-span-2 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-purple-400/30 p-8 backdrop-blur",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-64 h-64 mb-8",children:[e.jsxs("svg",{className:"transform -rotate-90",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(139, 92, 246, 0.1)",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#a855f7",strokeWidth:"8",strokeDasharray:`${V*2.827} 282.7`,strokeLinecap:"round",className:"transition-all duration-1000"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-6xl font-bold text-purple-400",children:Jt(B||R?A:g)}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:R?"Complete!":B?"Remaining":"Duration"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[B?e.jsx("button",{onClick:s,className:"w-16 h-16 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white flex items-center justify-center shadow-lg transition-all hover:scale-110",children:e.jsx(dt,{size:28})}):e.jsx("button",{onClick:c,className:"w-16 h-16 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white flex items-center justify-center shadow-lg transition-all hover:scale-110",children:e.jsx(ct,{size:28})}),e.jsx("button",{onClick:t,className:"w-16 h-16 rounded-full bg-slate-700 hover:bg-slate-600 text-white flex items-center justify-center transition-all hover:scale-110",children:e.jsx(ht,{size:24})}),e.jsx("button",{onClick:()=>H(!z),className:"w-16 h-16 rounded-full bg-slate-700 hover:bg-slate-600 text-white flex items-center justify-center transition-all hover:scale-110",children:z?e.jsx(Fs,{size:24}):e.jsx(Bs,{size:24})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Duration Presets"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ds.map(j=>e.jsxs("button",{onClick:()=>n(j),disabled:B,className:`p-3 rounded-lg border-2 transition-all text-sm ${i.name===j.name?"border-purple-400 bg-purple-500/20 text-purple-200":"border-white/10 bg-white/5 text-gray-300 hover:border-white/20"} disabled:opacity-50`,children:[e.jsx("div",{className:"font-bold",children:j.name}),e.jsx("div",{className:"text-xs text-gray-400",children:j.desc})]},j.name))}),i.name==="Custom"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-sm text-purple-300 block mb-2",children:"Minutes:"}),e.jsx("input",{type:"number",min:"1",max:"120",value:u,onChange:j=>{const b=parseInt(j.target.value)||1;r(b),h(b*60)},className:"w-full bg-black/40 border border-white/10 rounded-lg px-4 py-2 text-white outline-none focus:ring-2 focus:ring-purple-400/50"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-purple-400/30 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Technique"}),e.jsx("select",{value:p,onChange:j=>w(j.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-400/50",children:He.map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-purple-400/30 p-6 backdrop-blur",children:[e.jsxs("h3",{className:"text-sm font-semibold text-purple-300 mb-3 flex items-center gap-2",children:[e.jsx(mt,{size:16})," Ambient Sound"]}),e.jsx("select",{value:x.id,onChange:j=>P(Ke.find(b=>b.id===j.target.value)),className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-400/50",children:Ke.map(j=>e.jsxs("option",{value:j.id,children:[j.name," - ",j.desc]},j.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-purple-400/30 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Session Note"}),e.jsx("textarea",{value:S,onChange:j=>M(j.target.value),placeholder:"How did this practice feel?",className:"w-full h-24 bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-400/50 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(As,{icon:e.jsx(Ue,{size:14}),title:"This Week",value:m.thisWeek}),e.jsx(As,{icon:e.jsx(De,{size:14}),title:"Avg Min",value:m.avgDuration})]})]})]}),W.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-300 flex items-center gap-2 mb-8",children:[e.jsx(fe,{size:24})," Your Practice Journey"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-purple-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-300 flex items-center gap-2 mb-6",children:[e.jsx(fe,{size:20})," 14-Session Minutes"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ve,{data:T,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorMeditation",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:.1})]})}),e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888"}),e.jsx(oe,{stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px",color:"#fff"}}),e.jsx(Qe,{type:"monotone",dataKey:"minutes",stroke:"#a855f7",fillOpacity:1,fill:"url(#colorMeditation)"})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-purple-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-300 flex items-center gap-2 mb-6",children:[e.jsx(ue,{size:20})," Techniques Used"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(ue,{data:U,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888"}),e.jsx(oe,{allowDecimals:!1,stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}}),e.jsx(we,{dataKey:"count",fill:"#a855f7",radius:[8,8,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-purple-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-300 flex items-center gap-2 mb-6",children:[e.jsx(ks,{size:20})," Recent Sessions"]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:W.slice(0,10).map((j,b)=>e.jsxs("div",{className:"p-4 bg-black/30 border border-white/10 rounded-xl hover:border-purple-400/30 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white font-semibold",children:j.technique}),e.jsx("p",{className:"text-xs text-gray-400",children:j.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-purple-400",children:[Math.floor((j.duration||0)/60)," min"]}),j.sound&&j.sound!=="none"&&e.jsx("p",{className:"text-xs text-gray-400",children:Ke.find($=>$.id===j.sound)?.name||"Sound"})]})]}),j.note&&e.jsxs("p",{className:"text-sm text-gray-300 italic mt-2",children:['"',j.note,'"']})]},b))})]})]})]}),e.jsx("audio",{ref:l,src:"/sounds/meditation-bell.mp3"})]})}function ls({title:i,value:f}){return e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:i}),e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:f})]})}function As({icon:i,title:f,value:u}){return e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-purple-400/30 p-4 backdrop-blur",children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-2 flex items-center gap-2",children:[i,f]}),e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:u})]})}function Qt(i){return i?.date?i.date:i?.createdAt?.seconds?new Date(i.createdAt.seconds*1e3).toISOString().slice(0,10):js()}function Zt(i){const f=new Set(i.map(r=>r.date||js()));let u=0;for(let r=0;r<90;r++){const g=new Date;g.setDate(g.getDate()-r);const h=g.toISOString().slice(0,10);if(f.has(h))u++;else break}return u}const Xt=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsxs("h1",{className:"tool-page-title",children:[e.jsx("span",{className:"tool-icon",children:"üßò"}),"Meditation Timer Premium"]}),e.jsx("p",{className:"tool-page-subtitle",children:"Build your mindfulness practice with guided meditation sessions"})]}),e.jsx("div",{className:"tool-page-content",children:e.jsx(Vt,{})}),e.jsxs("div",{className:"tool-page-footer",children:[e.jsxs("div",{className:"tool-tips",children:[e.jsx("h3",{children:"üí° Meditation Tips"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Find a quiet, comfortable space"}),e.jsx("li",{children:"Start with shorter sessions and build up gradually"}),e.jsx("li",{children:"Focus on your breath when your mind wanders"}),e.jsx("li",{children:"Be patient with yourself - meditation is a practice"}),e.jsx("li",{children:"Try different techniques to find what works for you"})]})]}),e.jsxs("div",{className:"tool-benefits",children:[e.jsx("h3",{children:"‚ú® Benefits of Meditation"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Reduces stress and anxiety"}),e.jsx("li",{children:"Improves focus and concentration"}),e.jsx("li",{children:"Enhances emotional regulation"}),e.jsx("li",{children:"Promotes better sleep quality"}),e.jsx("li",{children:"Supports addiction recovery and relapse prevention"})]})]})]})]}),Na=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),os={joy:{name:"Joy",color:"#fbbf24",family:"Happy"},peace:{name:"Peace",color:"#60a5fa",family:"Calm"},love:{name:"Love",color:"#f472b6",family:"Happy"},excitement:{name:"Excitement",color:"#fb923c",family:"Energized"},contentment:{name:"Contentment",color:"#a3e635",family:"Calm"},sadness:{name:"Sadness",color:"#6366f1",family:"Down"},anger:{name:"Anger",color:"#ef4444",family:"Tense"},fear:{name:"Fear",color:"#a855f7",family:"Anxious"},anxiety:{name:"Anxiety",color:"#ec4899",family:"Anxious"},frustration:{name:"Frustration",color:"#f97316",family:"Tense"},loneliness:{name:"Loneliness",color:"#8b5cf6",family:"Down"},hope:{name:"Hope",color:"#10b981",family:"Energized"}},cs=["Head","Neck","Shoulders","Chest","Stomach","Arms","Hands","Back","Legs","Feet"],bs=()=>new Date().toISOString().slice(0,10);function ea(){const[i]=o.useState(bs()),[f,u]=o.useState([]),[r,g]=o.useState(5),[h,k]=o.useState([]),[E,B]=o.useState(""),[N,R]=o.useState(""),[d,x]=o.useState([]),[P,p]=o.useState(!1);o.useEffect(()=>{const l=Ae(pe(he,"emotions"),We("createdAt","desc"),Ye(60)),c=Le(l,s=>{const t=s.docs.map(n=>({id:n.id,...n.data(),date:sa(n.data())}));x(t)},s=>{console.error("emotions:onSnapshot",s)});return()=>c()},[]);const w=l=>{u(c=>c.includes(l)?c.filter(s=>s!==l):[...c,l])},S=l=>{k(c=>c.includes(l)?c.filter(s=>s!==l):[...c,l])},M=async()=>{if(f.length!==0){p(!0);try{await $e(pe(he,"emotions"),{date:i,emotions:f.map(l=>os[l].name),families:[...new Set(f.map(l=>os[l].family))],intensity:r,bodyAreas:h,context:E,coping:N,createdAt:Je()}),u([]),k([]),g(5),B(""),R("")}catch(l){console.error("emotions:addDoc",l)}p(!1)}},W=o.useMemo(()=>{if(d.length===0)return{total:0,streak:0,avgIntensity:0,thisWeek:0};const l=d.reduce((t,n)=>t+(n.intensity||0),0),c=ta(d),s=d.filter(t=>{const n=new Date(t.date||Date.now()),y=new Date;return y.setDate(y.getDate()-7),n>=y}).length;return{total:d.length,streak:c,avgIntensity:(l/d.length).toFixed(1),thisWeek:s}},[d]),C=o.useMemo(()=>{const l=[...d].reverse().slice(-14);return l.map((c,s)=>({name:`D${l.length-s}`,intensity:c.intensity||0}))},[d]),z=o.useMemo(()=>{const l=["Happy","Calm","Energized","Down","Tense","Anxious"],c=l.reduce((s,t)=>(s[t]=0,s),{});return d.forEach(s=>{(s.families||[]).forEach(t=>{c[t]!=null&&(c[t]+=1)})}),l.map(s=>({family:s,count:c[s]||0}))},[d]),H=o.useMemo(()=>{const l=cs.reduce((c,s)=>(c[s]=0,c),{});return d.forEach(c=>{(c.bodyAreas||[]).forEach(s=>{l[s]!=null&&(l[s]+=1)})}),cs.map(c=>({area:c,count:l[c]||0}))},[d]);return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-rose-500/5 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 sticky top-0 backdrop-blur-md bg-slate-950/60 border-b border-pink-400/20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center shadow-lg shadow-pink-500/30",children:e.jsx(Ce,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-pink-400",children:"Emotion Tracker"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Name feelings ‚Ä¢ Map body sensations ‚Ä¢ Discover patterns"})]})]}),e.jsxs("div",{className:"hidden md:grid grid-cols-3 gap-6 text-sm",children:[e.jsx(ds,{title:"ENTRIES",value:W.total}),e.jsx(ds,{title:"STREAK",value:`${W.streak}d`}),e.jsx(ds,{title:"AVG INTENSITY",value:W.avgIntensity})]})]})}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("h2",{className:"text-lg font-bold text-pink-300 flex items-center gap-2 mb-6",children:[e.jsx(Ce,{size:20})," What emotions are present?"]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:Object.entries(os).map(([l,c])=>e.jsxs("button",{onClick:()=>w(l),className:`p-4 rounded-xl border-2 transition-all ${f.includes(l)?"border-pink-400 shadow-lg":"border-white/10 bg-white/5 hover:border-white/20"}`,style:{backgroundColor:f.includes(l)?`${c.color}20`:void 0,borderColor:f.includes(l)?c.color:void 0},children:[e.jsx("div",{className:"text-sm font-semibold",style:{color:c.color},children:c.name}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:c.family})]},l))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-pink-300 flex items-center gap-2",children:[e.jsx(Ss,{size:20})," Intensity Level"]}),e.jsx("span",{className:"text-4xl font-bold text-white",children:r})]}),e.jsx("input",{type:"range",min:1,max:10,value:r,onChange:l=>g(parseInt(l.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[e.jsx("span",{children:"Mild"}),e.jsx("span",{children:"Overwhelming"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("h2",{className:"text-lg font-bold text-pink-300 flex items-center gap-2 mb-4",children:[e.jsx(Cs,{size:20})," Where do you feel it in your body?"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:cs.map(l=>e.jsx("button",{onClick:()=>S(l),className:`text-sm px-4 py-2 rounded-lg font-semibold border-2 transition-all ${h.includes(l)?"bg-gradient-to-r from-pink-500/30 to-rose-500/30 border-pink-400 text-pink-200":"bg-white/5 border-white/10 text-gray-300 hover:border-white/20"}`,children:l},l))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-sm font-semibold text-pink-300 mb-3",children:"What triggered this?"}),e.jsx("textarea",{value:E,onChange:l=>B(l.target.value),placeholder:"Situation or event...",className:"w-full h-32 bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-pink-400/50 resize-none"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-sm font-semibold text-pink-300 mb-3",children:"How are you coping?"}),e.jsx("textarea",{value:N,onChange:l=>R(l.target.value),placeholder:"Strategies you're using...",className:"w-full h-32 bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-pink-400/50 resize-none"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[e.jsx(Fe,{size:14,className:"inline mr-2"}),i]}),e.jsxs("button",{onClick:M,disabled:P||f.length===0,className:"w-full px-6 py-4 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white text-sm font-bold transition-all hover:scale-105 shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(ps,{size:18}),P?"Saving...":"Save Entry"]})]}),e.jsxs("div",{className:"bg-pink-500/10 border border-pink-400/30 rounded-xl p-4 text-sm text-pink-100",children:[e.jsxs("p",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(us,{size:16})," Why Track Emotions?"]}),e.jsx("p",{className:"text-xs",children:"Naming emotions reduces their intensity. Body awareness helps you process feelings before they escalate."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Os,{icon:e.jsx(Ue,{size:14}),title:"This Week",value:W.thisWeek}),e.jsx(Os,{icon:e.jsx(De,{size:14}),title:"All Time",value:W.total})]})]})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-pink-300 flex items-center gap-2 mb-8",children:[e.jsx(fe,{size:24})," Emotion Patterns"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-pink-300 flex items-center gap-2 mb-6",children:[e.jsx(fe,{size:20})," 14-Day Intensity"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ve,{data:C,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorEmotion",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:.1})]})}),e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888"}),e.jsx(oe,{domain:[0,10],stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px",color:"#fff"}}),e.jsx(Qe,{type:"monotone",dataKey:"intensity",stroke:"#ec4899",fillOpacity:1,fill:"url(#colorEmotion)"})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-pink-300 flex items-center gap-2 mb-6",children:[e.jsx(Ss,{size:20})," Emotion Families"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ls,{data:z,children:[e.jsx(Ws,{stroke:"#444"}),e.jsx(Us,{dataKey:"family",stroke:"#888"}),e.jsx(Gs,{stroke:"#888"}),e.jsx(Ks,{name:"Count",dataKey:"count",stroke:"#ec4899",fill:"#ec4899",fillOpacity:.6}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}})]})})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-8 backdrop-blur mb-12",children:[e.jsxs("h3",{className:"text-lg font-bold text-pink-300 flex items-center gap-2 mb-6",children:[e.jsx(Cs,{size:20})," Body Sensations Heatmap"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:H.map(({area:l,count:c})=>{const s=Math.max(...H.map(n=>n.count)),t=s>0?c/s*.8+.2:.2;return e.jsxs("div",{className:"p-4 rounded-xl border border-pink-400/30 text-center transition-all",style:{backgroundColor:`rgba(236, 72, 153, ${t*.3})`,borderColor:`rgba(236, 72, 153, ${t})`},children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:l}),e.jsxs("p",{className:"text-xs text-pink-300 mt-1",children:[c," times"]})]},l)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-pink-300 flex items-center gap-2 mb-6",children:[e.jsx(Ce,{size:20})," Recent Entries"]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:d.slice(0,10).map((l,c)=>e.jsxs("div",{className:"p-6 bg-black/30 border border-white/10 rounded-xl hover:border-pink-400/30 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:l.date}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(l.emotions||[]).map((s,t)=>e.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-pink-500/20 text-pink-200",children:s},t))})]}),e.jsxs("p",{className:"text-lg font-bold text-pink-400",children:[l.intensity,"/10"]})]}),l.bodyAreas&&l.bodyAreas.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Body: "}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.bodyAreas.map((s,t)=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-pink-500/10 text-pink-300",children:s},t))})]}),l.context&&e.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Context:"}),' "',l.context,'"']}),l.coping&&e.jsxs("p",{className:"text-sm text-gray-300",children:[e.jsx("span",{className:"text-gray-400",children:"Coping:"}),' "',l.coping,'"']})]},c))})]})]})]})]})}function ds({title:i,value:f}){return e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:i}),e.jsx("p",{className:"text-2xl font-bold text-pink-400",children:f})]})}function Os({icon:i,title:f,value:u}){return e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-pink-400/30 p-4 backdrop-blur",children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-2 flex items-center gap-2",children:[i,f]}),e.jsx("p",{className:"text-2xl font-bold text-pink-400",children:u})]})}function sa(i){return i?.date?i.date:i?.createdAt?.seconds?new Date(i.createdAt.seconds*1e3).toISOString().slice(0,10):bs()}function ta(i){const f=new Set(i.map(r=>r.date||bs()));let u=0;for(let r=0;r<90;r++){const g=new Date;g.setDate(g.getDate()-r);const h=g.toISOString().slice(0,10);if(f.has(h))u++;else break}return u}const aa=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsxs("h1",{className:"tool-page-title",children:[e.jsx("span",{className:"tool-icon",children:"üíó"}),"Emotion Tracker"]}),e.jsx("p",{className:"tool-page-subtitle",children:"Name your emotions and understand where you feel them in your body"})]}),e.jsx("div",{className:"tool-page-content",children:e.jsx(ea,{})}),e.jsxs("div",{className:"tool-page-footer",children:[e.jsxs("div",{className:"tool-tips",children:[e.jsx("h3",{children:"üí° Tips for Emotional Awareness"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Name your emotions without judgment"}),e.jsx("li",{children:"Notice where emotions show up in your body"}),e.jsx("li",{children:"Track emotions multiple times daily for better insights"}),e.jsx("li",{children:"Use the body map to connect physical sensations with feelings"}),e.jsx("li",{children:"Review patterns to understand your emotional triggers"})]})]}),e.jsxs("div",{className:"tool-benefits",children:[e.jsx("h3",{children:"‚ú® Benefits of Emotion Tracking"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Develops emotional intelligence and self-awareness"}),e.jsx("li",{children:"Helps identify patterns and triggers"}),e.jsx("li",{children:"Improves communication about feelings"}),e.jsx("li",{children:"Reduces emotional reactivity over time"}),e.jsx("li",{children:"Supports recovery by preventing emotional relapse"})]})]})]})]}),wa=Object.freeze(Object.defineProperty({__proto__:null,default:aa},Symbol.toStringTag,{value:"Module"})),hs=["People (specific person)","Places (location/setting)","Times (time of day/anniversary)","Stress (work/life pressure)","Emotions (feeling state)","Sensory (sight/smell/sound)","Social (isolation/conflict)","Physical (pain/fatigue)","Success (fear of failure)","Boredom (lack of structure)"],ia=[{key:"hungry",label:"Hungry",desc:"Physical hunger or poor nutrition"},{key:"angry",label:"Angry",desc:"Irritation, resentment, or rage"},{key:"lonely",label:"Lonely",desc:"Isolation or lack of connection"},{key:"tired",label:"Tired",desc:"Physical or emotional exhaustion"}],Ps=[{name:"Call support person",category:"Connection"},{name:"Go to meeting",category:"Connection"},{name:"Urge surfing",category:"Mindfulness"},{name:"Box breathing (4-4-4-4)",category:"Physical"},{name:"Walk outdoors",category:"Physical"},{name:"Journaling",category:"Processing"},{name:"Delay & distract",category:"Behavioral"},{name:"Play the tape forward",category:"Mental"},{name:"Gratitude list",category:"Perspective"},{name:"Cold shower",category:"Physical"}],qs=()=>new Date().toISOString().slice(0,10);function ra(){const[i]=o.useState(qs()),[f,u]=o.useState(hs[0]),[r,g]=o.useState(""),[h,k]=o.useState(5),[E,B]=o.useState([]),[N,R]=o.useState([]),[d,x]=o.useState(""),[P,p]=o.useState(null),[w,S]=o.useState([]),[M,W]=o.useState(!1);o.useEffect(()=>{const a=Ae(pe(he,"triggers"),We("createdAt","desc"),Ye(60)),m=Le(a,T=>{const U=T.docs.map(V=>({id:V.id,...V.data(),date:na(V.data())}));S(U)},T=>{console.error("triggers:onSnapshot",T)});return()=>m()},[]);const C=a=>{B(m=>m.includes(a)?m.filter(T=>T!==a):[...m,a])},z=a=>{R(m=>m.includes(a)?m.filter(T=>T!==a):[...m,a])},H=async()=>{if(r.trim()){W(!0);try{await $e(pe(he,"triggers"),{date:i,triggerType:f,description:r,intensity:h,haltFactors:E,copingUsed:N,copingCategories:[...new Set(N.map(a=>Ps.find(T=>T.name===a)?.category||"Other"))],outcome:d,managed:P!==null?P:void 0,createdAt:Je()}),g(""),k(5),B([]),R([]),x(""),p(null)}catch(a){console.error("triggers:addDoc",a)}W(!1)}},l=o.useMemo(()=>{if(w.length===0)return{total:0,managed:0,avgIntensity:0,thisWeek:0,managedPercent:0};const a=w.filter(U=>U.managed===!0).length,m=w.reduce((U,V)=>U+(V.intensity||0),0),T=w.filter(U=>{const V=new Date(U.date||Date.now()),A=new Date;return A.setDate(A.getDate()-7),V>=A}).length;return{total:w.length,managed:a,avgIntensity:(m/w.length).toFixed(1),thisWeek:T,managedPercent:(a/w.length*100).toFixed(0)}},[w]),c=o.useMemo(()=>{const a=[...w].reverse().slice(-14);return a.map((m,T)=>({name:`D${a.length-T}`,intensity:m.intensity||0,managed:m.managed?1:0}))},[w]),s=o.useMemo(()=>{const a=hs.reduce((m,T)=>(m[T.split(" ")[0]]=0,m),{});return w.forEach(m=>{const T=(m.triggerType||"").split(" ")[0];a[T]!=null&&(a[T]+=1)}),Object.entries(a).map(([m,T])=>({name:m,count:T}))},[w]),t=o.useMemo(()=>{const a={Hungry:0,Angry:0,Lonely:0,Tired:0};return w.forEach(m=>{(m.haltFactors||[]).forEach(T=>{const U=T.charAt(0).toUpperCase()+T.slice(1);a[U]!=null&&(a[U]+=1)})}),Object.entries(a).map(([m,T])=>({name:m,value:T}))},[w]),n=o.useMemo(()=>{const a=["Connection","Mindfulness","Physical","Processing","Behavioral","Mental","Perspective"],m=a.reduce((T,U)=>(T[U]=0,T),{});return w.forEach(T=>{(T.copingCategories||[]).forEach(U=>{m[U]!=null&&(m[U]+=1)})}),a.map(T=>({name:T,count:m[T]||0}))},[w]),y=["#ef4444","#f97316","#fbbf24","#10b981"];return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-red-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-orange-500/5 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 sticky top-0 backdrop-blur-md bg-slate-950/60 border-b border-red-400/20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-red-400 to-orange-500 flex items-center justify-center shadow-lg shadow-red-500/30",children:e.jsx(qe,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-red-400",children:"Trigger Journal"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Identify patterns ‚Ä¢ Build awareness ‚Ä¢ Strengthen response"})]})]}),e.jsxs("div",{className:"hidden md:grid grid-cols-3 gap-6 text-sm",children:[e.jsx(ms,{title:"TOTAL",value:l.total}),e.jsx(ms,{title:"MANAGED",value:`${l.managedPercent}%`}),e.jsx(ms,{title:"AVG INTENSITY",value:l.avgIntensity})]})]})}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h2",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-6",children:[e.jsx(qe,{size:20})," What triggered you?"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-red-300 block mb-2",children:"Trigger Type"}),e.jsx("select",{value:f,onChange:a=>u(a.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg px-4 py-3 text-white outline-none focus:ring-2 focus:ring-red-400/50",children:hs.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-red-300 block mb-2",children:"Describe the Trigger"}),e.jsx("textarea",{value:r,onChange:a=>g(a.target.value),placeholder:"What happened? Be specific about the situation, people, or circumstances...",className:"w-full h-32 bg-black/40 border border-white/10 rounded-xl p-4 outline-none focus:ring-2 focus:ring-red-400/50 text-white placeholder-gray-500 resize-none"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-red-300",children:"Urge/Craving Intensity"}),e.jsx("span",{className:"text-4xl font-bold text-white",children:h})]}),e.jsx("input",{type:"range",min:1,max:10,value:h,onChange:a=>k(parseInt(a.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-red-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[e.jsx("span",{children:"Mild"}),e.jsx("span",{children:"Overwhelming"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h2",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-4",children:[e.jsx(Ts,{size:20})," HALT Check-In"]}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Which factors are present?"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:ia.map(a=>e.jsxs("button",{onClick:()=>C(a.key),className:`p-4 rounded-xl border-2 transition-all text-left ${E.includes(a.key)?"border-red-400 bg-red-500/20":"border-white/10 bg-white/5 hover:border-white/20"}`,children:[e.jsx("div",{className:"font-bold text-white",children:a.label}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:a.desc})]},a.key))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h2",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-4",children:[e.jsx(gs,{size:20})," Coping Strategies Used"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ps.map(a=>e.jsxs("button",{onClick:()=>z(a.name),className:`text-sm px-3 py-2 rounded-lg font-semibold border-2 transition-all ${N.includes(a.name)?"bg-gradient-to-r from-green-500/30 to-emerald-500/30 border-green-400 text-green-200":"bg-white/5 border-white/10 text-gray-300 hover:border-white/20"}`,children:[a.name,e.jsxs("span",{className:"text-xs ml-1 opacity-60",children:["(",a.category,")"]})]},a.name))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsx("h2",{className:"text-lg font-bold text-red-300 mb-4",children:"Outcome"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-red-300 block mb-2",children:"Did you manage the trigger successfully?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(!0),className:`flex-1 px-4 py-3 rounded-lg font-semibold border-2 transition-all ${P===!0?"border-green-400 bg-green-500/20 text-green-200":"border-white/10 bg-white/5 text-gray-300 hover:border-white/20"}`,children:"‚úì Yes, stayed strong"}),e.jsx("button",{onClick:()=>p(!1),className:`flex-1 px-4 py-3 rounded-lg font-semibold border-2 transition-all ${P===!1?"border-red-400 bg-red-500/20 text-red-200":"border-white/10 bg-white/5 text-gray-300 hover:border-white/20"}`,children:"‚úó Relapsed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-red-300 block mb-2",children:"What happened next?"}),e.jsx("textarea",{value:d,onChange:a=>x(a.target.value),placeholder:"How did the situation resolve? What did you learn?",className:"w-full h-24 bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-red-400/50 resize-none"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[e.jsx(Fe,{size:14,className:"inline mr-2"}),i]}),e.jsxs("button",{onClick:H,disabled:M||!r.trim(),className:"w-full px-6 py-4 rounded-lg bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white text-sm font-bold transition-all hover:scale-105 shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(ps,{size:18}),M?"Saving...":"Save Entry"]})]}),e.jsxs("div",{className:"bg-red-500/10 border border-red-400/30 rounded-xl p-4 text-sm text-red-100",children:[e.jsx("p",{className:"font-semibold mb-2",children:"üí° Why Track Triggers?"}),e.jsx("p",{className:"text-xs",children:"Identifying patterns in triggers helps you anticipate and prepare for high-risk situations before they escalate."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(zs,{icon:e.jsx(Ue,{size:14}),title:"This Week",value:l.thisWeek}),e.jsx(zs,{icon:e.jsx(De,{size:14}),title:"Managed",value:l.managed})]})]})]}),w.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-red-300 flex items-center gap-2 mb-8",children:[e.jsx(fe,{size:24})," Trigger Patterns & Insights"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-6",children:[e.jsx(fe,{size:20})," 14-Day Intensity"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ve,{data:c,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorTrigger",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]})}),e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888"}),e.jsx(oe,{domain:[0,10],stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px",color:"#fff"}}),e.jsx(Qe,{type:"monotone",dataKey:"intensity",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorTrigger)"})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-6",children:[e.jsx(ue,{size:20})," Trigger Types"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(ue,{data:s,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"name",stroke:"#888"}),e.jsx(oe,{allowDecimals:!1,stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}}),e.jsx(we,{dataKey:"count",fill:"#ef4444",radius:[8,8,0,0]})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-6",children:[e.jsx(Ts,{size:20})," HALT Factors"]}),e.jsx("div",{className:"h-72 flex items-center justify-center",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(bt,{children:[e.jsx(yt,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,value:m})=>m>0?`${a}: ${m}`:null,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((a,m)=>e.jsx(vt,{fill:y[m%y.length]},`cell-${m}`))}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-6",children:[e.jsx(gs,{size:20})," Coping Categories"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(ue,{data:n,layout:"horizontal",children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{type:"number",stroke:"#888"}),e.jsx(oe,{type:"category",dataKey:"name",stroke:"#888",width:100}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}}),e.jsx(we,{dataKey:"count",fill:"#10b981",radius:[0,8,8,0]})]})})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-red-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-300 flex items-center gap-2 mb-6",children:[e.jsx(qe,{size:20})," Recent Triggers"]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:w.slice(0,10).map((a,m)=>e.jsxs("div",{className:`p-6 bg-black/30 border-2 rounded-xl transition-all ${a.managed===!0?"border-green-400/30":a.managed===!1?"border-red-400/30":"border-white/10"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:a.date}),e.jsx("p",{className:"text-sm font-semibold text-white mt-1",children:a.triggerType})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-red-400",children:[a.intensity,"/10"]}),a.managed!==void 0&&e.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.managed?"bg-green-500/20 text-green-200":"bg-red-500/20 text-red-200"}`,children:a.managed?"Managed":"Relapsed"})]})]}),e.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:['"',a.description,'"']}),a.haltFactors&&a.haltFactors.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"HALT: "}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.haltFactors.map((T,U)=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-500/20 text-red-200 uppercase",children:T},U))})]}),a.copingUsed&&a.copingUsed.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Coping: "}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.copingUsed.slice(0,3).map((T,U)=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/20 text-green-200",children:T},U)),a.copingUsed.length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-green-500/20 text-green-200",children:["+",a.copingUsed.length-3," more"]})]})]}),a.outcome&&e.jsxs("p",{className:"text-sm text-gray-300 italic",children:[e.jsx("span",{className:"text-gray-400",children:"Outcome:"}),' "',a.outcome,'"']})]},m))})]})]})]})]})}function ms({title:i,value:f}){return e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:i}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:f})]})}function zs({icon:i,title:f,value:u}){return e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-red-400/30 p-4 backdrop-blur",children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-2 flex items-center gap-2",children:[i,f]}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:u})]})}function na(i){return i?.date?i.date:i?.createdAt?.seconds?new Date(i.createdAt.seconds*1e3).toISOString().slice(0,10):qs()}const la=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsxs("h1",{className:"tool-page-title",children:[e.jsx("span",{className:"tool-icon",children:"‚ö†Ô∏è"}),"Trigger Journal"]}),e.jsx("p",{className:"tool-page-subtitle",children:"Log triggers, analyze HALT factors, and track your coping strategies"})]}),e.jsx("div",{className:"tool-page-content",children:e.jsx(ra,{})}),e.jsxs("div",{className:"tool-page-footer",children:[e.jsxs("div",{className:"tool-tips",children:[e.jsx("h3",{children:"üí° Tips for Trigger Management"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Log triggers immediately or as soon as possible"}),e.jsx("li",{children:"Always complete the HALT check (Hungry, Angry, Lonely, Tired)"}),e.jsx("li",{children:"Be honest about whether you managed the trigger successfully"}),e.jsx("li",{children:"Track which coping strategies work best for you"}),e.jsx("li",{children:"Review your journal regularly to identify patterns"})]})]}),e.jsxs("div",{className:"tool-benefits",children:[e.jsx("h3",{children:"‚ú® Benefits of Trigger Journaling"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Identifies high-risk situations and patterns"}),e.jsx("li",{children:"Builds awareness of HALT factors in relapse"}),e.jsx("li",{children:"Tracks effectiveness of coping strategies"}),e.jsx("li",{children:"Provides data for treatment planning"}),e.jsx("li",{children:"Empowers you to prevent relapse proactively"})]})]})]})]}),ka=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),oa=()=>{const i=new Date,f=new Date(i);return f.setDate(i.getDate()-7),{start:f.toISOString().slice(0,10),end:i.toISOString().slice(0,10),label:`${f.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`}};function ca(){const[i]=o.useState(oa()),[f,u]=o.useState(!0),[r,g]=o.useState({moods:[],gratitude:[],meditation:[],emotions:[],triggers:[],urgeSurfing:[],dailyIntentions:[]});o.useEffect(()=>{(async()=>{u(!0);try{const x=["moods","gratitude","meditation","emotions","triggers","urgeSurfing","dailyIntentions"],P={};for(const p of x){const w=Ae(pe(he,p),xs("date",">=",i.start),xs("date","<=",i.end),We("date","asc")),S=await xt(w);P[p]=S.docs.map(M=>({id:M.id,...M.data()}))}g(P)}catch(x){console.error("weeklyReview:loadData",x)}u(!1)})()},[i]);const h=o.useMemo(()=>({moodEntries:r.moods.length,avgMood:r.moods.length>0?(r.moods.reduce((d,x)=>d+(x.score||0),0)/r.moods.length).toFixed(1):0,gratitudeCount:r.gratitude.reduce((d,x)=>d+(x.count||0),0),meditationMinutes:Math.floor(r.meditation.reduce((d,x)=>d+(x.duration||0)/60,0)),emotionEntries:r.emotions.length,avgEmotionIntensity:r.emotions.length>0?(r.emotions.reduce((d,x)=>d+(x.intensity||0),0)/r.emotions.length).toFixed(1):0,triggersLogged:r.triggers.length,triggersManaged:r.triggers.filter(d=>d.managed===!0).length,urgeSessions:r.urgeSurfing.length,avgUrgeDuration:r.urgeSurfing.length>0?Math.floor(r.urgeSurfing.reduce((d,x)=>d+(x.duration||0),0)/r.urgeSurfing.length):0,intentionsDays:r.dailyIntentions.length,avgHabits:r.dailyIntentions.length>0?(r.dailyIntentions.reduce((d,x)=>d+(x.habits?.filter(P=>P.completed).length||0),0)/r.dailyIntentions.length).toFixed(1):0}),[r]),k=o.useMemo(()=>{let d=0,x=0;return x+=20,d+=Math.min(h.moodEntries/7*20,20),x+=15,d+=Math.min(h.gratitudeCount/21*15,15),x+=15,d+=Math.min(h.meditationMinutes/70*15,15),x+=15,d+=Math.min(h.emotionEntries/7*15,15),x+=20,h.triggersLogged>0&&(d+=h.triggersManaged/h.triggersLogged*20),x+=15,d+=Math.min(h.intentionsDays/7*15,15),Math.round(d/x*100)},[h]),E=o.useMemo(()=>{const d={};for(let x=0;x<7;x++){const P=new Date;P.setDate(P.getDate()-(6-x));const p=P.toISOString().slice(0,10);d[p]={date:p,label:P.toLocaleDateString("en-US",{weekday:"short"}),moods:0,gratitude:0,meditation:0,emotions:0,triggers:0,intentions:0}}return r.moods.forEach(x=>{d[x.date]&&(d[x.date].moods+=1)}),r.gratitude.forEach(x=>{d[x.date]&&(d[x.date].gratitude+=1)}),r.meditation.forEach(x=>{d[x.date]&&(d[x.date].meditation+=1)}),r.emotions.forEach(x=>{d[x.date]&&(d[x.date].emotions+=1)}),r.triggers.forEach(x=>{d[x.date]&&(d[x.date].triggers+=1)}),r.dailyIntentions.forEach(x=>{d[x.date]&&(d[x.date].intentions+=1)}),Object.values(d)},[r]),B=o.useMemo(()=>[{tool:"Mood Graph",count:r.moods.length},{tool:"Gratitude",count:r.gratitude.length},{tool:"Meditation",count:r.meditation.length},{tool:"Emotions",count:r.emotions.length},{tool:"Triggers",count:r.triggers.length},{tool:"Urge Surfing",count:r.urgeSurfing.length},{tool:"Intentions",count:r.dailyIntentions.length}],[r]),N=o.useMemo(()=>{const d=(x,P)=>Math.min(x/P*100,100);return[{category:"Mood",value:d(h.moodEntries,7)},{category:"Gratitude",value:d(h.gratitudeCount,21)},{category:"Meditation",value:d(h.meditationMinutes,70)},{category:"Emotions",value:d(h.emotionEntries,7)},{category:"Triggers",value:d(h.triggersManaged,h.triggersLogged||1)},{category:"Intentions",value:d(h.intentionsDays,7)}]},[h]),R=o.useMemo(()=>{const d=[];return h.moodEntries>=5?d.push({type:"success",message:`Excellent mood tracking! You logged ${h.moodEntries} check-ins this week.`}):h.moodEntries<3&&d.push({type:"warning",message:"Try logging your mood daily to identify emotional patterns."}),h.meditationMinutes>=50&&d.push({type:"success",message:`Strong meditation practice! ${h.meditationMinutes} minutes of mindfulness.`}),h.triggersLogged>0&&h.triggersManaged/h.triggersLogged>=.75&&d.push({type:"success",message:`Impressive trigger management! You handled ${h.triggersManaged}/${h.triggersLogged} triggers successfully.`}),h.gratitudeCount>=14&&d.push({type:"success",message:`Gratitude habit strong! You logged ${h.gratitudeCount} items this week.`}),h.intentionsDays>=5&&d.push({type:"success",message:"Consistent with daily intentions - keep building that morning routine!"}),d.length===0&&d.push({type:"info",message:"Start using more tools to build a comprehensive wellness practice."}),d},[h]);return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading weekly review..."})}):e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 sticky top-0 backdrop-blur-md bg-slate-950/60 border-b border-indigo-400/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-indigo-400 to-violet-500 flex items-center justify-center shadow-lg shadow-indigo-500/30",children:e.jsx(Fe,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-indigo-400",children:"Weekly Review"}),e.jsx("p",{className:"text-xs text-gray-400",children:i.label})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Wellness Score"}),e.jsxs("p",{className:"text-3xl font-bold text-indigo-400",children:[k,"%"]})]}),e.jsx("div",{className:`w-20 h-20 rounded-full border-4 flex items-center justify-center ${k>=80?"border-green-400 text-green-400":k>=60?"border-indigo-400 text-indigo-400":"border-yellow-400 text-yellow-400"}`,children:e.jsx(De,{size:32})})]})})]})})}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-500/20 to-violet-500/10 rounded-3xl border border-indigo-400/30 p-8 backdrop-blur mb-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block w-32 h-32 rounded-full border-8 border-indigo-400 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-5xl font-bold text-indigo-400",children:k})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Weekly Wellness Score"}),e.jsx("p",{className:"text-gray-400",children:k>=80?"Outstanding! You're crushing your wellness goals.":k>=60?"Great progress! Keep building momentum.":"Good start! Small steps lead to big changes."})]})}),e.jsxs("h2",{className:"text-2xl font-bold text-indigo-300 flex items-center gap-2 mb-6",children:[e.jsx(fe,{size:24})," Key Metrics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[e.jsx(Se,{icon:e.jsx(Ce,{size:20}),title:"Mood Logs",value:h.moodEntries,subtitle:`Avg: ${h.avgMood}`,color:"pink"}),e.jsx(Se,{icon:e.jsx(Ie,{size:20}),title:"Gratitude",value:h.gratitudeCount,subtitle:"items",color:"green"}),e.jsx(Se,{icon:e.jsx(ut,{size:20}),title:"Meditation",value:h.meditationMinutes,subtitle:"minutes",color:"purple"}),e.jsx(Se,{icon:e.jsx(qe,{size:20}),title:"Triggers",value:`${h.triggersManaged}/${h.triggersLogged}`,subtitle:"managed",color:"red"}),e.jsx(Se,{icon:e.jsx(Ce,{size:20}),title:"Emotions",value:h.emotionEntries,subtitle:`Avg: ${h.avgEmotionIntensity}`,color:"pink"}),e.jsx(Se,{icon:e.jsx(Xe,{size:20}),title:"Intentions",value:h.intentionsDays,subtitle:`Avg: ${h.avgHabits} habits`,color:"amber"}),e.jsx(Se,{icon:e.jsx(Ue,{size:20}),title:"Urge Sessions",value:h.urgeSessions,subtitle:`Avg: ${h.avgUrgeDuration}s`,color:"orange"}),e.jsx(Se,{icon:e.jsx(gs,{size:20}),title:"Active Tools",value:B.filter(d=>d.count>0).length,subtitle:"of 7",color:"indigo"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-indigo-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2 mb-6",children:[e.jsx(Fe,{size:20})," Daily Activity"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs($s,{data:E,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"label",stroke:"#888"}),e.jsx(oe,{stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px",color:"#fff"}}),e.jsx(Be,{type:"monotone",dataKey:"moods",stroke:"#ec4899",strokeWidth:2}),e.jsx(Be,{type:"monotone",dataKey:"gratitude",stroke:"#10b981",strokeWidth:2}),e.jsx(Be,{type:"monotone",dataKey:"meditation",stroke:"#a855f7",strokeWidth:2}),e.jsx(Be,{type:"monotone",dataKey:"intentions",stroke:"#fbbf24",strokeWidth:2})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-indigo-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2 mb-6",children:[e.jsx(Xe,{size:20})," Tool Engagement"]}),e.jsx("div",{className:"h-72",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(ue,{data:B,children:[e.jsx(ne,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),e.jsx(le,{dataKey:"tool",stroke:"#888",angle:-45,textAnchor:"end",height:100}),e.jsx(oe,{stroke:"#888"}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}}),e.jsx(we,{dataKey:"count",fill:"#6366f1",radius:[8,8,0,0]})]})})})]}),e.jsxs("div",{className:"lg:col-span-2 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-indigo-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2 mb-6",children:[e.jsx(De,{size:20})," Wellness Balance"]}),e.jsx("div",{className:"h-96",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ls,{data:N,children:[e.jsx(Ws,{stroke:"#444"}),e.jsx(Us,{dataKey:"category",stroke:"#888"}),e.jsx(Gs,{angle:90,domain:[0,100],stroke:"#888"}),e.jsx(Ks,{name:"Progress",dataKey:"value",stroke:"#6366f1",fill:"#6366f1",fillOpacity:.6}),e.jsx(ae,{contentStyle:{background:"#111",border:"1px solid #2a2a2a",borderRadius:"8px"}})]})})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-indigo-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2 mb-6",children:[e.jsx(Ie,{size:20})," Weekly Insights"]}),e.jsx("div",{className:"space-y-3",children:R.map((d,x)=>e.jsx("div",{className:`p-4 rounded-xl border-2 ${d.type==="success"?"border-green-400/30 bg-green-500/10":d.type==="warning"?"border-yellow-400/30 bg-yellow-500/10":"border-indigo-400/30 bg-indigo-500/10"}`,children:e.jsx("p",{className:"text-sm text-white",children:d.message})},x))})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-br from-indigo-500/20 to-violet-500/10 rounded-2xl border border-indigo-400/30 p-8 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2 mb-6",children:[e.jsx(Xe,{size:20})," Focus Areas for Next Week"]}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-300",children:[h.moodEntries<5&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-indigo-400",children:"‚Ä¢"}),e.jsx("span",{children:"Log your mood daily to build self-awareness and track emotional patterns"})]}),h.meditationMinutes<50&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-indigo-400",children:"‚Ä¢"}),e.jsx("span",{children:"Aim for 10 minutes of meditation per day to reduce stress and improve focus"})]}),h.gratitudeCount<14&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-indigo-400",children:"‚Ä¢"}),e.jsx("span",{children:"Practice gratitude daily - even 2-3 items can shift your perspective"})]}),h.intentionsDays<5&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-indigo-400",children:"‚Ä¢"}),e.jsx("span",{children:"Set daily intentions each morning to maintain focus and purpose"})]}),h.triggersLogged===0&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-indigo-400",children:"‚Ä¢"}),e.jsx("span",{children:"Start tracking triggers to identify patterns and build coping strategies"})]})]})]})]})]})}function Se({icon:i,title:f,value:u,subtitle:r,color:g}){const h={pink:"border-pink-400/30 bg-pink-500/10 text-pink-400",green:"border-green-400/30 bg-green-500/10 text-green-400",purple:"border-purple-400/30 bg-purple-500/10 text-purple-400",red:"border-red-400/30 bg-red-500/10 text-red-400",amber:"border-amber-400/30 bg-amber-500/10 text-amber-400",orange:"border-orange-400/30 bg-orange-500/10 text-orange-400",indigo:"border-indigo-400/30 bg-indigo-500/10 text-indigo-400"};return e.jsxs("div",{className:`rounded-2xl border-2 p-6 backdrop-blur ${h[g]}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i,e.jsx("p",{className:"text-xs font-semibold",children:f})]}),e.jsx("p",{className:"text-3xl font-bold mb-1",children:u}),e.jsx("p",{className:"text-xs opacity-80",children:r})]})}const da=()=>e.jsxs("div",{className:"tool-page",children:[e.jsxs("div",{className:"tool-page-header",children:[e.jsxs("h1",{className:"tool-page-title",children:[e.jsx("span",{className:"tool-icon",children:"üìä"}),"Weekly Review"]}),e.jsx("p",{className:"tool-page-subtitle",children:"Get insights into your wellness journey with cross-tool analytics"})]}),e.jsx("div",{className:"tool-page-content",children:e.jsx(ca,{})}),e.jsxs("div",{className:"tool-page-footer",children:[e.jsxs("div",{className:"tool-tips",children:[e.jsx("h3",{children:"üí° Tips for Weekly Reviews"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Set aside time each week for reflection"}),e.jsx("li",{children:"Celebrate small wins and progress"}),e.jsx("li",{children:"Use insights to adjust your wellness strategies"}),e.jsx("li",{children:"Focus on patterns rather than individual days"}),e.jsx("li",{children:"Share your wellness score with your support system"})]})]}),e.jsxs("div",{className:"tool-benefits",children:[e.jsx("h3",{children:"‚ú® Benefits of Weekly Reviews"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Provides a holistic view of your wellness journey"}),e.jsx("li",{children:"Identifies which tools are most helpful for you"}),e.jsx("li",{children:"Motivates continued engagement with positive feedback"}),e.jsx("li",{children:"Helps spot warning signs early"}),e.jsx("li",{children:"Creates accountability and tracks long-term progress"})]})]})]})]}),Sa=Object.freeze(Object.defineProperty({__proto__:null,default:da},Symbol.toStringTag,{value:"Module"}));export{ga as A,wa as E,va as G,pa as M,ja as S,ba as T,Sa as W,fa as a,ya as b,Na as c,ka as d};

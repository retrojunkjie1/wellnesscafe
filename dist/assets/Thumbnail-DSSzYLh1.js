const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/core-libs-BseDu1u3.js","assets/react-vendor-B5xUu9wX.js","assets/ai-engine-BQFxlMsO.js","assets/ui-heavy-8XJPmDUO.js","assets/ai-engine-BQSxPaH7.css","assets/react-vendor-DOnzI3fN.css"])))=>i.map(i=>d[i]);
import{_ as w}from"./index-DIOk37Xh.js";import{r as u,j as c}from"./react-vendor-B5xUu9wX.js";import{P as n}from"./ai-engine-BQFxlMsO.js";const o="/images/naaa.jpg",x=r=>/^https?:\/\//i.test(r||""),L=r=>String(r||"").startsWith("/"),f=r=>{if(!r)return o;let t=String(r).trim();return/^http:\/\//i.test(t)&&(t=t.replace(/^http:\/\//i,"https://")),!x(t)&&!L(t)&&(t=`/${t.replace(/^\.\//,"")}`),t},j=({src:r,alt:t,className:l="",onClick:m,role:S})=>{const[a,s]=u.useState(()=>f(r));u.useEffect(()=>{const e=String(r||"");if(/^gs:\/\//i.test(e)){(async()=>{try{const i=await w(()=>import("./core-libs-BseDu1u3.js").then(E=>E.am),__vite__mapDeps([0,1,2,3,4,5])),{getStorage:d,ref:h,getDownloadURL:b}=i,p=d?.();if(!p){s(o);return}const _=h(p,e),y=await b(_);s(y)}catch(i){console.warn("thumbnail gs:// resolve failed",i),s(o)}})();return}s(f(r))},[r]);const g=e=>{a!==o&&s(o)};if(m){const e=t?{"aria-label":t}:{};return c.jsx("button",{type:"button",className:`wc-thumb-btn ${l}`,onClick:m,...e,children:c.jsx("img",{src:a,alt:t||"",onError:g,className:"wc-thumb",loading:"lazy",decoding:"async"})})}return c.jsx("img",{src:a,alt:t||"",onError:g,className:`wc-thumb ${l}`,loading:"lazy",decoding:"async"})};j.propTypes={src:n.string,alt:n.string,className:n.string,onClick:n.func,role:n.string};export{j as T};

import{r as n,j as e}from"./react-vendor-DQKasmcJ.js";import{T as D}from"./Thumbnail-C18ZKhkH.js";import{q as $,c as k,w as N,u as R,N as I,v as q}from"./core-libs-CRuXokP_.js";import{d as y}from"./ai-engine-BvKxDwCC.js";import"./ui-heavy-yHDudVwC.js";const G=()=>{const[x,C]=n.useState([]),[p,j]=n.useState([]),[b,h]=n.useState(!0),[r,v]=n.useState(""),[i,g]=n.useState({specialty:"",location:"",insurance:"",appointmentType:"",language:"",minRating:0,maxPrice:500}),[m,w]=n.useState(!1),T=["Trauma Therapy","Anxiety Disorders","Depression","Couples Counseling","Family Therapy","Mindfulness-Based CBT","EMDR","DBT","ACT","Art Therapy","Yoga Therapy","Acupuncture","Massage Therapy"],S=["Aetna","Blue Cross Blue Shield","Cigna","United Healthcare","Medicare","Medicaid","Self-Pay Only"],P=["English","Spanish","French","German","Chinese","Japanese","Korean"],M=["in-person","virtual","hybrid"];n.useEffect(()=>{(async()=>{if(!y){console.warn("Firestore not available - provider directory will show empty"),h(!1);return}try{const a=$(k(y,"providers"),N("active","==",!0),N("verified","==",!0),R("rating","desc"),I(100));return q(a,d=>{const l=[];for(const t of d.docs)l.push({id:t.id,...t.data()});C(l),j(l),h(!1)})}catch(a){console.error("Error loading providers:",a),h(!1)}})()},[]),n.useEffect(()=>{let s=x.filter(a=>{const o=r===""||a.name.toLowerCase().includes(r.toLowerCase())||a.bio.toLowerCase().includes(r.toLowerCase())||a.specialties.some(u=>u.toLowerCase().includes(r.toLowerCase())),d=i.specialty===""||a.specialties.includes(i.specialty),l=i.location===""||a.location.city.toLowerCase().includes(i.location.toLowerCase())||a.location.state.toLowerCase().includes(i.location.toLowerCase()),t=i.insurance===""||a.insuranceAccepted.includes(i.insurance),F=i.appointmentType===""||a.availability.appointmentTypes.includes(i.appointmentType),L=i.language===""||a.languages.includes(i.language),B=a.rating>=i.minRating,E=a.services.some(u=>u.price<=i.maxPrice);return o&&d&&l&&t&&F&&L&&B&&E});j(s)},[x,r,i]);const c=(s,a)=>{g(o=>({...o,[s]:a}))},f=()=>{g({specialty:"",location:"",insurance:"",appointmentType:"",language:"",minRating:0,maxPrice:500}),v("")},A=s=>{const a=[],o=Math.floor(s),d=s%1!==0;for(let t=0;t<o;t++)a.push(e.jsx("span",{className:"star filled",children:"â˜…"},t));d&&a.push(e.jsx("span",{className:"star half",children:"â˜…"},"half"));const l=5-Math.ceil(s);for(let t=0;t<l;t++)a.push(e.jsx("span",{className:"star empty",children:"â˜†"},`empty-${t}`));return a};return b?e.jsx("div",{className:"provider-directory",children:e.jsx("div",{className:"loading-spinner",children:"Loading wellness providers..."})}):e.jsxs("div",{className:"provider-directory",children:[e.jsxs("div",{className:"directory-header",children:[e.jsx("h1",{children:"Find Your Wellness Provider"}),e.jsx("p",{children:"Connect with licensed professionals who support recovery, mindfulness, and holistic care. Browse specialties, appointment types, languages, insurance options, and price."}),e.jsxs("div",{className:"directory-cta",children:[e.jsx("a",{className:"btn",href:"/providers/apply",children:"Apply to Join the Network"}),e.jsx("a",{className:"btn secondary",href:"/providers/benefits",children:"See Provider Benefits"})]})]}),e.jsxs("div",{className:"search-section",children:[e.jsxs("div",{className:"search-bar",children:[e.jsx("input",{type:"text",placeholder:"Search by name, specialty, or keywords...",value:r,onChange:s=>v(s.target.value),className:"search-input"}),e.jsxs("button",{className:"filter-toggle",onClick:()=>w(!m),children:["Filters ",m?"âˆ’":"+"]})]}),m&&e.jsxs("div",{className:"filters-panel",children:[e.jsxs("div",{className:"filter-row",children:[e.jsxs("select",{value:i.specialty,onChange:s=>c("specialty",s.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Specialties"}),T.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("input",{type:"text",placeholder:"Location (city, state)",value:i.location,onChange:s=>c("location",s.target.value),className:"filter-input"}),e.jsxs("select",{value:i.insurance,onChange:s=>c("insurance",s.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Insurance"}),S.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"filter-row",children:[e.jsxs("select",{value:i.appointmentType,onChange:s=>c("appointmentType",s.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Appointment Types"}),M.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]}),e.jsxs("select",{value:i.language,onChange:s=>c("language",s.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Languages"}),P.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("div",{className:"price-filter",children:[e.jsxs("label",{children:["Max Price: $",i.maxPrice]}),e.jsx("input",{type:"range",min:"50",max:"500",step:"25",value:i.maxPrice,onChange:s=>c("maxPrice",Number.parseInt(s.target.value,10)),className:"price-slider"})]})]}),e.jsx("div",{className:"filter-actions",children:e.jsx("button",{onClick:f,className:"clear-filters-btn",children:"Clear All Filters"})})]})]}),e.jsxs("div",{className:"results-section",children:[e.jsx("div",{className:"results-header",children:e.jsxs("h2",{children:[p.length," Providers Found"]})}),e.jsx("div",{className:"providers-grid",children:p.map(s=>e.jsxs("div",{className:"provider-card",children:[e.jsxs("div",{className:"provider-header",children:[e.jsx("div",{className:"provider-avatar",children:s.profileImage?e.jsx(D,{src:(()=>{const a=String(s.profileImage||"");return/\.png(\?.*)?$/i.test(a)?a.replace(/\.png(\?.*)?$/i,".jpg"):a})(),alt:s.name}):e.jsx("div",{className:"avatar-placeholder",children:s.name.split(" ").map(a=>a[0]).join("")})}),e.jsxs("div",{className:"provider-info",children:[e.jsx("h3",{children:s.name}),e.jsx("p",{className:"provider-title",children:s.title}),e.jsxs("div",{className:"provider-rating",children:[A(s.rating),e.jsxs("span",{className:"rating-text",children:[s.rating," (",s.reviewCount," reviews)"]})]})]})]}),e.jsxs("div",{className:"provider-details",children:[e.jsx("p",{className:"provider-bio",children:s.bio.length>120?s.bio.substring(0,120)+"...":s.bio}),e.jsxs("div",{className:"provider-specialties",children:[s.specialties.slice(0,3).map(a=>e.jsx("span",{className:"specialty-tag",children:a},a)),s.specialties.length>3&&e.jsxs("span",{className:"specialty-more",children:["+",s.specialties.length-3," more"]})]}),e.jsxs("div",{className:"provider-location",children:[e.jsx("span",{className:"location-icon",children:"ðŸ“"}),s.location.city,", ",s.location.state]}),e.jsxs("div",{className:"provider-services",children:[e.jsxs("div",{className:"service-price",children:["From $",Math.min(...s.services.map(a=>a.price)),"/session"]}),e.jsx("div",{className:"appointment-types",children:s.availability.appointmentTypes.map(a=>e.jsx("span",{className:`appointment-badge ${a}`,children:a},a))})]})]}),e.jsxs("div",{className:"provider-actions",children:[e.jsx("button",{className:"view-profile-btn",children:"View Profile"}),e.jsx("button",{className:"contact-btn",children:"Contact"})]})]},s.id))}),p.length===0&&e.jsxs("div",{className:"no-results",children:[e.jsx("h3",{children:"No providers found"}),e.jsx("p",{children:"Try adjusting your search criteria or filters"}),e.jsx("button",{onClick:f,className:"clear-filters-btn",children:"Clear All Filters"})]})]})]})};export{G as default};
